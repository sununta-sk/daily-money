(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Kb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sd={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Yb(){if(V_)return It;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,st={};function et(D,W,rt){this.props=D,this.context=W,this.refs=st,this.updater=rt||G}et.prototype.isReactComponent={},et.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},et.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function St(){}St.prototype=et.prototype;function dt(D,W,rt){this.props=D,this.context=W,this.refs=st,this.updater=rt||G}var ft=dt.prototype=new St;ft.constructor=dt,J(ft,et.prototype),ft.isPureReactComponent=!0;var Dt=Array.isArray,Et={H:null,A:null,T:null,S:null,V:null},Ct=Object.prototype.hasOwnProperty;function O(D,W,rt,tt,ct,Rt){return rt=Rt.ref,{$$typeof:r,type:D,key:W,ref:rt!==void 0?rt:null,props:Rt}}function b(D,W){return O(D.type,W,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(rt){return W[rt]})}var V=/\/+/g;function k(D,W){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):W.toString(36)}function I(){}function ie(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function oe(D,W,rt,tt,ct){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case r:case t:yt=!0;break;case T:return yt=D._init,oe(yt(D._payload),W,rt,tt,ct)}}if(yt)return ct=ct(D),yt=tt===""?"."+k(D,0):tt,Dt(ct)?(rt="",yt!=null&&(rt=yt.replace(V,"$&/")+"/"),oe(ct,W,rt,"",function(nn){return nn})):ct!=null&&(R(ct)&&(ct=b(ct,rt+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(V,"$&/")+"/")+yt)),W.push(ct)),1;yt=0;var he=tt===""?".":tt+":";if(Dt(D))for(var Qt=0;Qt<D.length;Qt++)tt=D[Qt],Rt=he+k(tt,Qt),yt+=oe(tt,W,rt,Rt,ct);else if(Qt=C(D),typeof Qt=="function")for(D=Qt.call(D),Qt=0;!(tt=D.next()).done;)tt=tt.value,Rt=he+k(tt,Qt++),yt+=oe(tt,W,rt,Rt,ct);else if(Rt==="object"){if(typeof D.then=="function")return oe(ie(D),W,rt,tt,ct);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return yt}function Q(D,W,rt){if(D==null)return D;var tt=[],ct=0;return oe(D,tt,"","",function(Rt){return W.call(rt,Rt,ct++)}),tt}function it(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(rt){(D._status===0||D._status===-1)&&(D._status=1,D._result=rt)},function(rt){(D._status===0||D._status===-1)&&(D._status=2,D._result=rt)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ut=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ut(){}return It.Children={map:Q,forEach:function(D,W,rt){Q(D,function(){W.apply(this,arguments)},rt)},count:function(D){var W=0;return Q(D,function(){W++}),W},toArray:function(D){return Q(D,function(W){return W})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},It.Component=et,It.Fragment=n,It.Profiler=o,It.PureComponent=dt,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,It.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Et.H.useMemoCache(D)}},It.cache=function(D){return function(){return D.apply(null,arguments)}},It.cloneElement=function(D,W,rt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=J({},D.props),ct=D.key,Rt=void 0;if(W!=null)for(yt in W.ref!==void 0&&(Rt=void 0),W.key!==void 0&&(ct=""+W.key),W)!Ct.call(W,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&W.ref===void 0||(tt[yt]=W[yt]);var yt=arguments.length-2;if(yt===1)tt.children=rt;else if(1<yt){for(var he=Array(yt),Qt=0;Qt<yt;Qt++)he[Qt]=arguments[Qt+2];tt.children=he}return O(D.type,ct,void 0,void 0,Rt,tt)},It.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},It.createElement=function(D,W,rt){var tt,ct={},Rt=null;if(W!=null)for(tt in W.key!==void 0&&(Rt=""+W.key),W)Ct.call(W,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ct[tt]=W[tt]);var yt=arguments.length-2;if(yt===1)ct.children=rt;else if(1<yt){for(var he=Array(yt),Qt=0;Qt<yt;Qt++)he[Qt]=arguments[Qt+2];ct.children=he}if(D&&D.defaultProps)for(tt in yt=D.defaultProps,yt)ct[tt]===void 0&&(ct[tt]=yt[tt]);return O(D,Rt,void 0,void 0,null,ct)},It.createRef=function(){return{current:null}},It.forwardRef=function(D){return{$$typeof:g,render:D}},It.isValidElement=R,It.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:it}},It.memo=function(D,W){return{$$typeof:y,type:D,compare:W===void 0?null:W}},It.startTransition=function(D){var W=Et.T,rt={};Et.T=rt;try{var tt=D(),ct=Et.S;ct!==null&&ct(rt,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Ut,ut)}catch(Rt){ut(Rt)}finally{Et.T=W}},It.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},It.use=function(D){return Et.H.use(D)},It.useActionState=function(D,W,rt){return Et.H.useActionState(D,W,rt)},It.useCallback=function(D,W){return Et.H.useCallback(D,W)},It.useContext=function(D){return Et.H.useContext(D)},It.useDebugValue=function(){},It.useDeferredValue=function(D,W){return Et.H.useDeferredValue(D,W)},It.useEffect=function(D,W,rt){var tt=Et.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(D,W)},It.useId=function(){return Et.H.useId()},It.useImperativeHandle=function(D,W,rt){return Et.H.useImperativeHandle(D,W,rt)},It.useInsertionEffect=function(D,W){return Et.H.useInsertionEffect(D,W)},It.useLayoutEffect=function(D,W){return Et.H.useLayoutEffect(D,W)},It.useMemo=function(D,W){return Et.H.useMemo(D,W)},It.useOptimistic=function(D,W){return Et.H.useOptimistic(D,W)},It.useReducer=function(D,W,rt){return Et.H.useReducer(D,W,rt)},It.useRef=function(D){return Et.H.useRef(D)},It.useState=function(D){return Et.H.useState(D)},It.useSyncExternalStore=function(D,W,rt){return Et.H.useSyncExternalStore(D,W,rt)},It.useTransition=function(){return Et.H.useTransition()},It.version="19.1.0",It}var x_;function Tm(){return x_||(x_=1,Sd.exports=Yb()),Sd.exports}var Lt=Tm();const F=Kb(Lt);var wd={exports:{}},Ol={},Rd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function Xb(){return k_||(k_=1,function(r){function t(Q,it){var ut=Q.length;Q.push(it);t:for(;0<ut;){var Ut=ut-1>>>1,D=Q[Ut];if(0<o(D,it))Q[Ut]=it,Q[ut]=D,ut=Ut;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var it=Q[0],ut=Q.pop();if(ut!==it){Q[0]=ut;t:for(var Ut=0,D=Q.length,W=D>>>1;Ut<W;){var rt=2*(Ut+1)-1,tt=Q[rt],ct=rt+1,Rt=Q[ct];if(0>o(tt,ut))ct<D&&0>o(Rt,tt)?(Q[Ut]=Rt,Q[ct]=ut,Ut=ct):(Q[Ut]=tt,Q[rt]=ut,Ut=rt);else if(ct<D&&0>o(Rt,ut))Q[Ut]=Rt,Q[ct]=ut,Ut=ct;else break t}}return it}function o(Q,it){var ut=Q.sortIndex-it.sortIndex;return ut!==0?ut:Q.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],y=[],T=1,w=null,C=3,G=!1,J=!1,st=!1,et=!1,St=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Dt(Q){for(var it=n(y);it!==null;){if(it.callback===null)s(y);else if(it.startTime<=Q)s(y),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(y)}}function Et(Q){if(st=!1,Dt(Q),!J)if(n(p)!==null)J=!0,Ct||(Ct=!0,k());else{var it=n(y);it!==null&&oe(Et,it.startTime-Q)}}var Ct=!1,O=-1,b=5,R=-1;function M(){return et?!0:!(r.unstable_now()-R<b)}function V(){if(et=!1,Ct){var Q=r.unstable_now();R=Q;var it=!0;try{t:{J=!1,st&&(st=!1,dt(O),O=-1),G=!0;var ut=C;try{e:{for(Dt(Q),w=n(p);w!==null&&!(w.expirationTime>Q&&M());){var Ut=w.callback;if(typeof Ut=="function"){w.callback=null,C=w.priorityLevel;var D=Ut(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof D=="function"){w.callback=D,Dt(Q),it=!0;break e}w===n(p)&&s(p),Dt(Q)}else s(p);w=n(p)}if(w!==null)it=!0;else{var W=n(y);W!==null&&oe(Et,W.startTime-Q),it=!1}}break t}finally{w=null,C=ut,G=!1}it=void 0}}finally{it?k():Ct=!1}}}var k;if(typeof ft=="function")k=function(){ft(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ie=I.port2;I.port1.onmessage=V,k=function(){ie.postMessage(null)}}else k=function(){St(V,0)};function oe(Q,it){O=St(function(){Q(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var it=3;break;default:it=C}var ut=C;C=it;try{return Q()}finally{C=ut}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(Q,it){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ut=C;C=Q;try{return it()}finally{C=ut}},r.unstable_scheduleCallback=function(Q,it,ut){var Ut=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ut+ut:Ut):ut=Ut,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ut+D,Q={id:T++,callback:it,priorityLevel:Q,startTime:ut,expirationTime:D,sortIndex:-1},ut>Ut?(Q.sortIndex=ut,t(y,Q),n(p)===null&&Q===n(y)&&(st?(dt(O),O=-1):st=!0,oe(Et,ut-Ut))):(Q.sortIndex=D,t(p,Q),J||G||(J=!0,Ct||(Ct=!0,k()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var it=C;return function(){var ut=C;C=it;try{return Q.apply(this,arguments)}finally{C=ut}}}}(Id)),Id}var P_;function $b(){return P_||(P_=1,Rd.exports=Xb()),Rd.exports}var Cd={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function Zb(){if(U_)return Ze;U_=1;var r=Tm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,T)},Ze.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Ze.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:G}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:C,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ze.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,y){return p(y)},Ze.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Ze.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ze.version="19.1.0",Ze}var L_;function Wb(){if(L_)return Cd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=Zb(),Cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function Jb(){if(z_)return Ol;z_=1;var r=$b(),t=Tm(),n=Wb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case et:return"Profiler";case st:return"StrictMode";case Et:return"Suspense";case Ct:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ft:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case Dt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var oe=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Ut=[],D=-1;function W(e){return{current:e}}function rt(e){0>D||(e.current=Ut[D],Ut[D]=null,D--)}function tt(e,i){D++,Ut[D]=e.current,e.current=i}var ct=W(null),Rt=W(null),yt=W(null),he=W(null);function Qt(e,i){switch(tt(yt,i),tt(Rt,e),tt(ct,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?o_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=o_(i),e=l_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(ct),tt(ct,e)}function nn(){rt(ct),rt(Rt),rt(yt)}function Cn(e){e.memoizedState!==null&&tt(he,e);var i=ct.current,a=l_(i,e.type);i!==a&&(tt(Rt,e),tt(ct,a))}function cn(e){Rt.current===e&&(rt(ct),rt(Rt)),he.current===e&&(rt(he),Rl._currentValue=ut)}var Qn=Object.prototype.hasOwnProperty,Dn=r.unstable_scheduleCallback,Kn=r.unstable_cancelCallback,di=r.unstable_shouldYield,wr=r.unstable_requestPaint,Be=r.unstable_now,ua=r.unstable_getCurrentPriorityLevel,mi=r.unstable_ImmediatePriority,Yn=r.unstable_UserBlockingPriority,Xn=r.unstable_NormalPriority,ps=r.unstable_LowPriority,Bi=r.unstable_IdlePriority,qi=r.log,ca=r.unstable_setDisableYieldValue,le=null,Ft=null;function rn(e){if(typeof qi=="function"&&ca(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(le,e)}catch{}}var Ve=Math.clz32?Math.clz32:Hi,ha=Math.log,Oo=Math.LN2;function Hi(e){return e>>>=0,e===0?32:31-(ha(e)/Oo|0)|0}var ji=256,Fi=4194304;function _n(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rr(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=_n(l):(v&=E,v!==0?h=_n(v):a||(a=E&~e,a!==0&&(h=_n(a))))):(E=l&~d,E!==0?h=_n(E):v!==0?h=_n(v):a||(a=l&~e,a!==0&&(h=_n(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function gi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ir(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cr(){var e=ji;return ji<<=1,(ji&4194048)===0&&(ji=256),e}function ys(){var e=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),e}function $n(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Zn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _s(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,S=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Ve(a),X=1<<K;E[K]=0,S[K]=-1;var B=z[K];if(B!==null)for(z[K]=null,K=0;K<B.length;K++){var q=B[K];q!==null&&(q.lane&=-536870913)}a&=~X}l!==0&&Nn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Nn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ve(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function vs(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ve(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function pi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yi(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:I_(e.type))}function fa(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var re=Math.random().toString(36).slice(2),pe="__reactFiber$"+re,ue="__reactProps$"+re,sn="__reactContainer$"+re,_i="__reactEvents$"+re,da="__reactListeners$"+re,Wn="__reactHandles$"+re,ma="__reactResources$"+re,Gi="__reactMarker$"+re;function vi(e){delete e[pe],delete e[ue],delete e[_i],delete e[da],delete e[Wn]}function Jn(e){var i=e[pe];if(i)return i;for(var a=e.parentNode;a;){if(i=a[sn]||a[pe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=f_(e);e!==null;){if(a=e[pe])return a;e=f_(e)}return i}e=a,a=e.parentNode}return null}function On(e){if(e=e[pe]||e[sn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Mn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function P(e){var i=e[ma];return i||(i=e[ma]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function H(e){e[Gi]=!0}var _t=new Set,Xt={};function we(e,i){qe(e,i),qe(e+"Capture",i)}function qe(e,i){for(Xt[e]=i,e=0;e<i.length;e++)_t.add(i[e])}var ti=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ga={},Qi={};function Mo(e){return Qn.call(Qi,e)?!0:Qn.call(ga,e)?!1:ti.test(e)?Qi[e]=!0:(ga[e]=!0,!1)}function Ei(e,i,a){if(Mo(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Re(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function He(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Es,au;function Ki(e){if(Es===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Es=i&&i[1]||"",au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+e+au}var pa=!1;function ya(e,i){if(!e||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){B=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var S=v.split(`
`),z=E.split(`
`);for(h=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===S.length||h===z.length)for(l=S.length-1,h=z.length-1;1<=l&&0<=h&&S[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(S[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||S[l]!==z[h]){var K=`
`+S[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ki(a):""}function Vo(e){switch(e.tag){case 26:case 27:case 5:return Ki(e.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return ya(e.type,!1);case 11:return ya(e.type.render,!1);case 1:return ya(e.type,!0);case 31:return Ki("Activity");default:return""}}function _a(e){try{var i="";do i+=Vo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ih(e){var i=xo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function va(e){e._valueTracker||(e._valueTracker=Ih(e))}function ko(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=xo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ch=/[\n"\\]/g;function Ee(e){return e.replace(Ch,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vn(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+an(i)):e.value!==""+an(i)&&(e.value=""+an(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Nr(e,v,an(i)):a!=null?Nr(e,v,an(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+an(E):e.removeAttribute("name")}function As(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+an(a):"",i=i!=null?""+an(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Nr(e,i,a){i==="number"&&Ts(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Yi(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+an(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Wt(e,i,a){if(i!=null&&(i=""+an(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+an(a):""}function bs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=an(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ou(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Ss.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Po(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ou(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ou(e,d,i[d])}function Uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(e){return Nh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Xi=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $i=null,Zi=null;function Lo(e){var i=On(e);if(i&&(e=i.stateNode)){var a=e[ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(vn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ee(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ue]||null;if(!h)throw Error(s(90));vn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ko(l)}break t;case"textarea":Wt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Yi(e,!!a.multiple,i,!1)}}}var Ti=!1;function lu(e,i,a){if(Ti)return e(i,a);Ti=!0;try{var l=e(i);return l}finally{if(Ti=!1,($i!==null||Zi!==null)&&(ec(),$i&&(i=$i,e=Zi,Zi=$i=null,Lo(i),e)))for(i=0;i<e.length;i++)Lo(e[i])}}function ws(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ue]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(ei)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{kn=!1}var Ai=null,Or=null,Wi=null;function zo(){if(Wi)return Wi;var e,i=Or,a=i.length,l,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Wi=h.slice(e,1<l?1-l:void 0)}function bi(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Si(){return!0}function Bo(){return!1}function xe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Si:Bo,this.isPropagationStopped=Bo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),i}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=xe(Kt),Is=T({},Kt,{view:0,detail:0}),uu=xe(Is),Aa,ba,wi,Cs=T({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Aa=e.screenX-wi.screenX,ba=e.screenY-wi.screenY):ba=Aa=0,wi=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Pn=xe(Cs),cu=T({},Cs,{dataTransfer:0}),Oh=xe(cu),Ds=T({},Is,{relatedTarget:0}),Sa=xe(Ds),qo=T({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=xe(qo),hu=T({},Kt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ra=xe(hu),Mh=T({},Kt,{data:0}),Ho=xe(Mh),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=du[e])?!!i[e]:!1}function Os(){return jo}var mu=T({},Is,{key:function(e){if(e.key){var i=Ns[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ia=xe(mu),gu=T({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=xe(gu),Ji=T({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),pu=xe(Ji),yu=T({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=xe(yu),vu=T({},Cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=xe(vu),on=T({},Kt,{newState:0,oldState:0}),Eu=xe(on),Tu=[9,13,27,32],Ri=ei&&"CompositionEvent"in window,u=null;ei&&"documentMode"in document&&(u=document.documentMode);var m=ei&&"TextEvent"in window&&!u,_=ei&&(!Ri||u&&8<u&&11>=u),A=" ",U=!1;function j(e,i){switch(e){case"keyup":return Tu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zt=!1;function Ie(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return e=i.data,e===A&&U?null:e;default:return null}}function Bt(e,i){if(zt)return e==="compositionend"||!Ri&&j(e,i)?(e=zo(),Wi=Or=Ai=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ke[e.type]:i==="textarea"}function tr(e,i,a,l){$i?Zi?Zi.push(l):Zi=[l]:$i=l,i=oc(i,"onChange"),0<i.length&&(a=new Ta("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var je=null,Ii=null;function Go(e){n_(e,0)}function Au(e){var i=Mn(e);if(ko(i))return e}function bg(e,i){if(e==="change")return i}var Sg=!1;if(ei){var Vh;if(ei){var xh="oninput"in document;if(!xh){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),xh=typeof wg.oninput=="function"}Vh=xh}else Vh=!1;Sg=Vh&&(!document.documentMode||9<document.documentMode)}function Rg(){je&&(je.detachEvent("onpropertychange",Ig),Ii=je=null)}function Ig(e){if(e.propertyName==="value"&&Au(Ii)){var i=[];tr(i,Ii,e,xn(e)),lu(Go,i)}}function bA(e,i,a){e==="focusin"?(Rg(),je=i,Ii=a,je.attachEvent("onpropertychange",Ig)):e==="focusout"&&Rg()}function SA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Ii)}function wA(e,i){if(e==="click")return Au(i)}function RA(e,i){if(e==="input"||e==="change")return Au(i)}function IA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:IA;function Qo(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Qn.call(i,h)||!En(e[h],i[h]))return!1}return!0}function Cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,i){var a=Cg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Cg(a)}}function Ng(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ng(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ts(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ts(e.document)}return i}function kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var CA=ei&&"documentMode"in document&&11>=document.documentMode,Da=null,Ph=null,Ko=null,Uh=!1;function Mg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uh||Da==null||Da!==Ts(l)||(l=Da,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Qo(Ko,l)||(Ko=l,l=oc(Ph,"onSelect"),0<l.length&&(i=new Ta("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Da)))}function Ms(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Na={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Lh={},Vg={};ei&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Vs(e){if(Lh[e])return Lh[e];if(!Na[e])return e;var i=Na[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vg)return Lh[e]=i[a];return e}var xg=Vs("animationend"),kg=Vs("animationiteration"),Pg=Vs("animationstart"),DA=Vs("transitionrun"),NA=Vs("transitionstart"),OA=Vs("transitioncancel"),Ug=Vs("transitionend"),Lg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ni(e,i){Lg.set(e,i),we(i,[e])}var zg=new WeakMap;function Un(e,i){if(typeof e=="object"&&e!==null){var a=zg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:_a(i)},zg.set(e,i),i)}return{value:e,source:i,stack:_a(i)}}var Ln=[],Oa=0,Bh=0;function bu(){for(var e=Oa,i=Bh=Oa=0;i<e;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var h=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Bg(a,h,d)}}function Su(e,i,a,l){Ln[Oa++]=e,Ln[Oa++]=i,Ln[Oa++]=a,Ln[Oa++]=l,Bh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qh(e,i,a,l){return Su(e,i,a,l),wu(e)}function Ma(e,i){return Su(e,null,null,i),wu(e)}function Bg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ve(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function wu(e){if(50<_l)throw _l=0,Yf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Va={};function MA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,i,a,l){return new MA(e,i,a,l)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function er(e,i){var a=e.alternate;return a===null?(a=Tn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function qg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ru(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Hh(e)&&(v=1);else if(typeof e=="string")v=xb(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Tn(31,a,i,h),e.elementType=R,e.lanes=d,e;case J:return xs(a.children,h,d,i);case st:v=8,h|=24;break;case et:return e=Tn(12,a,i,h|2),e.elementType=et,e.lanes=d,e;case Et:return e=Tn(13,a,i,h),e.elementType=Et,e.lanes=d,e;case Ct:return e=Tn(19,a,i,h),e.elementType=Ct,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case St:case ft:v=10;break t;case dt:v=9;break t;case Dt:v=11;break t;case O:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Tn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function xs(e,i,a,l){return e=Tn(7,e,l,i),e.lanes=a,e}function jh(e,i,a){return e=Tn(6,e,null,i),e.lanes=a,e}function Fh(e,i,a){return i=Tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var xa=[],ka=0,Iu=null,Cu=0,zn=[],Bn=0,ks=null,nr=1,ir="";function Ps(e,i){xa[ka++]=Cu,xa[ka++]=Iu,Iu=e,Cu=i}function Hg(e,i,a){zn[Bn++]=nr,zn[Bn++]=ir,zn[Bn++]=ks,ks=e;var l=nr;e=ir;var h=32-Ve(l)-1;l&=~(1<<h),a+=1;var d=32-Ve(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,nr=1<<32-Ve(i)+h|a<<h|l,ir=d+e}else nr=1<<d|a<<h|l,ir=e}function Gh(e){e.return!==null&&(Ps(e,1),Hg(e,1,0))}function Qh(e){for(;e===Iu;)Iu=xa[--ka],xa[ka]=null,Cu=xa[--ka],xa[ka]=null;for(;e===ks;)ks=zn[--Bn],zn[Bn]=null,ir=zn[--Bn],zn[Bn]=null,nr=zn[--Bn],zn[Bn]=null}var ln=null,me=null,Gt=!1,Us=null,Ci=!1,Kh=Error(s(519));function Ls(e){var i=Error(s(418,""));throw $o(Un(i,e)),Kh}function jg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[pe]=e,i[ue]=l,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)xt(El[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),As(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(i);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),bs(i,l.value,l.defaultValue,l.children),va(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||a_(i.textContent,a)?(l.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),l.onScroll!=null&&xt("scroll",i),l.onScrollEnd!=null&&xt("scrollend",i),l.onClick!=null&&(i.onclick=lc),i=!0):i=!1,i||Ls(e)}function Fg(e){for(ln=e.return;ln;)switch(ln.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:ln=ln.return}}function Yo(e){if(e!==ln)return!1;if(!Gt)return Fg(e),Gt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||cd(e.type,e.memoizedProps)),a=!a),a&&me&&Ls(e),Fg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){me=ri(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}me=null}}else i===27?(i=me,Kr(e.type)?(e=md,md=null,me=e):me=i):me=ln?ri(e.stateNode.nextSibling):null;return!0}function Xo(){me=ln=null,Gt=!1}function Gg(){var e=Us;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Us=null),e}function $o(e){Us===null?Us=[e]:Us.push(e)}var Yh=W(null),zs=null,rr=null;function Mr(e,i,a){tt(Yh,i._currentValue),i._currentValue=a}function sr(e){e._currentValue=Yh.current,rt(Yh)}function Xh(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function $h(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var S=0;S<i.length;S++)if(E.context===i[S]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Xh(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Xh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Zo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;En(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===he.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Rl):e=[Rl])}h=h.return}e!==null&&$h(i,e,a,l),i.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bs(e){zs=e,rr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Qg(zs,e)}function Nu(e,i){return zs===null&&Bs(e),Qg(e,i)}function Qg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},rr===null){if(e===null)throw Error(s(308));rr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else rr=rr.next=i;return a}var VA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},xA=r.unstable_scheduleCallback,kA=r.unstable_NormalPriority,De={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new VA,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&xA(kA,function(){e.controller.abort()})}var Jo=null,Wh=0,Pa=0,Ua=null;function PA(e,i){if(Jo===null){var a=Jo=[];Wh=0,Pa=ed(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wh++,i.then(Kg,Kg),i}function Kg(){if(--Wh===0&&Jo!==null){Ua!==null&&(Ua.status="fulfilled");var e=Jo;Jo=null,Pa=0,Ua=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function UA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Yg=Q.S;Q.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&PA(e,i),Yg!==null&&Yg(e,i)};var qs=W(null);function Jh(){var e=qs.current;return e!==null?e:se.pooledCache}function Ou(e,i){i===null?tt(qs,qs.current):tt(qs,i.pool)}function Xg(){var e=Jh();return e===null?null:{parent:De._currentValue,pool:e}}var tl=Error(s(460)),$g=Error(s(474)),Mu=Error(s(542)),tf={then:function(){}};function Zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vu(){}function Wg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Vu,Vu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,tp(e),e;default:if(typeof i.status=="string")i.then(Vu,Vu);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,tp(e),e}throw el=i,tl}}var el=null;function Jg(){if(el===null)throw Error(s(459));var e=el;return el=null,e}function tp(e){if(e===tl||e===Mu)throw Error(s(483))}var Vr=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=wu(e),Bg(e,null,a),i}return Su(e,l,i,a),wu(e)}function nl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,vs(e,a)}}function rf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var sf=!1;function il(){if(sf){var e=Ua;if(e!==null)throw e}}function rl(e,i,a,l){sf=!1;var h=e.updateQueue;Vr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var S=E,z=S.next;S.next=null,v===null?d=z:v.next=z,v=S;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=z:E.next=z,K.lastBaseUpdate=S))}if(d!==null){var X=h.baseState;v=0,K=z=S=null,E=d;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(qt&B)===B:(l&B)===B){B!==0&&B===Pa&&(sf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=e,gt=E;B=i;var ee=a;switch(gt.tag){case 1:if(Tt=gt.payload,typeof Tt=="function"){X=Tt.call(ee,X,B);break t}X=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=gt.payload,B=typeof Tt=="function"?Tt.call(ee,X,B):Tt,B==null)break t;X=T({},X,B);break t;case 2:Vr=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(z=K=q,S=X):K=K.next=q,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(S=X),h.baseState=S,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),jr|=v,e.lanes=v,e.memoizedState=X}}function ep(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function np(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ep(a[e],i)}var La=W(null),xu=W(0);function ip(e,i){e=fr,tt(xu,e),tt(La,i),fr=e|i.baseLanes}function af(){tt(xu,fr),tt(La,La.current)}function of(){fr=xu.current,rt(La),rt(xu)}var Pr=0,Nt=null,Jt=null,Te=null,ku=!1,za=!1,Hs=!1,Pu=0,sl=0,Ba=null,LA=0;function ye(){throw Error(s(321))}function lf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!En(e[a],i[a]))return!1;return!0}function uf(e,i,a,l,h,d){return Pr=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?Bp:qp,Hs=!1,d=a(l,h),Hs=!1,za&&(d=sp(i,a,l,h)),rp(e),d}function rp(e){Q.H=Hu;var i=Jt!==null&&Jt.next!==null;if(Pr=0,Te=Jt=Nt=null,ku=!1,sl=0,Ba=null,i)throw Error(s(300));e===null||Pe||(e=e.dependencies,e!==null&&Du(e)&&(Pe=!0))}function sp(e,i,a,l){Nt=e;var h=0;do{if(za&&(Ba=null),sl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,Te=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=GA,d=i(a,l)}while(za);return d}function zA(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?al(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function cf(){var e=Pu!==0;return Pu=0,e}function hf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function ff(e){if(ku){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ku=!1}Pr=0,Te=Jt=Nt=null,za=!1,sl=Pu=0,Ba=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Nt.memoizedState=Te=e:Te=Te.next=e,Te}function Ae(){if(Jt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Te===null?Nt.memoizedState:Te.next;if(i!==null)Te=i,Jt=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Te===null?Nt.memoizedState=Te=e:Te=Te.next=e}return Te}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var i=sl;return sl+=1,Ba===null&&(Ba=[]),e=Wg(Ba,e,i),i=Nt,(Te===null?i.memoizedState:Te.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Bp:qp),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===ft)return $e(e)}throw Error(s(438,String(e)))}function mf(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=df(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function ar(e,i){return typeof i=="function"?i(e):i}function Lu(e){var i=Ae();return gf(i,Jt,e)}function gf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,S=null,z=i,K=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(qt&X)===X:(Pr&X)===X){var B=z.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Pa&&(K=!0);else if((Pr&B)===B){z=z.next,B===Pa&&(K=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(E=S=X,v=d):S=S.next=X,Nt.lanes|=B,jr|=B;X=z.action,Hs&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else B={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(E=S=B,v=d):S=S.next=B,Nt.lanes|=X,jr|=X;z=z.next}while(z!==null&&z!==i);if(S===null?v=d:S.next=E,!En(d,e.memoizedState)&&(Pe=!0,K&&(a=Ua,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=S,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function pf(e){var i=Ae(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(Pe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ap(e,i,a){var l=Nt,h=Ae(),d=Gt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!En((Jt||h).memoizedState,a);v&&(h.memoizedState=a,Pe=!0),h=h.queue;var E=up.bind(null,l,h,e);if(ol(2048,8,E,[e]),h.getSnapshot!==i||v||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,qa(9,zu(),lp.bind(null,l,h,a,i),null),se===null)throw Error(s(349));d||(Pr&124)!==0||op(l,i,a)}return a}function op(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=df(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function lp(e,i,a,l){i.value=a,i.getSnapshot=l,cp(i)&&hp(e)}function up(e,i,a){return a(function(){cp(i)&&hp(e)})}function cp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!En(e,a)}catch{return!0}}function hp(e){var i=Ma(e,2);i!==null&&Rn(i,e,2)}function yf(e){var i=hn();if(typeof e=="function"){var a=e;if(e=a(),Hs){rn(!0);try{a()}finally{rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:e},i}function fp(e,i,a,l){return e.baseState=a,gf(e,Jt,typeof l=="function"?l:ar)}function BA(e,i,a,l,h){if(qu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,dp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function dp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var E=a(h,l),S=Q.S;S!==null&&S(v,E),mp(e,i,E)}catch(z){_f(e,i,z)}finally{Q.T=d}}else try{d=a(h,l),mp(e,i,d)}catch(z){_f(e,i,z)}}function mp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gp(e,i,l)},function(l){return _f(e,i,l)}):gp(e,i,a)}function gp(e,i,a){i.status="fulfilled",i.value=a,pp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,dp(e,a)))}function _f(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,pp(i),i=i.next;while(i!==l)}e.action=null}function pp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function yp(e,i){return i}function _p(e,i){if(Gt){var a=se.formState;if(a!==null){t:{var l=Nt;if(Gt){if(me){e:{for(var h=me,d=Ci;h.nodeType!==8;){if(!d){h=null;break e}if(h=ri(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){me=ri(h.nextSibling),l=h.data==="F!";break t}}Ls(l)}l=!1}l&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:i},a.queue=l,a=Up.bind(null,Nt,l),l.dispatch=a,l=yf(!1),d=bf.bind(null,Nt,!1,l.queue),l=hn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=BA.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function vp(e){var i=Ae();return Ep(i,Jt,e)}function Ep(e,i,a){if(i=gf(e,i,yp)[0],e=Lu(ar)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=al(i)}catch(v){throw v===tl?Mu:v}else l=i;i=Ae();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,qa(9,zu(),qA.bind(null,h,a),null)),[l,d,e]}function qA(e,i){e.action=i}function Tp(e){var i=Ae(),a=Jt;if(a!==null)return Ep(i,a,e);Ae(),i=i.memoizedState,a=Ae();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function qa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=df(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function zu(){return{destroy:void 0,resource:void 0}}function Ap(){return Ae().memoizedState}function Bu(e,i,a,l){var h=hn();l=l===void 0?null:l,Nt.flags|=e,h.memoizedState=qa(1|i,zu(),a,l)}function ol(e,i,a,l){var h=Ae();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&lf(l,Jt.memoizedState.deps)?h.memoizedState=qa(i,d,a,l):(Nt.flags|=e,h.memoizedState=qa(1|i,d,a,l))}function bp(e,i){Bu(8390656,8,e,i)}function Sp(e,i){ol(2048,8,e,i)}function wp(e,i){return ol(4,2,e,i)}function Rp(e,i){return ol(4,4,e,i)}function Ip(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Cp(e,i,a){a=a!=null?a.concat([e]):null,ol(4,4,Ip.bind(null,i,e),a)}function vf(){}function Dp(e,i){var a=Ae();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&lf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Np(e,i){var a=Ae();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&lf(i,l[1]))return l[0];if(l=e(),Hs){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[l,i],l}function Ef(e,i,a){return a===void 0||(Pr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Vy(),Nt.lanes|=e,jr|=e,a)}function Op(e,i,a,l){return En(a,i)?a:La.current!==null?(e=Ef(e,a,l),En(e,i)||(Pe=!0),e):(Pr&42)===0?(Pe=!0,e.memoizedState=a):(e=Vy(),Nt.lanes|=e,jr|=e,i)}function Mp(e,i,a,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var v=Q.T,E={};Q.T=E,bf(e,!1,i,a);try{var S=h(),z=Q.S;if(z!==null&&z(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var K=UA(S,l);ll(e,i,K,wn(e))}else ll(e,i,l,wn(e))}catch(X){ll(e,i,{then:function(){},status:"rejected",reason:X},wn())}finally{it.p=d,Q.T=v}}function HA(){}function Tf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Vp(e).queue;Mp(e,h,i,ut,a===null?HA:function(){return xp(e),a(l)})}function Vp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function xp(e){var i=Vp(e).next.queue;ll(e,i,{},wn())}function Af(){return $e(Rl)}function kp(){return Ae().memoizedState}function Pp(){return Ae().memoizedState}function jA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();e=xr(a);var l=kr(i,e,a);l!==null&&(Rn(l,i,a),nl(l,i,a)),i={cache:Zh()},e.payload=i;return}i=i.return}}function FA(e,i,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qu(e)?Lp(i,a):(a=qh(e,i,a,l),a!==null&&(Rn(a,e,l),zp(a,i,l)))}function Up(e,i,a){var l=wn();ll(e,i,a,l)}function ll(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qu(e))Lp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,En(E,v))return Su(e,i,h,0),se===null&&bu(),!1}catch{}finally{}if(a=qh(e,i,h,l),a!==null)return Rn(a,e,l),zp(a,i,l),!0}return!1}function bf(e,i,a,l){if(l={lane:2,revertLane:ed(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(i)throw Error(s(479))}else i=qh(e,a,l,2),i!==null&&Rn(i,e,2)}function qu(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function Lp(e,i){za=ku=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function zp(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,vs(e,a)}}var Hu={readContext:$e,use:Uu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},Bp={readContext:$e,use:Uu,useCallback:function(e,i){return hn().memoizedState=[e,i===void 0?null:i],e},useContext:$e,useEffect:bp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Bu(4194308,4,Ip.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Bu(4194308,4,e,i)},useInsertionEffect:function(e,i){Bu(4,2,e,i)},useMemo:function(e,i){var a=hn();i=i===void 0?null:i;var l=e();if(Hs){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=hn();if(a!==void 0){var h=a(i);if(Hs){rn(!0);try{a(i)}finally{rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=FA.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=hn();return e={current:e},i.memoizedState=e},useState:function(e){e=yf(e);var i=e.queue,a=Up.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:vf,useDeferredValue:function(e,i){var a=hn();return Ef(a,e,i)},useTransition:function(){var e=yf(!1);return e=Mp.bind(null,Nt,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=hn();if(Gt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),se===null)throw Error(s(349));(qt&124)!==0||op(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,bp(up.bind(null,l,d,e),[e]),l.flags|=2048,qa(9,zu(),lp.bind(null,l,d,a,i),null),a},useId:function(){var e=hn(),i=se.identifierPrefix;if(Gt){var a=ir,l=nr;a=(l&~(1<<32-Ve(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Pu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=LA++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Af,useFormState:_p,useActionState:_p,useOptimistic:function(e){var i=hn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=bf.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:mf,useCacheRefresh:function(){return hn().memoizedState=jA.bind(null,Nt)}},qp={readContext:$e,use:Uu,useCallback:Dp,useContext:$e,useEffect:Sp,useImperativeHandle:Cp,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Np,useReducer:Lu,useRef:Ap,useState:function(){return Lu(ar)},useDebugValue:vf,useDeferredValue:function(e,i){var a=Ae();return Op(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Lu(ar)[0],i=Ae().memoizedState;return[typeof e=="boolean"?e:al(e),i]},useSyncExternalStore:ap,useId:kp,useHostTransitionStatus:Af,useFormState:vp,useActionState:vp,useOptimistic:function(e,i){var a=Ae();return fp(a,Jt,e,i)},useMemoCache:mf,useCacheRefresh:Pp},GA={readContext:$e,use:Uu,useCallback:Dp,useContext:$e,useEffect:Sp,useImperativeHandle:Cp,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Np,useReducer:pf,useRef:Ap,useState:function(){return pf(ar)},useDebugValue:vf,useDeferredValue:function(e,i){var a=Ae();return Jt===null?Ef(a,e,i):Op(a,Jt.memoizedState,e,i)},useTransition:function(){var e=pf(ar)[0],i=Ae().memoizedState;return[typeof e=="boolean"?e:al(e),i]},useSyncExternalStore:ap,useId:kp,useHostTransitionStatus:Af,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,i){var a=Ae();return Jt!==null?fp(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Pp},Ha=null,ul=0;function ju(e){var i=ul;return ul+=1,Ha===null&&(Ha=[]),Wg(Ha,e,i)}function cl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Fu(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Hp(e){var i=e._init;return i(e._payload)}function jp(e){function i(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=er(x,N),x.index=0,x.sibling=null,x}function d(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,Y){return N===null||N.tag!==6?(N=jh(L,x.mode,Y),N.return=x,N):(N=h(N,L),N.return=x,N)}function S(x,N,L,Y){var lt=L.type;return lt===J?K(x,N,L.props.children,Y,L.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Hp(lt)===N.type)?(N=h(N,L.props),cl(N,L),N.return=x,N):(N=Ru(L.type,L.key,L.props,null,x.mode,Y),cl(N,L),N.return=x,N)}function z(x,N,L,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Fh(L,x.mode,Y),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function K(x,N,L,Y,lt){return N===null||N.tag!==7?(N=xs(L,x.mode,Y,lt),N.return=x,N):(N=h(N,L),N.return=x,N)}function X(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=jh(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return L=Ru(N.type,N.key,N.props,null,x.mode,L),cl(L,N),L.return=x,L;case G:return N=Fh(N,x.mode,L),N.return=x,N;case b:var Y=N._init;return N=Y(N._payload),X(x,N,L)}if(oe(N)||k(N))return N=xs(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return X(x,ju(N),L);if(N.$$typeof===ft)return X(x,Nu(x,N),L);Fu(x,N)}return null}function B(x,N,L,Y){var lt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(x,N,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===lt?S(x,N,L,Y):null;case G:return L.key===lt?z(x,N,L,Y):null;case b:return lt=L._init,L=lt(L._payload),B(x,N,L,Y)}if(oe(L)||k(L))return lt!==null?null:K(x,N,L,Y,null);if(typeof L.then=="function")return B(x,N,ju(L),Y);if(L.$$typeof===ft)return B(x,N,Nu(x,L),Y);Fu(x,L)}return null}function q(x,N,L,Y,lt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(L)||null,E(N,x,""+Y,lt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return x=x.get(Y.key===null?L:Y.key)||null,S(N,x,Y,lt);case G:return x=x.get(Y.key===null?L:Y.key)||null,z(N,x,Y,lt);case b:var Mt=Y._init;return Y=Mt(Y._payload),q(x,N,L,Y,lt)}if(oe(Y)||k(Y))return x=x.get(L)||null,K(N,x,Y,lt,null);if(typeof Y.then=="function")return q(x,N,L,ju(Y),lt);if(Y.$$typeof===ft)return q(x,N,L,Nu(N,Y),lt);Fu(N,Y)}return null}function Tt(x,N,L,Y){for(var lt=null,Mt=null,ht=N,pt=N=0,Le=null;ht!==null&&pt<L.length;pt++){ht.index>pt?(Le=ht,ht=null):Le=ht.sibling;var jt=B(x,ht,L[pt],Y);if(jt===null){ht===null&&(ht=Le);break}e&&ht&&jt.alternate===null&&i(x,ht),N=d(jt,N,pt),Mt===null?lt=jt:Mt.sibling=jt,Mt=jt,ht=Le}if(pt===L.length)return a(x,ht),Gt&&Ps(x,pt),lt;if(ht===null){for(;pt<L.length;pt++)ht=X(x,L[pt],Y),ht!==null&&(N=d(ht,N,pt),Mt===null?lt=ht:Mt.sibling=ht,Mt=ht);return Gt&&Ps(x,pt),lt}for(ht=l(ht);pt<L.length;pt++)Le=q(ht,x,pt,L[pt],Y),Le!==null&&(e&&Le.alternate!==null&&ht.delete(Le.key===null?pt:Le.key),N=d(Le,N,pt),Mt===null?lt=Le:Mt.sibling=Le,Mt=Le);return e&&ht.forEach(function(Wr){return i(x,Wr)}),Gt&&Ps(x,pt),lt}function gt(x,N,L,Y){if(L==null)throw Error(s(151));for(var lt=null,Mt=null,ht=N,pt=N=0,Le=null,jt=L.next();ht!==null&&!jt.done;pt++,jt=L.next()){ht.index>pt?(Le=ht,ht=null):Le=ht.sibling;var Wr=B(x,ht,jt.value,Y);if(Wr===null){ht===null&&(ht=Le);break}e&&ht&&Wr.alternate===null&&i(x,ht),N=d(Wr,N,pt),Mt===null?lt=Wr:Mt.sibling=Wr,Mt=Wr,ht=Le}if(jt.done)return a(x,ht),Gt&&Ps(x,pt),lt;if(ht===null){for(;!jt.done;pt++,jt=L.next())jt=X(x,jt.value,Y),jt!==null&&(N=d(jt,N,pt),Mt===null?lt=jt:Mt.sibling=jt,Mt=jt);return Gt&&Ps(x,pt),lt}for(ht=l(ht);!jt.done;pt++,jt=L.next())jt=q(ht,x,pt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&ht.delete(jt.key===null?pt:jt.key),N=d(jt,N,pt),Mt===null?lt=jt:Mt.sibling=jt,Mt=jt);return e&&ht.forEach(function(Qb){return i(x,Qb)}),Gt&&Ps(x,pt),lt}function ee(x,N,L,Y){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:t:{for(var lt=L.key;N!==null;){if(N.key===lt){if(lt=L.type,lt===J){if(N.tag===7){a(x,N.sibling),Y=h(N,L.props.children),Y.return=x,x=Y;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Hp(lt)===N.type){a(x,N.sibling),Y=h(N,L.props),cl(Y,L),Y.return=x,x=Y;break t}a(x,N);break}else i(x,N);N=N.sibling}L.type===J?(Y=xs(L.props.children,x.mode,Y,L.key),Y.return=x,x=Y):(Y=Ru(L.type,L.key,L.props,null,x.mode,Y),cl(Y,L),Y.return=x,x=Y)}return v(x);case G:t:{for(lt=L.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(x,N.sibling),Y=h(N,L.children||[]),Y.return=x,x=Y;break t}else{a(x,N);break}else i(x,N);N=N.sibling}Y=Fh(L,x.mode,Y),Y.return=x,x=Y}return v(x);case b:return lt=L._init,L=lt(L._payload),ee(x,N,L,Y)}if(oe(L))return Tt(x,N,L,Y);if(k(L)){if(lt=k(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),gt(x,N,L,Y)}if(typeof L.then=="function")return ee(x,N,ju(L),Y);if(L.$$typeof===ft)return ee(x,N,Nu(x,L),Y);Fu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(x,N.sibling),Y=h(N,L),Y.return=x,x=Y):(a(x,N),Y=jh(L,x.mode,Y),Y.return=x,x=Y),v(x)):a(x,N)}return function(x,N,L,Y){try{ul=0;var lt=ee(x,N,L,Y);return Ha=null,lt}catch(ht){if(ht===tl||ht===Mu)throw ht;var Mt=Tn(29,ht,null,x.mode);return Mt.lanes=Y,Mt.return=x,Mt}finally{}}}var ja=jp(!0),Fp=jp(!1),qn=W(null),Di=null;function Ur(e){var i=e.alternate;tt(Ne,Ne.current&1),tt(qn,e),Di===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(Di=e)}function Gp(e){if(e.tag===22){if(tt(Ne,Ne.current),tt(qn,e),Di===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Di=e)}}else Lr()}function Lr(){tt(Ne,Ne.current),tt(qn,qn.current)}function or(e){rt(qn),Di===e&&(Di=null),rt(Ne)}var Ne=W(0);function Gu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var wf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=wn(),h=xr(l);h.payload=i,a!=null&&(h.callback=a),i=kr(e,h,l),i!==null&&(Rn(i,e,l),nl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=wn(),h=xr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(e,h,l),i!==null&&(Rn(i,e,l),nl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=wn(),l=xr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(e,l,a),i!==null&&(Rn(i,e,a),nl(i,e,a))}};function Qp(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function Kp(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&wf.enqueueReplaceState(i,i.state,null)}function js(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Yp(e){Qu(e)}function Xp(e){console.error(e)}function $p(e){Qu(e)}function Ku(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,i,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(e,i)},a}function Wp(e){return e=xr(e),e.tag=3,e}function Jp(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Zp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Zp(i,a,l),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function QA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Zo(i,a,h,!0),a=qn.current,a!==null){switch(a.tag){case 13:return Di===null?$f():a.alternate===null&&ge===0&&(ge=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Wf(e,l,h)),!1;case 22:return a.flags|=65536,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Wf(e,l,h)),!1}throw Error(s(435,a.tag))}return Wf(e,l,h),$f(),!1}if(Gt)return i=qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Kh&&(e=Error(s(422),{cause:l}),$o(Un(e,a)))):(l!==Kh&&(i=Error(s(423),{cause:l}),$o(Un(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Un(l,a),h=Rf(e.stateNode,l,h),rf(e,h),ge!==4&&(ge=2)),!1;var d=Error(s(520),{cause:l});if(d=Un(d,a),yl===null?yl=[d]:yl.push(d),ge!==4&&(ge=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Rf(a.stateNode,l,e),rf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wp(h),Jp(h,e,a,l),rf(a,h),!1}a=a.return}while(a!==null);return!1}var ty=Error(s(461)),Pe=!1;function Fe(e,i,a,l){i.child=e===null?Fp(i,null,a,l):ja(i,e.child,a,l)}function ey(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Bs(i),l=uf(e,i,a,v,d,h),E=cf(),e!==null&&!Pe?(hf(e,i,h),lr(e,i,h)):(Gt&&E&&Gh(i),i.flags|=1,Fe(e,i,l,h),i.child)}function ny(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Hh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,iy(e,i,d,l,h)):(e=Ru(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!xf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(v,l)&&e.ref===i.ref)return lr(e,i,h)}return i.flags|=1,e=er(d,l),e.ref=i.ref,e.return=i,i.child=e}function iy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Qo(d,l)&&e.ref===i.ref)if(Pe=!1,i.pendingProps=l=d,xf(e,h))(e.flags&131072)!==0&&(Pe=!0);else return i.lanes=e.lanes,lr(e,i,h)}return If(e,i,a,l,h)}function ry(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return sy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(i,d!==null?d.cachePool:null),d!==null?ip(i,d):af(),Gp(i);else return i.lanes=i.childLanes=536870912,sy(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ou(i,d.cachePool),ip(i,d),Lr(),i.memoizedState=null):(e!==null&&Ou(i,null),af(),Lr());return Fe(e,i,h,a),i.child}function sy(e,i,a,l){var h=Jh();return h=h===null?null:{parent:De._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ou(i,null),af(),Gp(i),e!==null&&Zo(e,i,l,!0),null}function Yu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function If(e,i,a,l,h){return Bs(i),a=uf(e,i,a,l,void 0,h),l=cf(),e!==null&&!Pe?(hf(e,i,h),lr(e,i,h)):(Gt&&l&&Gh(i),i.flags|=1,Fe(e,i,a,h),i.child)}function ay(e,i,a,l,h,d){return Bs(i),i.updateQueue=null,a=sp(i,l,a,h),rp(e),l=cf(),e!==null&&!Pe?(hf(e,i,d),lr(e,i,d)):(Gt&&l&&Gh(i),i.flags|=1,Fe(e,i,a,d),i.child)}function oy(e,i,a,l,h){if(Bs(i),i.stateNode===null){var d=Va,v=a.contextType;typeof v=="object"&&v!==null&&(d=$e(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ef(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?$e(v):Va,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Sf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&wf.enqueueReplaceState(d,d.state,null),rl(i,l,d,h),il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,S=js(a,E);d.props=S;var z=d.context,K=a.contextType;v=Va,typeof K=="object"&&K!==null&&(v=$e(K));var X=a.getDerivedStateFromProps;K=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==v)&&Kp(i,d,l,v),Vr=!1;var B=i.memoizedState;d.state=B,rl(i,l,d,h),il(),z=i.memoizedState,E||B!==z||Vr?(typeof X=="function"&&(Sf(i,a,X,l),z=i.memoizedState),(S=Vr||Qp(i,a,S,l,B,z,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=S):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,nf(e,i),v=i.memoizedProps,K=js(a,v),d.props=K,X=i.pendingProps,B=d.context,z=a.contextType,S=Va,typeof z=="object"&&z!==null&&(S=$e(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||B!==S)&&Kp(i,d,l,S),Vr=!1,B=i.memoizedState,d.state=B,rl(i,l,d,h),il();var q=i.memoizedState;v!==X||B!==q||Vr||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Sf(i,a,E,l),q=i.memoizedState),(K=Vr||Qp(i,a,K,l,B,q,S)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,S)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=S,l=K):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Yu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ja(i,e.child,null,h),i.child=ja(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=lr(e,i,h),e}function ly(e,i,a,l){return Xo(),i.flags|=256,Fe(e,i,a,l),i.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:Xg()}}function Nf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Hn),e}function uy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Gt){if(h?Ur(i):Lr(),Gt){var E=me,S;if(S=E){t:{for(S=E,E=Ci;S.nodeType!==8;){if(!E){E=null;break t}if(S=ri(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(i.memoizedState={dehydrated:E,treeContext:ks!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},S=Tn(18,null,null,0),S.stateNode=E,S.return=i,i.child=S,ln=i,me=null,S=!0):S=!1}S||Ls(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return dd(E)?i.lanes=32:i.lanes=536870912,null;or(i)}return E=l.children,l=l.fallback,h?(Lr(),h=i.mode,E=Xu({mode:"hidden",children:E},h),l=xs(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Df(a),h.childLanes=Nf(e,v,a),i.memoizedState=Cf,l):(Ur(i),Of(i,E))}if(S=e.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(d)i.flags&256?(Ur(i),i.flags&=-257,i=Mf(e,i,a)):i.memoizedState!==null?(Lr(),i.child=e.child,i.flags|=128,i=null):(Lr(),h=l.fallback,E=i.mode,l=Xu({mode:"visible",children:l.children},E),h=xs(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ja(i,e.child,null,a),l=i.child,l.memoizedState=Df(a),l.childLanes=Nf(e,v,a),i.memoizedState=Cf,i=h);else if(Ur(i),dd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),i=Mf(e,i,a)}else if(Pe||Zo(e,i,a,!1),v=(a&e.childLanes)!==0,Pe||v){if(v=se,v!==null&&(l=a&-a,l=(l&42)!==0?1:pi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,Ma(e,l),Rn(v,e,l),ty;E.data==="$?"||$f(),i=Mf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=S.treeContext,me=ri(E.nextSibling),ln=i,Gt=!0,Us=null,Ci=!1,e!==null&&(zn[Bn++]=nr,zn[Bn++]=ir,zn[Bn++]=ks,nr=e.id,ir=e.overflow,ks=i),i=Of(i,l.children),i.flags|=4096);return i}return h?(Lr(),h=l.fallback,E=i.mode,S=e.child,z=S.sibling,l=er(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,z!==null?h=er(z,h):(h=xs(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=Df(a):(S=E.cachePool,S!==null?(z=De._currentValue,S=S.parent!==z?{parent:z,pool:z}:S):S=Xg(),E={baseLanes:E.baseLanes|a,cachePool:S}),h.memoizedState=E,h.childLanes=Nf(e,v,a),i.memoizedState=Cf,l):(Ur(i),a=e.child,e=a.sibling,a=er(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Of(e,i){return i=Xu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Xu(e,i){return e=Tn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Mf(e,i,a){return ja(i,e.child,null,a),e=Of(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function cy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Xh(e.return,i,a)}function Vf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function hy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Fe(e,i,l.children,a),l=Ne.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,a,i);else if(e.tag===19)cy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(tt(Ne,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Gu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Vf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Gu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Vf(i,!0,a,null,d);break;case"together":Vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function lr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Zo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=er(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=er(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function xf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function KA(e,i,a){switch(i.tag){case 3:Qt(i,i.stateNode.containerInfo),Mr(i,De,e.memoizedState.cache),Xo();break;case 27:case 5:Cn(i);break;case 4:Qt(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uy(e,i,a):(Ur(i),e=lr(e,i,a),e!==null?e.sibling:null);Ur(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Zo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return hy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(Ne,Ne.current),l)break;return null;case 22:case 23:return i.lanes=0,ry(e,i,a);case 24:Mr(i,De,e.memoizedState.cache)}return lr(e,i,a)}function fy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Pe=!0;else{if(!xf(e,a)&&(i.flags&128)===0)return Pe=!1,KA(e,i,a);Pe=(e.flags&131072)!==0}else Pe=!1,Gt&&(i.flags&1048576)!==0&&Hg(i,Cu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Hh(l)?(e=js(l,e),i.tag=1,i=oy(null,i,l,e,a)):(i.tag=0,i=If(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Dt){i.tag=11,i=ey(null,i,l,e,a);break t}else if(h===O){i.tag=14,i=ny(null,i,l,e,a);break t}}throw i=ie(l)||l,Error(s(306,i,""))}}return i;case 0:return If(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=js(l,i.pendingProps),oy(e,i,l,h,a);case 3:t:{if(Qt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,nf(e,i),rl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Mr(i,De,l),l!==d.cache&&$h(i,[De],a,!0),il(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ly(e,i,l,a);break t}else if(l!==h){h=Un(Error(s(424)),i),$o(h),i=ly(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=ri(e.firstChild),ln=i,Gt=!0,Us=null,Ci=!0,a=Fp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xo(),l===h){i=lr(e,i,a);break t}Fe(e,i,l,a)}i=i.child}return i;case 26:return Yu(e,i),e===null?(a=p_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Gt||(a=i.type,e=i.pendingProps,l=uc(yt.current).createElement(a),l[pe]=i,l[ue]=e,Qe(l,a,e),H(l),i.stateNode=l):i.memoizedState=p_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Cn(i),e===null&&Gt&&(l=i.stateNode=d_(i.type,i.pendingProps,yt.current),ln=i,Ci=!0,h=me,Kr(i.type)?(md=h,me=ri(l.firstChild)):me=h),Fe(e,i,i.pendingProps.children,a),Yu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Gt&&((h=l=me)&&(l=Tb(l,i.type,i.pendingProps,Ci),l!==null?(i.stateNode=l,ln=i,me=ri(l.firstChild),Ci=!1,h=!0):h=!1),h||Ls(i)),Cn(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,cd(h,d)?l=null:v!==null&&cd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=uf(e,i,zA,null,null,a),Rl._currentValue=h),Yu(e,i),Fe(e,i,l,a),i.child;case 6:return e===null&&Gt&&((e=a=me)&&(a=Ab(a,i.pendingProps,Ci),a!==null?(i.stateNode=a,ln=i,me=null,e=!0):e=!1),e||Ls(i)),null;case 13:return uy(e,i,a);case 4:return Qt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ja(i,null,l,a):Fe(e,i,l,a),i.child;case 11:return ey(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),Fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bs(i),h=$e(h),l=l(h),i.flags|=1,Fe(e,i,l,a),i.child;case 14:return ny(e,i,i.type,i.pendingProps,a);case 15:return iy(e,i,i.type,i.pendingProps,a);case 19:return hy(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Xu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=er(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ry(e,i,a);case 24:return Bs(i),l=$e(De),e===null?(h=Jh(),h===null&&(h=se,d=Zh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},ef(i),Mr(i,De,h)):((e.lanes&a)!==0&&(nf(e,i),rl(i,null,null,a),il()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,De,l)):(l=d.cache,Mr(i,De,l),l!==h.cache&&$h(i,[De],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ur(e){e.flags|=4}function dy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(i)){if(i=qn.current,i!==null&&((qt&4194048)===qt?Di!==null:(qt&62914560)!==qt&&(qt&536870912)===0||i!==Di))throw el=tf,$g;e.flags|=8192}}function $u(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ys():536870912,e.lanes|=i,Ka|=i)}function hl(e,i){if(!Gt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function fe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function YA(e,i,a){var l=i.pendingProps;switch(Qh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(i),null;case 1:return fe(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),sr(De),nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Yo(i)?ur(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gg())),fe(i),null;case 26:return a=i.memoizedState,e===null?(ur(i),a!==null?(fe(i),dy(i,a)):(fe(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ur(i),fe(i),dy(i,a)):(fe(i),i.flags&=-16777217):(e.memoizedProps!==l&&ur(i),fe(i),i.flags&=-16777217),null;case 27:cn(i),a=yt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ur(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return fe(i),null}e=ct.current,Yo(i)?jg(i):(e=d_(h,l,a),i.stateNode=e,ur(i))}return fe(i),null;case 5:if(cn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ur(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return fe(i),null}if(e=ct.current,Yo(i))jg(i);else{switch(h=uc(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[pe]=i,e[ue]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Qe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ur(i)}}return fe(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ur(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=yt.current,Yo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[pe]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||a_(e.nodeValue,a)),e||Ls(i)}else e=uc(e).createTextNode(l),e[pe]=i,i.stateNode=e}return fe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Yo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[pe]=i}else Xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;fe(i),h=!1}else h=Gg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(or(i),i):(or(i),null)}if(or(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),$u(i,i.updateQueue),fe(i),null;case 4:return nn(),e===null&&sd(i.stateNode.containerInfo),fe(i),null;case 10:return sr(i.type),fe(i),null;case 19:if(rt(Ne),h=i.memoizedState,h===null)return fe(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)hl(h,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Gu(e),d!==null){for(i.flags|=128,hl(h,!1),e=d.updateQueue,i.updateQueue=e,$u(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)qg(a,e),a=a.sibling;return tt(Ne,Ne.current&1|2),i.child}e=e.sibling}h.tail!==null&&Be()>Ju&&(i.flags|=128,l=!0,hl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Gu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,$u(i,e),hl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Gt)return fe(i),null}else 2*Be()-h.renderingStartTime>Ju&&a!==536870912&&(i.flags|=128,l=!0,hl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Be(),i.sibling=null,e=Ne.current,tt(Ne,l?e&1|2:e&1),i):(fe(i),null);case 22:case 23:return or(i),of(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(fe(i),i.subtreeFlags&6&&(i.flags|=8192)):fe(i),a=i.updateQueue,a!==null&&$u(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&rt(qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),sr(De),fe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function XA(e,i){switch(Qh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return sr(De),nn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return cn(i),null;case 13:if(or(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Xo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return rt(Ne),null;case 4:return nn(),null;case 10:return sr(i.type),null;case 22:case 23:return or(i),of(),e!==null&&rt(qs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return sr(De),null;case 25:return null;default:return null}}function my(e,i){switch(Qh(i),i.tag){case 3:sr(De),nn();break;case 26:case 27:case 5:cn(i);break;case 4:nn();break;case 13:or(i);break;case 19:rt(Ne);break;case 10:sr(i.type);break;case 22:case 23:or(i),of(),e!==null&&rt(qs);break;case 24:sr(De)}}function fl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){ne(i,i.return,E)}}function zr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var S=a,z=E;try{z()}catch(K){ne(h,S,K)}}}l=l.next}while(l!==d)}}catch(K){ne(i,i.return,K)}}function gy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{np(i,a)}catch(l){ne(e,e.return,l)}}}function py(e,i,a){a.props=js(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ne(e,i,l)}}function dl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ne(e,i,h)}}function Ni(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ne(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ne(e,i,h)}else a.current=null}function yy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ne(e,e.return,h)}}function kf(e,i,a){try{var l=e.stateNode;pb(l,e.type,a,i),l[ue]=i}catch(h){ne(e,e.return,h)}}function _y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kr(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=lc));else if(l!==4&&(l===27&&Kr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Uf(e,i,a),e=e.sibling;e!==null;)Uf(e,i,a),e=e.sibling}function Zu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Kr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Zu(e,i,a),e=e.sibling;e!==null;)Zu(e,i,a),e=e.sibling}function vy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qe(i,l,a),i[pe]=e,i[ue]=a}catch(d){ne(e,e.return,d)}}var cr=!1,_e=!1,Lf=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function $A(e,i){if(e=e.containerInfo,ld=gc,e=Og(e),kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,S=-1,z=0,K=0,X=e,B=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||l!==0&&X.nodeType!==3||(S=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===e)break e;if(B===a&&++z===h&&(E=v),B===d&&++K===l&&(S=v),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(ud={focusedElem:e,selectionRange:a},gc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Tt=js(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Tt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){ne(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)fd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function Ty(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Br(e,a),l&4&&fl(5,a);break;case 1:if(Br(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ne(a,a.return,v)}else{var h=js(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ne(a,a.return,v)}}l&64&&gy(a),l&512&&dl(a,a.return);break;case 3:if(Br(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{np(e,i)}catch(v){ne(a,a.return,v)}}break;case 27:i===null&&l&4&&vy(a);case 26:case 5:Br(e,a),i===null&&l&4&&yy(a),l&512&&dl(a,a.return);break;case 12:Br(e,a);break;case 13:Br(e,a),l&4&&Sy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sb.bind(null,a),bb(e,a))));break;case 22:if(l=a.memoizedState!==null||cr,!l){i=i!==null&&i.memoizedState!==null||_e,h=cr;var d=_e;cr=l,(_e=i)&&!d?qr(e,a,(a.subtreeFlags&8772)!==0):Br(e,a),cr=h,_e=d}break;case 30:break;default:Br(e,a)}}function Ay(e){var i=e.alternate;i!==null&&(e.alternate=null,Ay(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&vi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,fn=!1;function hr(e,i,a){for(a=a.child;a!==null;)by(e,i,a),a=a.sibling}function by(e,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:_e||Ni(a,i),hr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||Ni(a,i);var l=ce,h=fn;Kr(a.type)&&(ce=a.stateNode,fn=!1),hr(e,i,a),Al(a.stateNode),ce=l,fn=h;break;case 5:_e||Ni(a,i);case 6:if(l=ce,h=fn,ce=null,hr(e,i,a),ce=l,fn=h,ce!==null)if(fn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){ne(a,i,d)}else try{ce.removeChild(a.stateNode)}catch(d){ne(a,i,d)}break;case 18:ce!==null&&(fn?(e=ce,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Nl(e)):h_(ce,a.stateNode));break;case 4:l=ce,h=fn,ce=a.stateNode.containerInfo,fn=!0,hr(e,i,a),ce=l,fn=h;break;case 0:case 11:case 14:case 15:_e||zr(2,a,i),_e||zr(4,a,i),hr(e,i,a);break;case 1:_e||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&py(a,i,l)),hr(e,i,a);break;case 21:hr(e,i,a);break;case 22:_e=(l=_e)||a.memoizedState!==null,hr(e,i,a),_e=l;break;default:hr(e,i,a)}}function Sy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(a){ne(i,i.return,a)}}function ZA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ey),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ey),i;default:throw Error(s(435,e.tag))}}function zf(e,i){var a=ZA(e);i.forEach(function(l){var h=ab.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function An(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Kr(E.type)){ce=E.stateNode,fn=!1;break t}break;case 5:ce=E.stateNode,fn=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(ce===null)throw Error(s(160));by(d,v,h),ce=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)wy(i,e),i=i.sibling}var ii=null;function wy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(i,e),bn(e),l&4&&(zr(3,e,e.return),fl(3,e),zr(5,e,e.return));break;case 1:An(i,e),bn(e),l&512&&(_e||a===null||Ni(a,a.return)),l&64&&cr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(An(i,e),bn(e),l&512&&(_e||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Gi]||d[pe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qe(d,l,a),d[pe]=e,H(d),l=d;break t;case"link":var v=v_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),Qe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=v_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),Qe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[pe]=e,H(d),l=d}e.stateNode=l}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?E_(h,e.type,e.stateNode):__(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&kf(e,e.memoizedProps,a.memoizedProps)}break;case 27:An(i,e),bn(e),l&512&&(_e||a===null||Ni(a,a.return)),a!==null&&l&4&&kf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(An(i,e),bn(e),l&512&&(_e||a===null||Ni(a,a.return)),e.flags&32){h=e.stateNode;try{Vn(h,"")}catch(q){ne(e,e.return,q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,kf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Lf=!0);break;case 6:if(An(i,e),bn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){ne(e,e.return,q)}}break;case 3:if(fc=null,h=ii,ii=cc(i.containerInfo),An(i,e),ii=h,bn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Nl(i.containerInfo)}catch(q){ne(e,e.return,q)}Lf&&(Lf=!1,Ry(e));break;case 4:l=ii,ii=cc(e.stateNode.containerInfo),An(i,e),bn(e),ii=l;break;case 12:An(i,e),bn(e);break;case 13:An(i,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gf=Be()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zf(e,l)));break;case 22:h=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,z=cr,K=_e;if(cr=z||h,_e=K||S,An(i,e),_e=K,cr=z,bn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||S||cr||_e||Fs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){S=a=i;try{if(d=S.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=S.stateNode;var X=S.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){ne(S,S.return,q)}}}else if(i.tag===6){if(a===null){S=i;try{S.stateNode.nodeValue=h?"":S.memoizedProps}catch(q){ne(S,S.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zf(e,a))));break;case 19:An(i,e),bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zf(e,l)));break;case 30:break;case 21:break;default:An(i,e),bn(e)}}function bn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(_y(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Pf(e);Zu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Vn(v,""),a.flags&=-33);var E=Pf(e);Zu(e,E,v);break;case 3:case 4:var S=a.stateNode.containerInfo,z=Pf(e);Uf(e,z,S);break;default:throw Error(s(161))}}catch(K){ne(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ry(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ry(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Br(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ty(e,i.alternate,i),i=i.sibling}function Fs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:zr(4,i,i.return),Fs(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&py(i,i.return,a),Fs(i);break;case 27:Al(i.stateNode);case 26:case 5:Ni(i,i.return),Fs(i);break;case 22:i.memoizedState===null&&Fs(i);break;case 30:Fs(i);break;default:Fs(i)}e=e.sibling}}function qr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:qr(h,d,a),fl(4,d);break;case 1:if(qr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ne(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)ep(S[h],E)}catch(z){ne(l,l.return,z)}}a&&v&64&&gy(d),dl(d,d.return);break;case 27:vy(d);case 26:case 5:qr(h,d,a),a&&l===null&&v&4&&yy(d),dl(d,d.return);break;case 12:qr(h,d,a);break;case 13:qr(h,d,a),a&&v&4&&Sy(h,d);break;case 22:d.memoizedState===null&&qr(h,d,a),dl(d,d.return);break;case 30:break;default:qr(h,d,a)}i=i.sibling}}function Bf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function qf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e))}function Oi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Iy(e,i,a,l),i=i.sibling}function Iy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Oi(e,i,a,l),h&2048&&fl(9,i);break;case 1:Oi(e,i,a,l);break;case 3:Oi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){Oi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ne(i,i.return,S)}}else Oi(e,i,a,l);break;case 13:Oi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Oi(e,i,a,l):ml(e,i):d._visibility&2?Oi(e,i,a,l):(d._visibility|=2,Fa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Bf(v,i);break;case 24:Oi(e,i,a,l),h&2048&&qf(i.alternate,i);break;default:Oi(e,i,a,l)}}function Fa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,S=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(d,v,E,S,h),fl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Fa(d,v,E,S,h):ml(d,v):(K._visibility|=2,Fa(d,v,E,S,h)),h&&z&2048&&Bf(v.alternate,v);break;case 24:Fa(d,v,E,S,h),h&&z&2048&&qf(v.alternate,v);break;default:Fa(d,v,E,S,h)}i=i.sibling}}function ml(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ml(a,l),h&2048&&Bf(l.alternate,l);break;case 24:ml(a,l),h&2048&&qf(l.alternate,l);break;default:ml(a,l)}i=i.sibling}}var gl=8192;function Ga(e){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)Cy(e),e=e.sibling}function Cy(e){switch(e.tag){case 26:Ga(e),e.flags&gl&&e.memoizedState!==null&&Pb(ii,e.memoizedState,e.memoizedProps);break;case 5:Ga(e);break;case 3:case 4:var i=ii;ii=cc(e.stateNode.containerInfo),Ga(e),ii=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=gl,gl=16777216,Ga(e),gl=i):Ga(e));break;default:Ga(e)}}function Dy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function pl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,Oy(l,e)}Dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ny(e),e=e.sibling}function Ny(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&zr(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Wu(e)):pl(e);break;default:pl(e)}}function Wu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,Oy(l,e)}Dy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:zr(8,i,i.return),Wu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Wu(i));break;default:Wu(i)}e=e.sibling}}function Oy(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:zr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(Ay(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var WA={getCacheForType:function(e){var i=$e(De),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},JA=typeof WeakMap=="function"?WeakMap:Map,$t=0,se=null,Vt=null,qt=0,Zt=0,Sn=null,Hr=!1,Qa=!1,Hf=!1,fr=0,ge=0,jr=0,Gs=0,jf=0,Hn=0,Ka=0,yl=null,dn=null,Ff=!1,Gf=0,Ju=1/0,tc=null,Fr=null,Ge=0,Gr=null,Ya=null,Xa=0,Qf=0,Kf=null,My=null,_l=0,Yf=null;function wn(){if(($t&2)!==0&&qt!==0)return qt&-qt;if(Q.T!==null){var e=Pa;return e!==0?e:ed()}return yi()}function Vy(){Hn===0&&(Hn=(qt&536870912)===0||Gt?Cr():536870912);var e=qn.current;return e!==null&&(e.flags|=32),Hn}function Rn(e,i,a){(e===se&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&($a(e,0),Qr(e,qt,Hn,!1)),Zn(e,a),(($t&2)===0||e!==se)&&(e===se&&(($t&2)===0&&(Gs|=a),ge===4&&Qr(e,qt,Hn,!1)),Mi(e))}function xy(e,i,a){if(($t&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||gi(e,i),h=l?nb(e,i):Zf(e,i,!0),d=l;do{if(h===0){Qa&&!l&&Qr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!tb(a)){h=Zf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=yl;var S=E.current.memoizedState.isDehydrated;if(S&&($a(E,v).flags|=256),v=Zf(E,v,!1),v!==2){if(Hf&&!S){E.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break t}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){$a(e,0),Qr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,Hn,!Hr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Gf+300-Be(),10<h)){if(Qr(l,i,Hn,!Hr),Rr(l,0,!0)!==0)break t;l.timeoutHandle=u_(ky.bind(null,l,a,dn,tc,Ff,i,Hn,Gs,Ka,Hr,d,2,-0,0),h);break t}ky(l,a,dn,tc,Ff,i,Hn,Gs,Ka,Hr,d,0,-0,0)}}break}while(!0);Mi(e)}function ky(e,i,a,l,h,d,v,E,S,z,K,X,B,q){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:kb},Cy(i),X=Ub(),X!==null)){e.cancelPendingCommit=X(Hy.bind(null,e,i,d,a,l,h,v,E,S,K,1,B,q)),Qr(e,d,v,!z);return}Hy(e,i,d,a,l,h,v,E,S)}function tb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(e,i,a,l){i&=~jf,i&=~Gs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ve(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Nn(e,a,i)}function ec(){return($t&6)===0?(vl(0),!1):!0}function Xf(){if(Vt!==null){if(Zt===0)var e=Vt.return;else e=Vt,rr=zs=null,ff(e),Ha=null,ul=0,e=Vt;for(;e!==null;)my(e.alternate,e),e=e.return;Vt=null}}function $a(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,_b(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xf(),se=e,Vt=a=er(e.current,null),qt=i,Zt=0,Sn=null,Hr=!1,Qa=gi(e,i),Hf=!1,Ka=Hn=jf=Gs=jr=ge=0,dn=yl=null,Ff=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ve(l),d=1<<h;i|=e[h],l&=~d}return fr=i,bu(),a}function Py(e,i){Nt=null,Q.H=Hu,i===tl||i===Mu?(i=Jg(),Zt=3):i===$g?(i=Jg(),Zt=4):Zt=i===ty?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Vt===null&&(ge=1,Ku(e,Un(i,e.current)))}function Uy(){var e=Q.H;return Q.H=Hu,e===null?Hu:e}function Ly(){var e=Q.A;return Q.A=WA,e}function $f(){ge=4,Hr||(qt&4194048)!==qt&&qn.current!==null||(Qa=!0),(jr&134217727)===0&&(Gs&134217727)===0||se===null||Qr(se,qt,Hn,!1)}function Zf(e,i,a){var l=$t;$t|=2;var h=Uy(),d=Ly();(se!==e||qt!==i)&&(tc=null,$a(e,i)),i=!1;var v=ge;t:do try{if(Zt!==0&&Vt!==null){var E=Vt,S=Sn;switch(Zt){case 8:Xf(),v=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(i=!0);var z=Zt;if(Zt=0,Sn=null,Za(e,E,S,z),a&&Qa){v=0;break t}break;default:z=Zt,Zt=0,Sn=null,Za(e,E,S,z)}}eb(),v=ge;break}catch(K){Py(e,K)}while(!0);return i&&e.shellSuspendCounter++,rr=zs=null,$t=l,Q.H=h,Q.A=d,Vt===null&&(se=null,qt=0,bu()),v}function eb(){for(;Vt!==null;)zy(Vt)}function nb(e,i){var a=$t;$t|=2;var l=Uy(),h=Ly();se!==e||qt!==i?(tc=null,Ju=Be()+500,$a(e,i)):Qa=gi(e,i);t:do try{if(Zt!==0&&Vt!==null){i=Vt;var d=Sn;e:switch(Zt){case 1:Zt=0,Sn=null,Za(e,i,d,1);break;case 2:case 9:if(Zg(d)){Zt=0,Sn=null,By(i);break}i=function(){Zt!==2&&Zt!==9||se!==e||(Zt=7),Mi(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Zg(d)?(Zt=0,Sn=null,By(i)):(Zt=0,Sn=null,Za(e,i,d,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||T_(v)){Zt=0,Sn=null;var S=E.sibling;if(S!==null)Vt=S;else{var z=E.return;z!==null?(Vt=z,nc(z)):Vt=null}break e}}Zt=0,Sn=null,Za(e,i,d,5);break;case 6:Zt=0,Sn=null,Za(e,i,d,6);break;case 8:Xf(),ge=6;break t;default:throw Error(s(462))}}ib();break}catch(K){Py(e,K)}while(!0);return rr=zs=null,Q.H=l,Q.A=h,$t=a,Vt!==null?0:(se=null,qt=0,bu(),ge)}function ib(){for(;Vt!==null&&!di();)zy(Vt)}function zy(e){var i=fy(e.alternate,e,fr);e.memoizedProps=e.pendingProps,i===null?nc(e):Vt=i}function By(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=ay(a,i,i.pendingProps,i.type,void 0,qt);break;case 11:i=ay(a,i,i.pendingProps,i.type.render,i.ref,qt);break;case 5:ff(i);default:my(a,i),i=Vt=qg(i,fr),i=fy(a,i,fr)}e.memoizedProps=e.pendingProps,i===null?nc(e):Vt=i}function Za(e,i,a,l){rr=zs=null,ff(i),Ha=null,ul=0;var h=i.return;try{if(QA(e,h,i,a,qt)){ge=1,Ku(e,Un(a,e.current)),Vt=null;return}}catch(d){if(h!==null)throw Vt=h,d;ge=1,Ku(e,Un(a,e.current)),Vt=null;return}i.flags&32768?(Gt||l===1?e=!0:Qa||(qt&536870912)!==0?e=!1:(Hr=e=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),qy(i,e)):nc(i)}function nc(e){var i=e;do{if((i.flags&32768)!==0){qy(i,Hr);return}e=i.return;var a=YA(i.alternate,i,fr);if(a!==null){Vt=a;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=e}while(i!==null);ge===0&&(ge=5)}function qy(e,i){do{var a=XA(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);ge=6,Vt=null}function Hy(e,i,a,l,h,d,v,E,S){e.cancelPendingCommit=null;do ic();while(Ge!==0);if(($t&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Bh,_s(e,a,d,v,E,S),e===se&&(Vt=se=null,qt=0),Ya=i,Gr=e,Xa=a,Qf=d,Kf=h,My=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ob(Xn,function(){return Ky(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=it.p,it.p=2,v=$t,$t|=4;try{$A(e,i,a)}finally{$t=v,it.p=h,Q.T=l}}Ge=1,jy(),Fy(),Gy()}}function jy(){if(Ge===1){Ge=0;var e=Gr,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=it.p;it.p=2;var h=$t;$t|=4;try{wy(i,e);var d=ud,v=Og(e.containerInfo),E=d.focusedElem,S=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&Ng(E.ownerDocument.documentElement,E)){if(S!==null&&kh(E)){var z=S.start,K=S.end;if(K===void 0&&(K=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(K,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),Tt=E.textContent.length,gt=Math.min(S.start,Tt),ee=S.end===void 0?gt:Math.min(S.end,Tt);!q.extend&&gt>ee&&(v=ee,ee=gt,gt=v);var x=Dg(E,gt),N=Dg(E,ee);if(x&&N&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=X.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),gt>ee?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}gc=!!ld,ud=ld=null}finally{$t=h,it.p=l,Q.T=a}}e.current=i,Ge=2}}function Fy(){if(Ge===2){Ge=0;var e=Gr,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=it.p;it.p=2;var h=$t;$t|=4;try{Ty(e,i.alternate,i)}finally{$t=h,it.p=l,Q.T=a}}Ge=3}}function Gy(){if(Ge===4||Ge===3){Ge=0,wr();var e=Gr,i=Ya,a=Xa,l=My;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ge=5:(Ge=0,Ya=Gr=null,Qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fr=null),Dr(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=it.p,it.p=2,Q.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{Q.T=i,it.p=h}}(Xa&3)!==0&&ic(),Mi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Yf?_l++:(_l=0,Yf=e):_l=0,vl(0)}}function Qy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Wo(i)))}function ic(e){return jy(),Fy(),Gy(),Ky()}function Ky(){if(Ge!==5)return!1;var e=Gr,i=Qf;Qf=0;var a=Dr(Xa),l=Q.T,h=it.p;try{it.p=32>a?32:a,Q.T=null,a=Kf,Kf=null;var d=Gr,v=Xa;if(Ge=0,Ya=Gr=null,Xa=0,($t&6)!==0)throw Error(s(331));var E=$t;if($t|=4,Ny(d.current),Iy(d,d.current,v,a),$t=E,vl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{it.p=h,Q.T=l,Qy(e,i)}}function Yy(e,i,a){i=Un(a,i),i=Rf(e.stateNode,i,2),e=kr(e,i,2),e!==null&&(Zn(e,2),Mi(e))}function ne(e,i,a){if(e.tag===3)Yy(e,e,a);else for(;i!==null;){if(i.tag===3){Yy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){e=Un(a,e),a=Wp(2),l=kr(i,a,2),l!==null&&(Jp(a,l,i,e),Zn(l,2),Mi(l));break}}i=i.return}}function Wf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new JA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Hf=!0,h.add(a),e=rb.bind(null,e,i,a),i.then(e,e))}function rb(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(qt&a)===a&&(ge===4||ge===3&&(qt&62914560)===qt&&300>Be()-Gf?($t&2)===0&&$a(e,0):jf|=a,Ka===qt&&(Ka=0)),Mi(e)}function Xy(e,i){i===0&&(i=ys()),e=Ma(e,i),e!==null&&(Zn(e,i),Mi(e))}function sb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Xy(e,a)}function ab(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Xy(e,a)}function ob(e,i){return Dn(e,i)}var rc=null,Wa=null,Jf=!1,sc=!1,td=!1,Qs=0;function Mi(e){e!==Wa&&e.next===null&&(Wa===null?rc=Wa=e:Wa=Wa.next=e),sc=!0,Jf||(Jf=!0,ub())}function vl(e,i){if(!td&&sc){td=!0;do for(var a=!1,l=rc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Ve(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Jy(l,d))}else d=qt,d=Rr(l,l===se?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||gi(l,d)||(a=!0,Jy(l,d));l=l.next}while(a);td=!1}}function lb(){$y()}function $y(){sc=Jf=!1;var e=0;Qs!==0&&(yb()&&(e=Qs),Qs=0);for(var i=Be(),a=null,l=rc;l!==null;){var h=l.next,d=Zy(l,i);d===0?(l.next=null,a===null?rc=h:a.next=h,h===null&&(Wa=a)):(a=l,(e!==0||(d&3)!==0)&&(sc=!0)),l=h}vl(e)}function Zy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ve(d),E=1<<v,S=h[v];S===-1?((E&a)===0||(E&l)!==0)&&(h[v]=Ir(E,i)):S<=i&&(e.expiredLanes|=E),d&=~E}if(i=se,a=qt,a=Rr(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Kn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||gi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Kn(l),Dr(a)){case 2:case 8:a=Yn;break;case 32:a=Xn;break;case 268435456:a=Bi;break;default:a=Xn}return l=Wy.bind(null,e),a=Dn(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Kn(l),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,i){if(Ge!==0&&Ge!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ic()&&e.callbackNode!==a)return null;var l=qt;return l=Rr(e,e===se?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(xy(e,l,i),Zy(e,Be()),e.callbackNode!=null&&e.callbackNode===a?Wy.bind(null,e):null)}function Jy(e,i){if(ic())return null;xy(e,i,!0)}function ub(){vb(function(){($t&6)!==0?Dn(mi,lb):$y()})}function ed(){return Qs===0&&(Qs=Cr()),Qs}function t_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ea(""+e)}function e_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function cb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=t_((h[ue]||null).action),v=l.submitter;v&&(i=(i=v[ue]||null)?t_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Ta("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var S=v?e_(h,v):new FormData(h);Tf(a,{pending:!0,data:S,method:h.method,action:d},null,S)}}else typeof d=="function"&&(E.preventDefault(),S=v?e_(h,v):new FormData(h),Tf(a,{pending:!0,data:S,method:h.method,action:d},d,S))},currentTarget:h}]})}}for(var nd=0;nd<zh.length;nd++){var id=zh[nd],hb=id.toLowerCase(),fb=id[0].toUpperCase()+id.slice(1);ni(hb,"on"+fb)}ni(xg,"onAnimationEnd"),ni(kg,"onAnimationIteration"),ni(Pg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(DA,"onTransitionRun"),ni(NA,"onTransitionStart"),ni(OA,"onTransitionCancel"),ni(Ug,"onTransitionEnd"),qe("onMouseEnter",["mouseout","mouseover"]),qe("onMouseLeave",["mouseout","mouseover"]),qe("onPointerEnter",["pointerout","pointerover"]),qe("onPointerLeave",["pointerout","pointerover"]),we("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),we("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),we("onBeforeInput",["compositionend","keypress","textInput","paste"]),we("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),we("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),we("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function n_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],S=E.instance,z=E.currentTarget;if(E=E.listener,S!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(K){Qu(K)}h.currentTarget=null,d=S}else for(v=0;v<l.length;v++){if(E=l[v],S=E.instance,z=E.currentTarget,E=E.listener,S!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(K){Qu(K)}h.currentTarget=null,d=S}}}}function xt(e,i){var a=i[_i];a===void 0&&(a=i[_i]=new Set);var l=e+"__bubble";a.has(l)||(i_(i,e,2,!1),a.add(l))}function rd(e,i,a){var l=0;i&&(l|=4),i_(a,e,l,i)}var ac="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[ac]){e[ac]=!0,_t.forEach(function(a){a!=="selectionchange"&&(db.has(a)||rd(a,!1,e),rd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ac]||(i[ac]=!0,rd("selectionchange",!1,i))}}function i_(e,i,a,l){switch(I_(i)){case 2:var h=Bb;break;case 8:h=qb;break;default:h=vd}a=h.bind(null,i,a,e),h=void 0,!kn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function ad(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Jn(E),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){l=d=v;continue t}E=E.parentNode}}l=l.return}lu(function(){var z=d,K=xn(a),X=[];t:{var B=Lg.get(e);if(B!==void 0){var q=Ta,Tt=e;switch(e){case"keypress":if(bi(a)===0)break t;case"keydown":case"keyup":q=Ia;break;case"focusin":Tt="focus",q=Sa;break;case"focusout":Tt="blur",q=Sa;break;case"beforeblur":case"afterblur":q=Sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=pu;break;case xg:case kg:case Pg:q=wa;break;case Ug:q=_u;break;case"scroll":case"scrollend":q=uu;break;case"wheel":q=Ca;break;case"copy":case"cut":case"paste":q=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Fo;break;case"toggle":case"beforetoggle":q=Eu}var gt=(i&4)!==0,ee=!gt&&(e==="scroll"||e==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var N=z,L;N!==null;){var Y=N;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||x===null||(Y=ws(N,x),Y!=null&&gt.push(Tl(N,Y,L))),ee)break;N=N.return}0<gt.length&&(B=new q(B,Tt,null,a,K),X.push({event:B,listeners:gt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&a!==Xi&&(Tt=a.relatedTarget||a.fromElement)&&(Jn(Tt)||Tt[sn]))break t;if((q||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Tt=a.relatedTarget||a.toElement,q=z,Tt=Tt?Jn(Tt):null,Tt!==null&&(ee=c(Tt),gt=Tt.tag,Tt!==ee||gt!==5&&gt!==27&&gt!==6)&&(Tt=null)):(q=null,Tt=z),q!==Tt)){if(gt=Pn,Y="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Fo,Y="onPointerLeave",x="onPointerEnter",N="pointer"),ee=q==null?B:Mn(q),L=Tt==null?B:Mn(Tt),B=new gt(Y,N+"leave",q,a,K),B.target=ee,B.relatedTarget=L,Y=null,Jn(K)===z&&(gt=new gt(x,N+"enter",Tt,a,K),gt.target=L,gt.relatedTarget=ee,Y=gt),ee=Y,q&&Tt)e:{for(gt=q,x=Tt,N=0,L=gt;L;L=Ja(L))N++;for(L=0,Y=x;Y;Y=Ja(Y))L++;for(;0<N-L;)gt=Ja(gt),N--;for(;0<L-N;)x=Ja(x),L--;for(;N--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=Ja(gt),x=Ja(x)}gt=null}else gt=null;q!==null&&r_(X,B,q,gt,!1),Tt!==null&&ee!==null&&r_(X,ee,Tt,gt,!0)}}t:{if(B=z?Mn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var lt=bg;else if(Ce(B))if(Sg)lt=RA;else{lt=SA;var Mt=bA}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Uo(z.elementType)&&(lt=bg):lt=wA;if(lt&&(lt=lt(e,z))){tr(X,lt,a,K);break t}Mt&&Mt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Nr(B,"number",B.value)}switch(Mt=z?Mn(z):window,e){case"focusin":(Ce(Mt)||Mt.contentEditable==="true")&&(Da=Mt,Ph=z,Ko=null);break;case"focusout":Ko=Ph=Da=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Mg(X,a,K);break;case"selectionchange":if(CA)break;case"keydown":case"keyup":Mg(X,a,K)}var ht;if(Ri)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else zt?j(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(_&&a.locale!=="ko"&&(zt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&zt&&(ht=zo()):(Ai=K,Or="value"in Ai?Ai.value:Ai.textContent,zt=!0)),Mt=oc(z,pt),0<Mt.length&&(pt=new Ho(pt,e,null,a,K),X.push({event:pt,listeners:Mt}),ht?pt.data=ht:(ht=nt(a),ht!==null&&(pt.data=ht)))),(ht=m?Ie(e,a):Bt(e,a))&&(pt=oc(z,"onBeforeInput"),0<pt.length&&(Mt=new Ho("onBeforeInput","beforeinput",null,a,K),X.push({event:Mt,listeners:pt}),Mt.data=ht)),cb(X,e,z,a,K)}n_(X,i)})}function Tl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function oc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ws(e,a),h!=null&&l.unshift(Tl(e,h,d)),h=ws(e,i),h!=null&&l.push(Tl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,S=E.alternate,z=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||z===null||(S=z,h?(z=ws(a,d),z!=null&&v.unshift(Tl(a,z,S))):h||(z=ws(a,d),z!=null&&v.push(Tl(a,z,S)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var mb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function s_(e){return(typeof e=="string"?e:""+e).replace(mb,`
`).replace(gb,"")}function a_(e,i){return i=s_(i),s_(e)===i}function lc(){}function te(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Vn(e,""+l);break;case"className":Re(e,"class",l);break;case"tabIndex":Re(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Re(e,a,l);break;case"style":Po(e,l,d);break;case"data":if(i!=="object"){Re(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ea(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&te(e,i,"name",h.name,h,null),te(e,i,"formEncType",h.formEncType,h,null),te(e,i,"formMethod",h.formMethod,h,null),te(e,i,"formTarget",h.formTarget,h,null)):(te(e,i,"encType",h.encType,h,null),te(e,i,"method",h.method,h,null),te(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ea(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=lc);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ea(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),Ei(e,"popover",l);break;case"xlinkActuate":He(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":He(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":He(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":He(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":He(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":He(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":He(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":He(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":He(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ei(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dh.get(a)||a,Ei(e,a,l))}}function od(e,i,a,l,h,d){switch(a){case"style":Po(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xt.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ue]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ei(e,a,l)}}}function Qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(e,i,d,v,a,null)}}h&&te(e,i,"srcSet",a.srcSet,a,null),l&&te(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var E=d=v=h=null,S=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":S=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:te(e,i,l,K,a,null)}}As(e,d,E,S,z,v,h,!1),va(e);return;case"select":xt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:te(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Yi(e,!!l,i,!1):a!=null&&Yi(e,!!l,a,!0);return;case"textarea":xt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:te(e,i,v,E,a,null)}bs(e,l,h,d),va(e);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,i,S,l,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<El.length;l++)xt(El[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(e,i,z,l,a,null)}return;default:if(Uo(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&od(e,i,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&te(e,i,E,l,a,null))}function pb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,S=null,z=null,K=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=X;default:l.hasOwnProperty(q)||te(e,i,q,null,l,X)}}for(var B in l){var q=l[B];if(X=a[B],l.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":K=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==X&&te(e,i,B,q,l,X)}}vn(e,v,E,S,z,K,d,h);return;case"select":q=v=E=B=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":q=S;default:l.hasOwnProperty(d)||te(e,i,d,null,l,S)}for(h in l)if(d=l[h],S=a[h],l.hasOwnProperty(h)&&(d!=null||S!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==S&&te(e,i,h,d,l,S)}i=E,a=v,l=q,B!=null?Yi(e,!!a,B,!1):!!l!=!!a&&(i!=null?Yi(e,!!a,i,!0):Yi(e,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&te(e,i,v,h,l,d)}Wt(e,B,q);return;case"option":for(var Tt in a)if(B=a[Tt],a.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:te(e,i,Tt,null,l,B)}for(S in l)if(B=l[S],q=a[S],l.hasOwnProperty(S)&&B!==q&&(B!=null||q!=null))switch(S){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(e,i,S,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&te(e,i,gt,null,l,B);for(z in l)if(B=l[z],q=a[z],l.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:te(e,i,z,B,l,q)}return;default:if(Uo(i)){for(var ee in a)B=a[ee],a.hasOwnProperty(ee)&&B!==void 0&&!l.hasOwnProperty(ee)&&od(e,i,ee,void 0,l,B);for(K in l)B=l[K],q=a[K],!l.hasOwnProperty(K)||B===q||B===void 0&&q===void 0||od(e,i,K,B,l,q);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&te(e,i,x,null,l,B);for(X in l)B=l[X],q=a[X],!l.hasOwnProperty(X)||B===q||B==null&&q==null||te(e,i,X,B,l,q)}var ld=null,ud=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function o_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function cd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hd=null;function yb(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(Eb)}:u_;function Eb(e){setTimeout(function(){throw e})}function Kr(e){return e==="head"}function h_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&Al(v.documentElement),a&2&&Al(v.body),a&4)for(a=v.head,Al(a),v=a.firstChild;v;){var E=v.nextSibling,S=v.nodeName;v[Gi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),Nl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Nl(i)}function fd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fd(a),vi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Tb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Gi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ri(e.nextSibling),e===null)break}return null}function Ab(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ri(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function bb(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ri(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var md=null;function f_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function d_(e,i,a){switch(i=uc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);vi(e)}var jn=new Map,m_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dr=it.d;it.d={f:Sb,r:wb,D:Rb,C:Ib,L:Cb,m:Db,X:Ob,S:Nb,M:Mb};function Sb(){var e=dr.f(),i=ec();return e||i}function wb(e){var i=On(e);i!==null&&i.tag===5&&i.type==="form"?xp(i):dr.r(e)}var to=typeof document>"u"?null:document;function g_(e,i,a){var l=to;if(l&&typeof i=="string"&&i){var h=Ee(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qe(i,"link",e),H(i),l.head.appendChild(i)))}}function Rb(e){dr.D(e),g_("dns-prefetch",e,null)}function Ib(e,i){dr.C(e,i),g_("preconnect",e,i)}function Cb(e,i,a){dr.L(e,i,a);var l=to;if(l&&e&&i){var h='link[rel="preload"][as="'+Ee(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ee(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ee(a.imageSizes)+'"]')):h+='[href="'+Ee(e)+'"]';var d=h;switch(i){case"style":d=eo(e);break;case"script":d=no(e)}jn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),jn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(Sl(d))||(i=l.createElement("link"),Qe(i,"link",e),H(i),l.head.appendChild(i)))}}function Db(e,i){dr.m(e,i);var a=to;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ee(l)+'"][href="'+Ee(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(e)}if(!jn.has(d)&&(e=T({rel:"modulepreload",href:e},i),jn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}l=a.createElement("link"),Qe(l,"link",e),H(l),a.head.appendChild(l)}}}function Nb(e,i,a){dr.S(e,i,a);var l=to;if(l&&e){var h=P(l).hoistableStyles,d=eo(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(bl(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=jn.get(d))&&gd(e,a);var S=v=l.createElement("link");H(S),Qe(S,"link",e),S._p=new Promise(function(z,K){S.onload=z,S.onerror=K}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function Ob(e,i){dr.X(e,i);var a=to;if(a&&e){var l=P(a).hoistableScripts,h=no(e),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(e=T({src:e,async:!0},i),(i=jn.get(h))&&pd(e,i),d=a.createElement("script"),H(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Mb(e,i){dr.M(e,i);var a=to;if(a&&e){var l=P(a).hoistableScripts,h=no(e),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=jn.get(h))&&pd(e,i),d=a.createElement("script"),H(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function p_(e,i,a,l){var h=(h=yt.current)?cc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=P(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=eo(a.href);var d=P(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(bl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),d||Vb(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=P(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function eo(e){return'href="'+Ee(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Vb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qe(i,"link",a),H(i),e.head.appendChild(i))}function no(e){return'[src="'+Ee(e)+'"]'}function Sl(e){return"script[async]"+e}function __(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ee(a.href)+'"]');if(l)return i.instance=l,H(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),H(l),Qe(l,"style",h),hc(l,a.precedence,e),i.instance=l;case"stylesheet":h=eo(a.href);var d=e.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,H(d),d;l=y_(a),(h=jn.get(h))&&gd(l,h),d=(e.ownerDocument||e).createElement("link"),H(d);var v=d;return v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),Qe(d,"link",l),i.state.loading|=4,hc(d,a.precedence,e),i.instance=d;case"script":return d=no(a.src),(h=e.querySelector(Sl(d)))?(i.instance=h,H(h),h):(l=a,(h=jn.get(d))&&(l=T({},a),pd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),H(h),Qe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,hc(l,a.precedence,e));return i.instance}function hc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function gd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function pd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var fc=null;function v_(e,i,a){if(fc===null){var l=new Map,h=fc=new Map;h.set(a,l)}else h=fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Gi]||d[pe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function E_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function xb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var wl=null;function kb(){}function Pb(e,i,a){if(wl===null)throw Error(s(475));var l=wl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=eo(a.href),d=e.querySelector(bl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=dc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,H(d);return}d=e.ownerDocument||e,a=y_(a),(h=jn.get(h))&&gd(a,h),d=d.createElement("link"),H(d);var v=d;v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),Qe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=dc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function Ub(){if(wl===null)throw Error(s(475));var e=wl;return e.stylesheets&&e.count===0&&yd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&yd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function dc(){if(this.count--,this.count===0){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function yd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,i.forEach(Lb,e),mc=null,dc.call(e))}function Lb(e,i){if(!(i.state.loading&4)){var a=mc.get(e);if(a)var l=a.get(null);else{a=new Map,mc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Rl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function zb(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function A_(e,i,a,l,h,d,v,E,S,z,K,X){return e=new zb(e,i,a,v,E,S,z,X),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),e.current=d,d.stateNode=e,i=Zh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ef(d),e}function b_(e){return e?(e=Va,e):Va}function S_(e,i,a,l,h,d){h=b_(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(e,l,i),a!==null&&(Rn(a,e,i),nl(a,e,i))}function w_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function _d(e,i){w_(e,i),(e=e.alternate)&&w_(e,i)}function R_(e){if(e.tag===13){var i=Ma(e,67108864);i!==null&&Rn(i,e,67108864),_d(e,67108864)}}var gc=!0;function Bb(e,i,a,l){var h=Q.T;Q.T=null;var d=it.p;try{it.p=2,vd(e,i,a,l)}finally{it.p=d,Q.T=h}}function qb(e,i,a,l){var h=Q.T;Q.T=null;var d=it.p;try{it.p=8,vd(e,i,a,l)}finally{it.p=d,Q.T=h}}function vd(e,i,a,l){if(gc){var h=Ed(l);if(h===null)ad(e,i,l,pc,a),C_(e,l);else if(jb(h,e,i,a,l))l.stopPropagation();else if(C_(e,l),i&4&&-1<Hb.indexOf(e)){for(;h!==null;){var d=On(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=_n(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var S=1<<31-Ve(v);E.entanglements[1]|=S,v&=~S}Mi(d),($t&6)===0&&(Ju=Be()+500,vl(0))}}break;case 13:E=Ma(d,2),E!==null&&Rn(E,d,2),ec(),_d(d,2)}if(d=Ed(l),d===null&&ad(e,i,l,pc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else ad(e,i,l,null,a)}}function Ed(e){return e=xn(e),Td(e)}var pc=null;function Td(e){if(pc=null,e=Jn(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return pc=e,null}function I_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case mi:return 2;case Yn:return 8;case Xn:case ps:return 32;case Bi:return 268435456;default:return 32}default:return 32}}var Ad=!1,Yr=null,Xr=null,$r=null,Il=new Map,Cl=new Map,Zr=[],Hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,i){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Dl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=On(i),i!==null&&R_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function jb(e,i,a,l,h){switch(i){case"focusin":return Yr=Dl(Yr,e,i,a,l,h),!0;case"dragenter":return Xr=Dl(Xr,e,i,a,l,h),!0;case"mouseover":return $r=Dl($r,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Dl(Il.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Dl(Cl.get(d)||null,e,i,a,l,h)),!0}return!1}function D_(e){var i=Jn(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,fa(e.priority,function(){if(a.tag===13){var l=wn();l=pi(l);var h=Ma(a,l);h!==null&&Rn(h,a,l),_d(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ed(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Xi=l,a.target.dispatchEvent(l),Xi=null}else return i=On(a),i!==null&&R_(i),e.blockedOn=a,!1;i.shift()}return!0}function N_(e,i,a){yc(e)&&a.delete(i)}function Fb(){Ad=!1,Yr!==null&&yc(Yr)&&(Yr=null),Xr!==null&&yc(Xr)&&(Xr=null),$r!==null&&yc($r)&&($r=null),Il.forEach(N_),Cl.forEach(N_)}function _c(e,i){e.blockedOn===i&&(e.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fb)))}var vc=null;function O_(e){vc!==e&&(vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Td(l||a)===null)continue;break}var d=On(a);d!==null&&(e.splice(i,3),i-=3,Tf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Nl(e){function i(S){return _c(S,e)}Yr!==null&&_c(Yr,e),Xr!==null&&_c(Xr,e),$r!==null&&_c($r,e),Il.forEach(i),Cl.forEach(i);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)D_(a),a.blockedOn===null&&Zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ue]||null;if(typeof d=="function")v||O_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ue]||null)E=v.formAction;else if(Td(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),O_(a)}}}function bd(e){this._internalRoot=e}Ec.prototype.render=bd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();S_(a,l,e,i,null,null)},Ec.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;S_(e.current,2,null,e,null,null),ec(),i[sn]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var i=yi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Zr.length&&i!==0&&i<Zr[a].priority;a++);Zr.splice(a,0,e),a===0&&D_(e)}};var M_=t.version;if(M_!=="19.1.0")throw Error(s(527,M_,"19.1.0"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Gb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{le=Tc.inject(Gb),Ft=Tc}catch{}}return Ol.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Yp,d=Xp,v=$p,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=A_(e,1,!1,null,null,a,l,h,d,v,E,null),e[sn]=i.current,sd(e),new bd(i)},Ol.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Yp,v=Xp,E=$p,S=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=A_(e,1,!0,i,a??null,l,h,d,v,E,S,z),i.context=b_(null),a=i.current,l=wn(),l=pi(l),h=xr(l),h.callback=null,kr(a,h,l),a=l,i.current.lanes=a,Zn(i,a),Mi(i),e[sn]=i.current,sd(e),new Ec(i)},Ol.version="19.1.0",Ol}var B_;function tS(){if(B_)return wd.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=Jb(),wd.exports}var eS=tS();const nS=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},iS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],g=r[n++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,g=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let C=(g&15)<<2|y>>6,G=y&63;p||(G=64,f||(C=64)),s.push(n[T],n[w],n[C],n[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(w0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):iS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||w==null)throw new rS;const C=c<<2|g>>4;if(s.push(C),y!==64){const G=g<<4&240|y>>2;if(s.push(G),w!==64){const J=y<<6&192|w;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sS=function(r){const t=w0(r);return R0.encodeByteArray(t,!0)},zc=function(r){return sS(r).replace(/\./g,"")},I0=function(r){try{return R0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>aS().__FIREBASE_DEFAULTS__,lS=()=>{if(typeof process>"u"||typeof q_>"u")return;const r=q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&I0(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return nS()||oS()||lS()||uS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C0=r=>{var t,n;return(n=(t=oh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},cS=r=>{const t=C0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},D0=()=>{var r;return(r=oh())===null||r===void 0?void 0:r.config},N0=r=>{var t;return(t=oh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(r){return r.endsWith(".cloudworkstations.dev")}async function O0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[zc(JSON.stringify(n)),zc(JSON.stringify(f)),""].join(".")}const Pl={};function dS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Pl))Pl[t]?r.emulator.push(t):r.prod.push(t);return r}function mS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let H_=!1;function M0(r,t){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Pl[r]===t||Pl[r]||H_)return;Pl[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=dS().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,G){C.setAttribute("width","24"),C.setAttribute("id",G),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{H_=!0,f()},C}function T(C,G){C.setAttribute("id",G),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function w(){const C=mS(s),G=n("text"),J=document.getElementById(G)||document.createElement("span"),st=n("learnmore"),et=document.getElementById(st)||document.createElement("a"),St=n("preprendIcon"),dt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ft=C.element;g(ft),T(et,st);const Dt=y();p(dt,St),ft.append(dt,J,et,Dt),document.body.appendChild(ft)}c?(J.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function pS(){var r;const t=(r=oh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vS(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ES(){return!pS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x0(){try{return typeof indexedDB=="object"}catch{return!1}}function k0(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}function TS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="FirebaseError";class fi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=AS,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ia.prototype.create)}}class ia{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?bS(c,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new fi(o,g,s)}}function bS(r,t){return r.replace(SS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const SS=/\{\$([^}]+)}/g;function wS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function us(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=t[o];if(j_(c)&&j_(f)){if(!us(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function RS(r,t){const n=new IS(r,t);return n.subscribe.bind(n)}class IS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");CS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=1e3,NS=2,OS=4*60*60*1e3,MS=.5;function F_(r,t=DS,n=NS){const s=t*Math.pow(n,r),o=Math.round(MS*s*(Math.random()-.5)*2);return Math.min(OS,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(r){return r&&r._delegate?r._delegate:r}class ci{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new hS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),o=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kS(t))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ks){return this.instances.has(t)}getOptions(t=Ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&t(f,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ks){return this.component?this.component.multipleInstances?t:Ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xS(r){return r===Ks?void 0:r}function kS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const US={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},LS=kt.INFO,zS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},BS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=zS[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lh{constructor(t){this.name=t,this._logLevel=LS,this._logHandler=BS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?US[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const qS=(r,t)=>t.some(n=>r instanceof n);let G_,Q_;function HS(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jS(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P0=new WeakMap,Xd=new WeakMap,U0=new WeakMap,Nd=new WeakMap,Am=new WeakMap;function FS(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(ss(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&P0.set(n,r)}).catch(()=>{}),Am.set(t,r),t}function GS(r){if(Xd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Xd.set(r,t)}let $d={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||U0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function QS(r){$d=r($d)}function KS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Od(this),t,...n);return U0.set(s,t.sort?t.sort():[t]),ss(s)}:jS().includes(r)?function(...t){return r.apply(Od(this),t),ss(P0.get(this))}:function(...t){return ss(r.apply(Od(this),t))}}function YS(r){return typeof r=="function"?KS(r):(r instanceof IDBTransaction&&GS(r),qS(r,HS())?new Proxy(r,$d):r)}function ss(r){if(r instanceof IDBRequest)return FS(r);if(Nd.has(r))return Nd.get(r);const t=YS(r);return t!==r&&(Nd.set(r,t),Am.set(t,r)),t}const Od=r=>Am.get(r);function L0(r,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,t),g=ss(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ss(f.result),p.oldVersion,p.newVersion,ss(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const XS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],Md=new Map;function K_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=$S.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XS.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return Md.set(t,c),c}QS(r=>({...r,get:(t,n,s)=>K_(t,n)||r.get(t,n,s),has:(t,n)=>!!K_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function WS(r){const t=r.getComponent();return t?.type==="VERSION"}const Zd="@firebase/app",Y_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new lh("@firebase/app"),JS="@firebase/app-compat",t1="@firebase/analytics-compat",e1="@firebase/analytics",n1="@firebase/app-check-compat",i1="@firebase/app-check",r1="@firebase/auth",s1="@firebase/auth-compat",a1="@firebase/database",o1="@firebase/data-connect",l1="@firebase/database-compat",u1="@firebase/functions",c1="@firebase/functions-compat",h1="@firebase/installations",f1="@firebase/installations-compat",d1="@firebase/messaging",m1="@firebase/messaging-compat",g1="@firebase/performance",p1="@firebase/performance-compat",y1="@firebase/remote-config",_1="@firebase/remote-config-compat",v1="@firebase/storage",E1="@firebase/storage-compat",T1="@firebase/firestore",A1="@firebase/ai",b1="@firebase/firestore-compat",S1="firebase",w1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="[DEFAULT]",R1={[Zd]:"fire-core",[JS]:"fire-core-compat",[e1]:"fire-analytics",[t1]:"fire-analytics-compat",[i1]:"fire-app-check",[n1]:"fire-app-check-compat",[r1]:"fire-auth",[s1]:"fire-auth-compat",[a1]:"fire-rtdb",[o1]:"fire-data-connect",[l1]:"fire-rtdb-compat",[u1]:"fire-fn",[c1]:"fire-fn-compat",[h1]:"fire-iid",[f1]:"fire-iid-compat",[d1]:"fire-fcm",[m1]:"fire-fcm-compat",[g1]:"fire-perf",[p1]:"fire-perf-compat",[y1]:"fire-rc",[_1]:"fire-rc-compat",[v1]:"fire-gcs",[E1]:"fire-gcs-compat",[T1]:"fire-fst",[b1]:"fire-fst-compat",[A1]:"fire-vertex","fire-js":"fire-js",[S1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,I1=new Map,Jd=new Map;function X_(r,t){try{r.container.addComponent(t)}catch(n){Er.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ui(r){const t=r.name;if(Jd.has(t))return Er.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,r);for(const n of Bc.values())X_(n,r);for(const n of I1.values())X_(n,r);return!0}function ra(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function si(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new ia("app","Firebase",C1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=w1;function z0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Wd,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=D0()),!n)throw as.create("no-options");const c=Bc.get(o);if(c){if(us(n,c.options)&&us(s,c.config))return c;throw as.create("duplicate-app",{appName:o})}const f=new PS(o);for(const p of Jd.values())f.addComponent(p);const g=new D1(n,s,f);return Bc.set(o,g),g}function bm(r=Wd){const t=Bc.get(r);if(!t&&r===Wd&&D0())return z0();if(!t)throw as.create("no-app",{appName:r});return t}function Gn(r,t,n){var s;let o=(s=R1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const c=o.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Er.warn(g.join(" "));return}Ui(new ci(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebase-heartbeat-database",O1=1,jl="firebase-heartbeat-store";let Vd=null;function B0(){return Vd||(Vd=L0(N1,O1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw as.create("idb-open",{originalErrorMessage:r.message})})),Vd}async function M1(r){try{const n=(await B0()).transaction(jl),s=await n.objectStore(jl).get(q0(r));return await n.done,s}catch(t){if(t instanceof fi)Er.warn(t.message);else{const n=as.create("idb-get",{originalErrorMessage:t?.message});Er.warn(n.message)}}}async function $_(r,t){try{const s=(await B0()).transaction(jl,"readwrite");await s.objectStore(jl).put(t,q0(r)),await s.done}catch(n){if(n instanceof fi)Er.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});Er.warn(s.message)}}}function q0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=1024,x1=30;class k1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Z_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>x1){const f=L1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Er.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z_(),{heartbeatsToSend:s,unsentEntries:o}=P1(this._heartbeatsCache.heartbeats),c=zc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Er.warn(n),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function P1(r,t=V1){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),W_(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class U1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x0()?k0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return $_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return $_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function W_(r){return zc(JSON.stringify({version:2,heartbeats:r})).length}function L1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(r){Ui(new ci("platform-logger",t=>new ZS(t),"PRIVATE")),Ui(new ci("heartbeat",t=>new k1(t),"PRIVATE")),Gn(Zd,Y_,r),Gn(Zd,Y_,"esm2017"),Gn("fire-js","")}z1("");var B1="firebase",q1="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(B1,q1,"app");const H0="@firebase/installations",Sm="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=1e4,F0=`w:${Sm}`,G0="FIS_v2",H1="https://firebaseinstallations.googleapis.com/v1",j1=60*60*1e3,F1="installations",G1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ws=new ia(F1,G1,Q1);function Q0(r){return r instanceof fi&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0({projectId:r}){return`${H1}/projects/${r}/installations`}function Y0(r){return{token:r.token,requestStatus:2,expiresIn:Y1(r.expiresIn),creationTime:Date.now()}}async function X0(r,t){const s=(await t.json()).error;return Ws.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function $0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function K1(r,{refreshToken:t}){const n=$0(r);return n.append("Authorization",X1(t)),n}async function Z0(r){const t=await r();return t.status>=500&&t.status<600?r():t}function Y1(r){return Number(r.replace("s","000"))}function X1(r){return`${G0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=K0(r),o=$0(r),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:G0,appId:r.appId,sdkVersion:F0},g={method:"POST",headers:o,body:JSON.stringify(f)},p=await Z0(()=>fetch(s,g));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:Y0(y.authToken)}}else throw await X0("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=/^[cdef][\w-]{21}$/,tm="";function J1(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=tw(r);return W1.test(n)?n:tm}catch{return tm}}function tw(r){return Z1(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;function tE(r,t){const n=uh(r);eE(n,t),ew(n,t)}function eE(r,t){const n=J0.get(r);if(n)for(const s of n)s(t)}function ew(r,t){const n=nw();n&&n.postMessage({key:r,fid:t}),iw()}let Ys=null;function nw(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=r=>{eE(r.data.key,r.data.fid)}),Ys}function iw(){J0.size===0&&Ys&&(Ys.close(),Ys=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firebase-installations-database",sw=1,Js="firebase-installations-store";let xd=null;function wm(){return xd||(xd=L0(rw,sw,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Js)}}})),xd}async function qc(r,t){const n=uh(r),o=(await wm()).transaction(Js,"readwrite"),c=o.objectStore(Js),f=await c.get(n);return await c.put(t,n),await o.done,(!f||f.fid!==t.fid)&&tE(r,t.fid),t}async function nE(r){const t=uh(r),s=(await wm()).transaction(Js,"readwrite");await s.objectStore(Js).delete(t),await s.done}async function ch(r,t){const n=uh(r),o=(await wm()).transaction(Js,"readwrite"),c=o.objectStore(Js),f=await c.get(n),g=t(f);return g===void 0?await c.delete(n):await c.put(g,n),await o.done,g&&(!f||f.fid!==g.fid)&&tE(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rm(r){let t;const n=await ch(r.appConfig,s=>{const o=aw(s),c=ow(r,o);return t=c.registrationPromise,c.installationEntry});return n.fid===tm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function aw(r){const t=r||{fid:J1(),registrationStatus:0};return iE(t)}function ow(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ws.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=lw(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:uw(r)}:{installationEntry:t}}async function lw(r,t){try{const n=await $1(r,t);return qc(r.appConfig,n)}catch(n){throw Q0(n)&&n.customData.serverCode===409?await nE(r.appConfig):await qc(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function uw(r){let t=await J_(r.appConfig);for(;t.registrationStatus===1;)await W0(100),t=await J_(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Rm(r);return s||n}return t}function J_(r){return ch(r,t=>{if(!t)throw Ws.create("installation-not-found");return iE(t)})}function iE(r){return cw(r)?{fid:r.fid,registrationStatus:0}:r}function cw(r){return r.registrationStatus===1&&r.registrationTime+j0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw({appConfig:r,heartbeatServiceProvider:t},n){const s=fw(r,n),o=K1(r,n),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:F0,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},p=await Z0(()=>fetch(s,g));if(p.ok){const y=await p.json();return Y0(y)}else throw await X0("Generate Auth Token",p)}function fw(r,{fid:t}){return`${K0(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Im(r,t=!1){let n;const s=await ch(r.appConfig,c=>{if(!rE(c))throw Ws.create("not-registered");const f=c.authToken;if(!t&&gw(f))return c;if(f.requestStatus===1)return n=dw(r,t),c;{if(!navigator.onLine)throw Ws.create("app-offline");const g=yw(c);return n=mw(r,g),g}});return n?await n:s.authToken}async function dw(r,t){let n=await tv(r.appConfig);for(;n.authToken.requestStatus===1;)await W0(100),n=await tv(r.appConfig);const s=n.authToken;return s.requestStatus===0?Im(r,t):s}function tv(r){return ch(r,t=>{if(!rE(t))throw Ws.create("not-registered");const n=t.authToken;return _w(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function mw(r,t){try{const n=await hw(r,t),s=Object.assign(Object.assign({},t),{authToken:n});return await qc(r.appConfig,s),n}catch(n){if(Q0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nE(r.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await qc(r.appConfig,s)}throw n}}function rE(r){return r!==void 0&&r.registrationStatus===2}function gw(r){return r.requestStatus===2&&!pw(r)}function pw(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+j1}function yw(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function _w(r){return r.requestStatus===1&&r.requestTime+j0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(r){const t=r,{installationEntry:n,registrationPromise:s}=await Rm(t);return s?s.catch(console.error):Im(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(r,t=!1){const n=r;return await Tw(n),(await Im(n,t)).token}async function Tw(r){const{registrationPromise:t}=await Rm(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r){if(!r||!r.options)throw kd("App Configuration");if(!r.name)throw kd("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw kd(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function kd(r){return Ws.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="installations",bw="installations-internal",Sw=r=>{const t=r.getProvider("app").getImmediate(),n=Aw(t),s=ra(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},ww=r=>{const t=r.getProvider("app").getImmediate(),n=ra(t,sE).getImmediate();return{getId:()=>vw(n),getToken:o=>Ew(n,o)}};function Rw(){Ui(new ci(sE,Sw,"PUBLIC")),Ui(new ci(bw,ww,"PRIVATE"))}Rw();Gn(H0,Sm);Gn(H0,Sm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="analytics",Iw="firebase_id",Cw="origin",Dw=60*1e3,Nw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn=new lh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new ia("analytics","Analytics",Ow);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(r){if(!r.startsWith(Cm)){const t=In.create("invalid-gtag-resource",{gtagURL:r});return pn.warn(t.message),""}return r}function aE(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function Vw(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function xw(r,t){const n=Vw("firebase-js-sdk-policy",{createScriptURL:Mw}),s=document.createElement("script"),o=`${Cm}?l=${r}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function kw(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function Pw(r,t,n,s,o,c){const f=s[o];try{if(f)await t[f];else{const p=(await aE(n)).find(y=>y.measurementId===o);p&&await t[p.appId]}}catch(g){pn.error(g)}r("config",o,c)}async function Uw(r,t,n,s,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await aE(n);for(const p of f){const y=g.find(w=>w.measurementId===p),T=y&&t[y.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),r("event",s,o||{})}catch(c){pn.error(c)}}function Lw(r,t,n,s){async function o(c,...f){try{if(c==="event"){const[g,p]=f;await Uw(r,t,n,g,p)}else if(c==="config"){const[g,p]=f;await Pw(r,t,n,s,g,p)}else if(c==="consent"){const[g,p]=f;r("consent",g,p)}else if(c==="get"){const[g,p,y]=f;r("get",g,p,y)}else if(c==="set"){const[g]=f;r("set",g)}else r(c,...f)}catch(g){pn.error(g)}}return o}function zw(r,t,n,s,o){let c=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=Lw(c,r,t,n),{gtagCore:c,wrappedGtag:window[o]}}function Bw(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Cm)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=30,Hw=1e3;class jw{constructor(t={},n=Hw){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const oE=new jw;function Fw(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function Gw(r){var t;const{appId:n,apiKey:s}=r,o={method:"GET",headers:Fw(s)},c=Nw.replace("{app-id}",n),f=await fetch(c,o);if(f.status!==200&&f.status!==304){let g="";try{const p=await f.json();!((t=p.error)===null||t===void 0)&&t.message&&(g=p.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:f.status,responseMessage:g})}return f.json()}async function Qw(r,t=oE,n){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw In.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw In.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new Xw;return setTimeout(async()=>{g.abort()},Dw),lE({appId:s,apiKey:o,measurementId:c},f,g,t)}async function lE(r,{throttleEndTimeMillis:t,backoffCount:n},s,o=oE){var c;const{appId:f,measurementId:g}=r;try{await Kw(s,t)}catch(p){if(g)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:f,measurementId:g};throw p}try{const p=await Gw(r);return o.deleteThrottleMetadata(f),p}catch(p){const y=p;if(!Yw(y)){if(o.deleteThrottleMetadata(f),g)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:f,measurementId:g};throw p}const T=Number((c=y?.customData)===null||c===void 0?void 0:c.httpStatus)===503?F_(n,o.intervalMillis,qw):F_(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+T,backoffCount:n+1};return o.setThrottleMetadata(f,w),pn.debug(`Calling attemptFetch again in ${T} millis`),lE(r,w,s,o)}}function Kw(r,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(c),s(In.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Yw(r){if(!(r instanceof fi)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class Xw{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function $w(r,t,n,s,o){if(o&&o.global){r("event",n,s);return}else{const c=await t,f=Object.assign(Object.assign({},s),{send_to:c});r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(){if(x0())try{await k0()}catch(r){return pn.warn(In.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return pn.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ww(r,t,n,s,o,c,f){var g;const p=Qw(r);p.then(G=>{n[G.measurementId]=G.appId,r.options.measurementId&&G.measurementId!==r.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${G.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(G=>pn.error(G)),t.push(p);const y=Zw().then(G=>{if(G)return s.getId()}),[T,w]=await Promise.all([p,y]);Bw(c)||xw(c,T.measurementId),o("js",new Date);const C=(g=f?.config)!==null&&g!==void 0?g:{};return C[Cw]="firebase",C.update=!0,w!=null&&(C[Iw]=w),o("config",T.measurementId,C),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.app=t}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},ev=[];const nv={};let Pd="dataLayer",tR="gtag",iv,uE,rv=!1;function eR(){const r=[];if(V0()&&r.push("This is a browser extension environment."),TS()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=In.create("invalid-analytics-context",{errorInfo:t});pn.warn(n.message)}}function nR(r,t,n){eR();const s=r.options.appId;if(!s)throw In.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if(Ul[s]!=null)throw In.create("already-exists",{id:s});if(!rv){kw(Pd);const{wrappedGtag:c,gtagCore:f}=zw(Ul,ev,nv,Pd,tR);uE=c,iv=f,rv=!0}return Ul[s]=Ww(r,ev,nv,t,iv,Pd,n),new Jw(r)}function iR(r=bm()){r=un(r);const t=ra(r,Hc);return t.isInitialized()?t.getImmediate():rR(r)}function rR(r,t={}){const n=ra(r,Hc);if(n.isInitialized()){const o=n.getImmediate();if(us(t,n.getOptions()))return o;throw In.create("already-initialized")}return n.initialize({options:t})}function sR(r,t,n,s){r=un(r),$w(uE,Ul[r.app.options.appId],t,n,s).catch(o=>pn.error(o))}const sv="@firebase/analytics",av="0.10.16";function aR(){Ui(new ci(Hc,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return nR(s,o,n)},"PUBLIC")),Ui(new ci("analytics-internal",r,"PRIVATE")),Gn(sv,av),Gn(sv,av,"esm2017");function r(t){try{const n=t.getProvider(Hc).getImmediate();return{logEvent:(s,o,c)=>sR(n,s,o,c)}}catch(n){throw In.create("interop-component-reg-failed",{reason:n})}}}aR();function Dm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function cE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oR=cE,hE=new ia("auth","Firebase",cE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new lh("@firebase/auth");function lR(r,...t){jc.logLevel<=kt.WARN&&jc.warn(`Auth (${bo}): ${r}`,...t)}function Dc(r,...t){jc.logLevel<=kt.ERROR&&jc.error(`Auth (${bo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(r,...t){throw Om(r,...t)}function li(r,...t){return Om(r,...t)}function Nm(r,t,n){const s=Object.assign(Object.assign({},oR()),{[t]:n});return new ia("auth","Firebase",s).create(t,{appName:r.name})}function Zs(r){return Nm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Li(r,"argument-error"),Nm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Om(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return hE.create(r,...t)}function At(r,t,...n){if(!r)throw Om(t,...n)}function yr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Dc(t),new Error(t)}function Tr(r,t){r||yr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function cR(){return ov()==="http:"||ov()==="https:"}function ov(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cR()||V0()||"connection"in navigator)?navigator.onLine:!0}function fR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Tr(n>t,"Short delay should be less than long delay!"),this.isMobile=gS()||_S()}get(){return hR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r,t){Tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gR=new Wl(3e4,6e4);function Vm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function So(r,t,n,s,o={}){return dE(r,o,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Zl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},c);return yS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(y.credentials="include"),fE.fetch()(await mE(r,r.config.apiHost,n,g),y)})}async function dE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},dR),t);try{const o=new yR(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Ac(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ac(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Nm(r,T,y);Li(r,T)}}catch(o){if(o instanceof fi)throw o;Li(r,"network-request-failed",{message:String(o)})}}async function pR(r,t,n,s,o={}){const c=await So(r,t,n,s,o);return"mfaPendingCredential"in c&&Li(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function mE(r,t,n,s){const o=`${t}${n}?${s}`,c=r,f=c.config.emulator?Mm(r.config,o):`${r.config.apiScheme}://${o}`;return mR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class yR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(li(this.auth,"network-request-failed")),gR.get())})}}function Ac(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=li(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(r,t){return So(r,"POST","/v1/accounts:delete",t)}async function Fc(r,t){return So(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vR(r,t=!1){const n=un(r),s=await n.getIdToken(t),o=xm(s);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:s,authTime:Ll(Ud(o.auth_time)),issuedAtTime:Ll(Ud(o.iat)),expirationTime:Ll(Ud(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(r){return Number(r)*1e3}function xm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=I0(n);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function lv(r){const t=xm(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof fi&&ER(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ER({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Fl(r,Fc(n,{idToken:s}));At(o?.users.length,n,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?gE(c.providerUserInfo):[],g=bR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&c.passwordHash)&&!g?.length,T=p?y:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new nm(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,w)}async function AR(r){const t=un(r);await Gc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function gE(r){return r.map(t=>{var{providerId:n}=t,s=Dm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(r,t){const n=await dE(r,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await mE(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(p.credentials="include"),fE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wR(r,t){return So(r,"POST","/v2/accounts:revokeToken",Vm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):lv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=lv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await SR(t,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new uo;return s&&(At(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),c&&(At(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ai{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,c=Dm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new nm(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vR(this,t)}reload(){return AR(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ai(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Gc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Zs(this.auth));const t=await this.getIdToken();return await Fl(this,_R(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,c,f,g,p,y,T;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,G=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,J=(f=n.photoURL)!==null&&f!==void 0?f:void 0,st=(g=n.tenantId)!==null&&g!==void 0?g:void 0,et=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,St=(y=n.createdAt)!==null&&y!==void 0?y:void 0,dt=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ft,emailVerified:Dt,isAnonymous:Et,providerData:Ct,stsTokenManager:O}=n;At(ft&&O,t,"internal-error");const b=uo.fromJSON(this.name,O);At(typeof ft=="string",t,"internal-error"),Jr(w,t.name),Jr(C,t.name),At(typeof Dt=="boolean",t,"internal-error"),At(typeof Et=="boolean",t,"internal-error"),Jr(G,t.name),Jr(J,t.name),Jr(st,t.name),Jr(et,t.name),Jr(St,t.name),Jr(dt,t.name);const R=new ai({uid:ft,auth:t,email:C,emailVerified:Dt,displayName:w,isAnonymous:Et,photoURL:J,phoneNumber:G,tenantId:st,stsTokenManager:b,createdAt:St,lastLoginAt:dt});return Ct&&Array.isArray(Ct)&&(R.providerData=Ct.map(M=>Object.assign({},M))),et&&(R._redirectEventId=et),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const c=new ai({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Gc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];At(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?gE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new uo;g.updateFromIdToken(s);const p=new ai({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map;function _r(r){Tr(r instanceof Function,"Expected a class definition");let t=uv.get(r);return t?(Tr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,uv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}pE.type="NONE";const cv=pE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r,t,n){return`firebase:${r}:${t}:${n}`}class co{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Nc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Fc(this.auth,{idToken:t}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new co(_r(cv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||_r(cv);const f=Nc(s,t.config.apiKey,t.name);let g=null;for(const y of n)try{const T=await y._get(f);if(T){let w;if(typeof T=="string"){const C=await Fc(t,{idToken:T}).catch(()=>{});if(!C)break;w=await ai._fromGetAccountInfoResponse(t,C,T)}else w=ai._fromJSON(t,T);y!==c&&(g=w),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new co(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new co(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(EE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AE(t))return"Blackberry";if(bE(t))return"Webos";if(_E(t))return"Safari";if((t.includes("chrome/")||vE(t))&&!t.includes("edge/"))return"Chrome";if(TE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function yE(r=en()){return/firefox\//i.test(r)}function _E(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vE(r=en()){return/crios\//i.test(r)}function EE(r=en()){return/iemobile/i.test(r)}function TE(r=en()){return/android/i.test(r)}function AE(r=en()){return/blackberry/i.test(r)}function bE(r=en()){return/webos/i.test(r)}function km(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function RR(r=en()){var t;return km(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function IR(){return vS()&&document.documentMode===10}function SE(r=en()){return km(r)||TE(r)||bE(r)||AE(r)||/windows phone/i.test(r)||EE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r,t=[]){let n;switch(r){case"Browser":n=hv(en());break;case"Worker":n=`${hv(en())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(r,t={}){return So(r,"GET","/v2/passwordPolicy",Vm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=6;class OR{constructor(t){var n,s,o,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:NR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fv(this),this.idTokenSubscription=new fv(this),this.beforeStateQueue=new CR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await co.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Fc(this,{idToken:t}),s=await ai._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(si(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=o?._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&p?.user&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Gc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(Zs(this));const n=t?un(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await DR(this),n=new OR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ia("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wR(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_r(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&lR(`Error while retrieving App Check token: ${n.error}`),n?.token}}function hh(r){return un(r)}class fv{constructor(t){this.auth=t,this.observer=null,this.addObserver=RS(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VR(r){Pm=r}function xR(r){return Pm.loadJS(r)}function kR(){return Pm.gapiScript}function PR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(r,t){const n=ra(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(us(c,t??{}))return o;Li(o,"already-initialized")}return n.initialize({options:t})}function LR(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(_r);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function zR(r,t,n){const s=hh(r);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,c=RE(t),{host:f,port:g}=BR(t),p=g===null?"":`:${g}`,y={url:`${c}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(us(y,s.config.emulator)&&us(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Ao(f)?(O0(`${c}//${f}${p}`),M0("Auth",!0)):qR()}function RE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function BR(r){const t=RE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:dv(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:dv(f)}}}function dv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function qR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return yr("not implemented")}_getIdTokenResponse(t){return yr("not implemented")}_linkToIdToken(t,n){return yr("not implemented")}_getReauthenticationResolver(t){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r,t){return pR(r,"POST","/v1/accounts:signInWithIdp",Vm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="http://localhost";class ta extends IE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,c=Dm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ta(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ho(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ho(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ho(t,n)}buildRequest(){const t={requestUri:HR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Um{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Jl{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ta._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return gr.credential(n,s)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Jl{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Jl{constructor(){super("twitter.com")}static credential(t,n){return ta._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const c=await ai._fromIdTokenResponse(t,s,o),f=mv(s);return new mo({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=mv(s);return new mo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function mv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends fi{constructor(t,n,s,o){var c;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Qc(t,n,s,o)}}function CE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(r,c,t,s):c})}async function jR(r,t,n=!1){const s=await Fl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return mo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(r,t,n=!1){const{auth:s}=r;if(si(s.app))return Promise.reject(Zs(s));const o="reauthenticate";try{const c=await Fl(r,CE(s,o,t,r),n);At(c.idToken,s,"internal-error");const f=xm(c.idToken);At(f,s,"internal-error");const{sub:g}=f;return At(r.uid===g,s,"user-mismatch"),mo._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Li(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(r,t,n=!1){if(si(r.app))return Promise.reject(Zs(r));const s="signIn",o=await CE(r,s,t),c=await mo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}function QR(r,t,n,s){return un(r).onIdTokenChanged(t,n,s)}function KR(r,t,n){return un(r).beforeAuthStateChanged(t,n)}function YR(r,t,n,s){return un(r).onAuthStateChanged(t,n,s)}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1e3,$R=10;class NE extends DE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);IR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,$R):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}NE.type="LOCAL";const ZR=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends DE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}OE.type="SESSION";const ME=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new fh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async y=>y(n.origin,c)),p=await WR(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const y=Lm("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const C=w;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function tI(r){xi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function eI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nI(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function iI(){return VE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firebaseLocalStorageDb",rI=1,Yc="firebaseLocalStorage",kE="fbase_key";class tu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(r,t){return r.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function sI(){const r=indexedDB.deleteDatabase(xE);return new tu(r).toPromise()}function im(){const r=indexedDB.open(xE,rI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Yc,{keyPath:kE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Yc)?t(s):(s.close(),await sI(),t(await im()))})})}async function gv(r,t,n){const s=dh(r,!0).put({[kE]:t,value:n});return new tu(s).toPromise()}async function aI(r,t){const n=dh(r,!1).get(t),s=await new tu(n).toPromise();return s===void 0?null:s.value}function pv(r,t){const n=dh(r,!0).delete(t);return new tu(n).toPromise()}const oI=800,lI=3;class PE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>lI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(iI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await eI(),!this.activeServiceWorker)return;this.sender=new JR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await gv(t,Kc,"1"),await pv(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>gv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>aI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>pv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=dh(o,!1).getAll();return new tu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PE.type="LOCAL";const uI=PE;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(r,t){return t?_r(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends IE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ho(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ho(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ho(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function cI(r){return GR(r.auth,new zm(r),r.bypassAuthState)}function hI(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),FR(n,new zm(r),r.bypassAuthState)}async function fI(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),jR(n,new zm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,n,s,o,c=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cI;case"linkViaPopup":case"linkViaRedirect":return fI;case"reauthViaPopup":case"reauthViaRedirect":return hI;default:Li(this.auth,"internal-error")}}resolve(t){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new Wl(2e3,1e4);async function mI(r,t,n){if(si(r.app))return Promise.reject(li(r,"operation-not-supported-in-this-environment"));const s=hh(r);uR(r,t,Um);const o=UE(s,n);return new Xs(s,"signInViaPopup",t,o).executeNotNull()}class Xs extends LE{constructor(t,n,s,o,c){super(t,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const t=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dI.get())};t()}}Xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="pendingRedirect",Oc=new Map;class pI extends LE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const s=await yI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yI(r,t){const n=EI(t),s=vI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function _I(r,t){Oc.set(r._key(),t)}function vI(r){return _r(r._redirectPersistence)}function EI(r){return Nc(gI,r.config.apiKey,r.name)}async function TI(r,t,n=!1){if(si(r.app))return Promise.reject(Zs(r));const s=hh(r),o=UE(s,t),f=await new pI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=10*60*1e3;class bI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!zE(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(li(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AI&&this.cachedEventUids.clear(),this.cachedEventUids.has(yv(t))}saveEventToCache(t){this.cachedEventUids.add(yv(t)),this.lastProcessedEventTime=Date.now()}}function yv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function zE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function SI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(r,t={}){return So(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,II=/^https?/;async function CI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await wI(r);for(const n of t)try{if(DI(n))return}catch{}Li(r,"unauthorized-domain")}function DI(r){const t=em(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!II.test(n))return!1;if(RI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Wl(3e4,6e4);function _v(){const r=xi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function OI(r){return new Promise((t,n)=>{var s,o,c;function f(){_v(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_v(),n(li(r,"network-request-failed"))},timeout:NI.get()})}if(!((o=(s=xi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((c=xi().gapi)===null||c===void 0)&&c.load)f();else{const g=PR("iframefcb");return xi()[g]=()=>{gapi.load?f():n(li(r,"network-request-failed"))},xR(`${kR()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function MI(r){return Mc=Mc||OI(r),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Wl(5e3,15e3),xI="__/auth/iframe",kI="emulator/auth/iframe",PI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LI(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Mm(t,kI):`https://${r.config.authDomain}/${xI}`,s={apiKey:t.apiKey,appName:r.name,v:bo},o=UI.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Zl(s).slice(1)}`}async function zI(r){const t=await MI(r),n=xi().gapi;return At(n,r,"internal-error"),t.open({where:document.body,url:LI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=li(r,"network-request-failed"),g=xi().setTimeout(()=>{c(f)},VI.get());function p(){xi().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qI=500,HI=600,jI="_blank",FI="http://localhost";class vv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GI(r,t,n,s=qI,o=HI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},BI),{width:s.toString(),height:o.toString(),top:c,left:f}),y=en().toLowerCase();n&&(g=vE(y)?jI:n),yE(y)&&(t=t||FI,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[G,J])=>`${C}${G}=${J},`,"");if(RR(y)&&g!=="_self")return QI(t||"",g),new vv(null);const w=window.open(t||"",g,T);At(w,r,"popup-blocked");try{w.focus()}catch{}return new vv(w)}function QI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="__/auth/handler",YI="emulator/auth/handler",XI=encodeURIComponent("fac");async function Ev(r,t,n,s,o,c){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:bo,eventId:o};if(t instanceof Um){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",wS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(t instanceof Jl){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),y=p?`#${XI}=${encodeURIComponent(p)}`:"";return`${$I(r)}?${Zl(g).slice(1)}${y}`}function $I({config:r}){return r.emulator?Mm(r,YI):`https://${r.authDomain}/${KI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="webStorageSupport";class ZI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ME,this._completeRedirectFn=TI,this._overrideRedirectResult=_I}async _openPopup(t,n,s,o){var c;Tr((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await Ev(t,n,s,em(),o);return GI(t,f,Lm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const c=await Ev(t,n,s,em(),o);return tI(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Tr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await zI(t),s=new bI(t);return n.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ld,{type:Ld},o=>{var c;const f=(c=o?.[0])===null||c===void 0?void 0:c[Ld];f!==void 0&&n(!!f),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return SE()||_E()||km()}}const WI=ZI;var Tv="@firebase/auth",Av="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eC(r){Ui(new ci("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;At(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(r)},y=new MR(s,o,c,p);return LR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ui(new ci("auth-internal",t=>{const n=hh(t.getProvider("auth").getImmediate());return(s=>new JI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(Tv,Av,tC(r)),Gn(Tv,Av,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=5*60,iC=N0("authIdTokenMaxAge")||nC;let bv=null;const rC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>iC)return;const o=n?.token;bv!==o&&(bv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sC(r=bm()){const t=ra(r,"auth");if(t.isInitialized())return t.getImmediate();const n=UR(r,{popupRedirectResolver:WI,persistence:[uI,ZR,ME]}),s=N0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=rC(c.toString());KR(n,f,()=>f(n.currentUser)),QR(n,g=>f(g))}}const o=C0("auth");return o&&zR(n,`http://${o}`),n}function aC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}VR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const c=li("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",aC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eC("Browser");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,BE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,b){function R(){}R.prototype=b.prototype,O.D=b.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(M,V,k){for(var I=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)I[ie-2]=arguments[ie];return b.prototype[V].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,b,R){R||(R=0);var M=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)M[V]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(V=0;16>V;++V)M[V]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=O.g[0],R=O.g[1],V=O.g[2];var k=O.g[3],I=b+(k^R&(V^k))+M[0]+3614090360&4294967295;b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+M[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+M[2]+606105819&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+M[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(k^R&(V^k))+M[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+M[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+M[6]+2821735955&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+M[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(k^R&(V^k))+M[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+M[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+M[10]+4294925233&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+M[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(k^R&(V^k))+M[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+M[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+M[14]+2792965006&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+M[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(V^k&(R^V))+M[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+M[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+M[11]+643717713&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+M[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^k&(R^V))+M[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+M[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+M[15]+3634488961&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+M[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^k&(R^V))+M[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+M[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+M[3]+4107603335&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+M[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^k&(R^V))+M[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+M[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+M[7]+1735328473&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+M[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(R^V^k)+M[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+M[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+M[11]+1839030562&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+M[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^k)+M[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+M[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+M[7]+4139469664&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+M[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^k)+M[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+M[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+M[3]+3572445317&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+M[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^k)+M[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+M[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+M[15]+530742520&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+M[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(V^(R|~k))+M[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+M[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+M[14]+2878612391&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+M[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~k))+M[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+M[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+M[10]+4293915773&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+M[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~k))+M[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+M[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+M[6]+2734768916&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+M[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~k))+M[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+M[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+M[2]+718787259&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var R=b-this.blockSize,M=this.B,V=this.h,k=0;k<b;){if(V==0)for(;k<=R;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<b;)if(M[V++]=O.charCodeAt(k++),V==this.blockSize){o(this,M),V=0;break}}else for(;k<b;)if(M[V++]=O[k++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var R=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=R&255,R/=256;for(this.u(O),O=Array(16),b=R=0;4>b;++b)for(var M=0;32>M;M+=8)O[R++]=this.g[b]>>>M&255;return O};function c(O,b){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=b(O)}function f(O,b){this.h=b;for(var R=[],M=!0,V=O.length-1;0<=V;V--){var k=O[V]|0;M&&k==b||(R[V]=k,M=!1)}this.g=R}var g={};function p(O){return-128<=O&&128>O?c(O,function(b){return new f([b|0],0>b?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return et(y(-O));for(var b=[],R=1,M=0;O>=R;M++)b[M]=O/R|0,R*=4294967296;return new f(b,0)}function T(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return et(T(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(b,8)),M=w,V=0;V<O.length;V+=8){var k=Math.min(8,O.length-V),I=parseInt(O.substring(V,V+k),b);8>k?(k=y(Math.pow(b,k)),M=M.j(k).add(y(I))):(M=M.j(R),M=M.add(y(I)))}return M}var w=p(0),C=p(1),G=p(16777216);r=f.prototype,r.m=function(){if(st(this))return-et(this).m();for(var O=0,b=1,R=0;R<this.g.length;R++){var M=this.i(R);O+=(0<=M?M:4294967296+M)*b,b*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(J(this))return"0";if(st(this))return"-"+et(this).toString(O);for(var b=y(Math.pow(O,6)),R=this,M="";;){var V=Dt(R,b).g;R=St(R,V.j(b));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=V,J(R))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function J(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function st(O){return O.h==-1}r.l=function(O){return O=St(this,O),st(O)?-1:J(O)?0:1};function et(O){for(var b=O.g.length,R=[],M=0;M<b;M++)R[M]=~O.g[M];return new f(R,~O.h).add(C)}r.abs=function(){return st(this)?et(this):this},r.add=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],M=0,V=0;V<=b;V++){var k=M+(this.i(V)&65535)+(O.i(V)&65535),I=(k>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);M=I>>>16,k&=65535,I&=65535,R[V]=I<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function St(O,b){return O.add(et(b))}r.j=function(O){if(J(this)||J(O))return w;if(st(this))return st(O)?et(this).j(et(O)):et(et(this).j(O));if(st(O))return et(this.j(et(O)));if(0>this.l(G)&&0>O.l(G))return y(this.m()*O.m());for(var b=this.g.length+O.g.length,R=[],M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<O.g.length;V++){var k=this.i(M)>>>16,I=this.i(M)&65535,ie=O.i(V)>>>16,oe=O.i(V)&65535;R[2*M+2*V]+=I*oe,dt(R,2*M+2*V),R[2*M+2*V+1]+=k*oe,dt(R,2*M+2*V+1),R[2*M+2*V+1]+=I*ie,dt(R,2*M+2*V+1),R[2*M+2*V+2]+=k*ie,dt(R,2*M+2*V+2)}for(M=0;M<b;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=b;M<2*b;M++)R[M]=0;return new f(R,0)};function dt(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function ft(O,b){this.g=O,this.h=b}function Dt(O,b){if(J(b))throw Error("division by zero");if(J(O))return new ft(w,w);if(st(O))return b=Dt(et(O),b),new ft(et(b.g),et(b.h));if(st(b))return b=Dt(O,et(b)),new ft(et(b.g),b.h);if(30<O.g.length){if(st(O)||st(b))throw Error("slowDivide_ only works with positive integers.");for(var R=C,M=b;0>=M.l(O);)R=Et(R),M=Et(M);var V=Ct(R,1),k=Ct(M,1);for(M=Ct(M,2),R=Ct(R,2);!J(M);){var I=k.add(M);0>=I.l(O)&&(V=V.add(R),k=I),M=Ct(M,1),R=Ct(R,1)}return b=St(O,V.j(b)),new ft(V,b)}for(V=w;0<=O.l(b);){for(R=Math.max(1,Math.floor(O.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=y(R),I=k.j(b);st(I)||0<I.l(O);)R-=M,k=y(R),I=k.j(b);J(k)&&(k=C),V=V.add(k),O=St(O,I)}return new ft(V,O)}r.A=function(O){return Dt(this,O).h},r.and=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)&O.i(M);return new f(R,this.h&O.h)},r.or=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)|O.i(M);return new f(R,this.h|O.h)},r.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)^O.i(M);return new f(R,this.h^O.h)};function Et(O){for(var b=O.g.length+1,R=[],M=0;M<b;M++)R[M]=O.i(M)<<1|O.i(M-1)>>>31;return new f(R,O.h)}function Ct(O,b){var R=b>>5;b%=32;for(var M=O.g.length-R,V=[],k=0;k<M;k++)V[k]=0<b?O.i(k+R)>>>b|O.i(k+R+1)<<32-b:O.i(k+R);return new f(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,BE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,os=f}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qE,Ml,HE,Vc,rm,jE,FE,GE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in _))break t;_=_[U]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,U={next:function(){if(!A&&_<u.length){var j=_++;return{value:m(j,u[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function w(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function C(u,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,C.apply(null,arguments)}function G(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function J(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,U,j){for(var nt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)nt[zt-2]=arguments[zt];return m.prototype[U].apply(A,nt)}}function st(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function et(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=u.length||0,j=A.length||0;u.length=U+j;for(let nt=0;nt<j;nt++)u[U+nt]=A[nt]}else u.push(A)}}class St{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Dt(u){return Dt[" "](u),u}Dt[" "]=function(){};var Et=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Ct(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)u[_]=A[_];for(let j=0;j<R.length;j++)_=R[j],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function k(u){g.setTimeout(()=>{throw u},0)}function I(){var u=Ut;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ie{constructor(){this.h=this.g=null}add(m,_){const A=oe.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new St(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ut=!1,Ut=new ie,D=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then(W)}};var W=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){k(_)}var m=oe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Rt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Et){t:{try{Dt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}J(Rt,tt);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Qt=0;function nn(u,m,_,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++Qt,this.da=this.fa=!1}function Cn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function cn(u){this.src=u,this.g={},this.h=0}cn.prototype.add=function(u,m,_,A,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var nt=Dn(u,m,A,U);return-1<nt?(m=u[nt],_||(m.fa=!1)):(m=new nn(m,this.src,j,!!A,U),m.fa=_,u.push(m)),m};function Qn(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],U=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(A,U,1),j&&(Cn(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Dn(u,m,_,A){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==A)return U}return-1}var Kn="closure_lm_"+(1e6*Math.random()|0),di={};function wr(u,m,_,A,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)wr(u,m[j],_,A,U);return null}return _=ca(_),u&&u[he]?u.K(m,_,y(A)?!!A.capture:!1,U):Be(u,m,_,!1,A,U)}function Be(u,m,_,A,U,j){if(!m)throw Error("Invalid event type");var nt=y(U)?!!U.capture:!!U,zt=Bi(u);if(zt||(u[Kn]=zt=new cn(u)),_=zt.add(m,_,A,nt,j),_.proxy)return _;if(A=ua(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)ct||(U=nt),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Xn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ua(){function u(_){return m.call(u.src,u.listener,_)}const m=ps;return u}function mi(u,m,_,A,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)mi(u,m[j],_,A,U);else A=y(A)?!!A.capture:!!A,_=ca(_),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],_=Dn(j,_,A,U),-1<_&&(Cn(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Bi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Dn(m,_,A,U)),(_=-1<u?m[u]:null)&&Yn(_))}function Yn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])Qn(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Xn(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Bi(m))?(Qn(_,u),_.h==0&&(_.src=null,m[Kn]=null)):Cn(u)}}}function Xn(u){return u in di?di[u]:di[u]="on"+u}function ps(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Yn(u),u=_.call(A,m)}return u}function Bi(u){return u=u[Kn],u instanceof cn?u:null}var qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ca(u){return typeof u=="function"?u:(u[qi]||(u[qi]=function(m){return u.handleEvent(m)}),u[qi])}function le(){rt.call(this),this.i=new cn(this),this.M=this,this.F=null}J(le,rt),le.prototype[he]=!0,le.prototype.removeEventListener=function(u,m,_,A){mi(this,u,m,_,A)};function Ft(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var U=m;m=new tt(A,u),M(m,U)}if(U=!0,_)for(var j=_.length-1;0<=j;j--){var nt=m.g=_[j];U=rn(nt,A,!0,m)&&U}if(nt=m.g=u,U=rn(nt,A,!0,m)&&U,U=rn(nt,A,!1,m)&&U,_)for(j=0;j<_.length;j++)nt=m.g=_[j],U=rn(nt,A,!1,m)&&U}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Cn(_[A]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},le.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function rn(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var nt=m[j];if(nt&&!nt.da&&nt.capture==_){var zt=nt.listener,Ie=nt.ha||nt.src;nt.fa&&Qn(u.i,nt),U=zt.call(Ie,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ve(u,m,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ha(u){u.g=Ve(()=>{u.g=null,u.i&&(u.i=!1,ha(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Oo extends rt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ha(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(u){rt.call(this),this.h=u,this.g={}}J(Hi,rt);var ji=[];function Fi(u){Ct(u.g,function(m,_){this.g.hasOwnProperty(_)&&Yn(m)},u),u.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),Fi(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=g.JSON.stringify,Rr=g.JSON.parse,gi=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ir(){}Ir.prototype.h=null;function Cr(u){return u.h||(u.h=u.i())}function ys(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){tt.call(this,"d")}J(Zn,tt);function _s(){tt.call(this,"c")}J(_s,tt);var Nn={},vs=null;function pi(){return vs=vs||new le}Nn.La="serverreachability";function Dr(u){tt.call(this,Nn.La,u)}J(Dr,tt);function yi(u){const m=pi();Ft(m,new Dr(m))}Nn.STAT_EVENT="statevent";function fa(u,m){tt.call(this,Nn.STAT_EVENT,u),this.stat=m}J(fa,tt);function re(u){const m=pi();Ft(m,new fa(m,u))}Nn.Ma="timingevent";function pe(u,m){tt.call(this,Nn.Ma,u),this.size=m}J(pe,tt);function ue(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function sn(){this.g=!0}sn.prototype.xa=function(){this.g=!1};function _i(u,m,_,A,U,j){u.info(function(){if(u.g)if(j)for(var nt="",zt=j.split("&"),Ie=0;Ie<zt.length;Ie++){var Bt=zt[Ie].split("=");if(1<Bt.length){var ke=Bt[0];Bt=Bt[1];var Ce=ke.split("_");nt=2<=Ce.length&&Ce[1]=="type"?nt+(ke+"="+Bt+"&"):nt+(ke+"=redacted&")}}else nt=null;else nt=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+nt})}function da(u,m,_,A,U,j,nt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+j+" "+nt})}function Wn(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gi(u,_)+(A?" "+A:"")})}function ma(u,m){u.info(function(){return"TIMEOUT: "+m})}sn.prototype.info=function(){};function Gi(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var nt=1;nt<U.length;nt++)U[nt]=""}}}}return _n(_)}catch{return m}}var vi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Mn(){}J(Mn,Ir),Mn.prototype.g=function(){return new XMLHttpRequest},Mn.prototype.i=function(){return{}},On=new Mn;function P(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new H}function H(){this.i=null,this.g="",this.h=!1}var _t={},Xt={};function we(u,m,_){u.L=1,u.v=bs(vn(m)),u.m=_,u.P=!0,qe(u,null)}function qe(u,m){u.F=Date.now(),Qi(u),u.A=vn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Lo(_.i,"t",A),u.C=0,_=u.j.J,u.h=new H,u.g=_u(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Oo(C(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(ji[0]=U.toString()),U=ji);for(var j=0;j<U.length;j++){var nt=wr(_,U[j],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),yi(),_i(u.i,u.u,u.A,u.l,u.R,u.m)}P.prototype.ca=function(u){u=u.target;const m=this.M;m&&Pn(u)==3?m.j():this.Y(u)},P.prototype.Y=function(u){try{if(u==this.g)t:{const Ce=Pn(this.g);var m=this.g.Ba();const tr=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||Ce!=4||m==7||(m==8||0>=tr?yi(3):yi(2)),Ei(this);var _=this.g.Z();this.X=_;e:if(ti(this)){var A=cu(this.g);u="";var U=A.length,j=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),Re(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(j&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,da(this.i,this.u,this.A,this.l,this.R,Ce,_),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Ie=this.g;if((zt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(zt)){var Bt=zt;break e}}Bt=null}if(_=Bt)Wn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,_);else{this.o=!1,this.s=3,re(12),He(this),Re(this);break t}}if(this.P){_=!0;let je;for(;!this.J&&this.C<nt.length;)if(je=ga(this,nt),je==Xt){Ce==4&&(this.s=4,re(14),_=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(je==_t){this.s=4,re(15),Wn(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else Wn(this.i,this.l,je,null),Es(this,je);if(ti(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||nt.length!=0||this.h.h||(this.s=1,re(16),_=!1),this.o=this.o&&_,!_)Wn(this.i,this.l,nt,"[Invalid Chunked Response]"),He(this),Re(this);else if(0<nt.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Os(ke),ke.M=!0,re(11))}}else Wn(this.i,this.l,nt,null),Es(this,nt);Ce==4&&He(this),this.o&&!this.J&&(Ce==4?gu(this.j,this):(this.o=!1,Qi(this)))}else Oh(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),He(this),Re(this)}}}catch{}finally{}};function ti(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ga(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Xt:(_=Number(m.substring(_,A)),isNaN(_)?_t:(A+=1,A+_>m.length?Xt:(m=m.slice(A,A+_),u.C=A+_,m)))}P.prototype.cancel=function(){this.J=!0,He(this)};function Qi(u){u.S=Date.now()+u.I,Mo(u,u.I)}function Mo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ue(C(u.ba,u),m)}function Ei(u){u.B&&(g.clearTimeout(u.B),u.B=null)}P.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ma(this.i,this.A),this.L!=2&&(yi(),re(17)),He(this),this.s=2,Re(this)):Mo(this,this.S-u)};function Re(u){u.j.G==0||u.J||gu(u.j,u)}function He(u){Ei(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Fi(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Es(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Vo(_.h,u))){if(!u.K&&Vo(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ia(_),wa(_);else break t;jo(_),re(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=ue(C(_.Za,_),6e3));if(1>=ya(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ji(_,11)}else if((u.K||_.g==u)&&Ia(_),!dt(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];if(_.T=Bt[0],Bt=Bt[1],_.G==2)if(Bt[0]=="c"){_.K=Bt[1],_.ia=Bt[2];const ke=Bt[3];ke!=null&&(_.la=ke,_.j.info("VER="+_.la));const Ce=Bt[4];Ce!=null&&(_.Aa=Ce,_.j.info("SVER="+_.Aa));const tr=Bt[5];tr!=null&&typeof tr=="number"&&0<tr&&(A=1.5*tr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const je=u.g;if(je){const Ii=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var j=A.h;j.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(_a(j,j.h),j.h=null))}if(A.D){const Go=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(A.ya=Go,Wt(A.I,A.D,Go))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var nt=u;if(A.qa=yu(A,A.J?A.ia:null,A.W),nt.K){an(A.h,nt);var zt=nt,Ie=A.L;Ie&&(zt.I=Ie),zt.B&&(Ei(zt),Qi(zt)),A.g=nt}else du(A);0<_.i.length&&Ra(_)}else Bt[0]!="stop"&&Bt[0]!="close"||Ji(_,7);else _.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Ji(_,7):qo(_):Bt[0]!="noop"&&_.l&&_.l.ta(Bt),_.v=0)}}yi(4)}catch{}}var au=class{constructor(u,m){this.g=u,this.map=m}};function Ki(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ya(u){return u.h?1:u.g?u.g.size:0}function Vo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _a(u,m){u.g?u.g.add(m):u.h=m}function an(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ki.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return st(u.i)}function Ih(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function va(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function ko(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=va(u),A=Ih(u),U=A.length,j=0;j<U;j++)m.call(void 0,A[j],_&&_[j],u)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ch(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),U=null;if(0<=A){var j=u[_].substring(0,A);U=u[_].substring(A+1)}else j=u[_];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ee(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ee){this.h=u.h,As(this,u.j),this.o=u.o,this.g=u.g,Nr(this,u.s),this.l=u.l;var m=u.i,_=new Xi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Yi(this,_),this.m=u.m}else u&&(m=String(u).match(Ts))?(this.h=!1,As(this,m[1]||"",!0),this.o=Vn(m[2]||""),this.g=Vn(m[3]||"",!0),Nr(this,m[4]),this.l=Vn(m[5]||"",!0),Yi(this,m[6]||"",!0),this.m=Vn(m[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}Ee.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ss(m,Po,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ss(m,Po,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ss(_,_.charAt(0)=="/"?Dh:Uo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ss(_,Ea)),u.join("")};function vn(u){return new Ee(u)}function As(u,m,_){u.j=_?Vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Nr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Yi(u,m,_){m instanceof Xi?(u.i=m,lu(u.i,u.h)):(_||(m=Ss(m,Nh)),u.i=new Xi(m,u.h))}function Wt(u,m,_){u.i.set(m,_)}function bs(u){return Wt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ss(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,ou),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ou(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Po=/[#\/\?@]/g,Uo=/[#\?:]/g,Dh=/[#\?]/g,Nh=/[#\?@]/g,Ea=/#/g;function Xi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ch(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Xi.prototype,r.add=function(u,m){xn(this),this.i=null,u=Ti(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function $i(u,m){xn(u),m=Ti(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Zi(u,m){return xn(u),m=Ti(u,m),u.g.has(m)}r.forEach=function(u,m){xn(this),this.g.forEach(function(_,A){_.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){xn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const U=u[A];for(let j=0;j<U.length;j++)_.push(m[A])}return _},r.V=function(u){xn(this);let m=[];if(typeof u=="string")Zi(this,u)&&(m=m.concat(this.g.get(Ti(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return xn(this),this.i=null,u=Ti(this,u),Zi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Lo(u,m,_){$i(u,m),0<_.length&&(u.i=null,u.g.set(Ti(u,m),st(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const j=encodeURIComponent(String(A)),nt=this.V(A);for(A=0;A<nt.length;A++){var U=j;nt[A]!==""&&(U+="="+encodeURIComponent(String(nt[A]))),u.push(U)}}return this.i=u.join("&")};function Ti(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function lu(u,m){m&&!u.j&&(xn(u),u.i=null,u.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&($i(this,A),Lo(this,U,_))},u)),u.j=m}function ws(u,m){const _=new sn;if(g.Image){const A=new Image;A.onload=G(kn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=G(kn,_,"TestLoadImage: error",!1,m,A),A.onabort=G(kn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=G(kn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function ei(u,m){const _=new sn,A=new AbortController,U=setTimeout(()=>{A.abort(),kn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?kn(_,"TestPingServer: ok",!0,m):kn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),kn(_,"TestPingServer: error",!1,m)})}function kn(u,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function Rs(){this.g=new gi}function Ai(u,m,_){const A=_||"";try{ko(u,function(U,j){let nt=U;y(U)&&(nt=_n(U)),m.push(A+j+"="+encodeURIComponent(nt))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function Or(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Or,Ir),Or.prototype.g=function(){return new Wi(this.l,this.j)},Or.prototype.i=function(u){return function(){return u}}({});function Wi(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(Wi,le),r=Wi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Si(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bi(this):Si(this),this.readyState==3&&zo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,bi(this))},r.Qa=function(u){this.g&&(this.response=u,bi(this))},r.ga=function(){this.g&&bi(this)};function bi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Si(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bo(u){let m="";return Ct(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function xe(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Bo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Wt(u,m,_))}function Kt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Kt,le);var Ta=/^https?$/i,Is=["POST","PUT"];r=Kt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Cr(this.o):Cr(On),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){uu(this,j);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())_.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Is,m,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,nt]of _)this.g.setRequestHeader(j,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){uu(this,j)}};function uu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Aa(u),wi(u)}function Aa(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},r.bb=function(){ba(this)};function ba(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Pn(u)!=4||u.Z()!=2)){if(u.u&&Pn(u)==4)Ve(u.Ea,0,u);else if(Ft(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=nt===0){var U=String(u.D).match(Ts)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!Ta.test(U?U.toLowerCase():"")}_=A}if(_)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var j=2<Pn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Aa(u)}}finally{wi(u)}}}}function wi(u,m){if(u.g){Cs(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ft(u,"ready");try{_.onreadystatechange=A}catch{}}}function Cs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rr(m)}};function cu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oh(u){const m={};u=(u.g&&2<=Pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(dt(u[A]))continue;var _=V(u[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[U]||[];m[U]=j,j.push(_)}O(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Sa(u){this.Aa=0,this.i=[],this.j=new sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,u),this.cb=Ds("retryDelaySeedMs",1e4,u),this.Wa=Ds("forwardChannelMaxRetries",2,u),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(u&&u.concurrentRequestLimit),this.Da=new Rs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Sa.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){re(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=yu(this,null,this.W),Ra(this)};function qo(u){if(hu(u),u.G==3){var m=u.U++,_=vn(u.I);if(Wt(_,"SID",u.K),Wt(_,"RID",m),Wt(_,"TYPE","terminate"),Ns(u,_),m=new P(u,u.j,m),m.L=2,m.v=bs(vn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=_u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qi(m)}pu(u)}function wa(u){u.g&&(Os(u),u.g.cancel(),u.g=null)}function hu(u){wa(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ia(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ra(u){if(!pa(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||D(),ut||(it(),ut=!0),Ut.add(m,u),u.B=0}}function Mh(u,m){return ya(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ue(C(u.Ga,u,m),Fo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new P(this,this.j,u);let j=this.o;if(this.S&&(j?(j=b(j),M(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=fu(this,U,m),_=vn(this.I),Wt(_,"RID",u),Wt(_,"CVER",22),this.D&&Wt(_,"X-HTTP-Session-Id",this.D),Ns(this,_),j&&(this.O?m="headers="+encodeURIComponent(String(Bo(j)))+"&"+m:this.m&&xe(_,this.m,j)),_a(this.h,U),this.Ua&&Wt(_,"TYPE","init"),this.P?(Wt(_,"$req",m),Wt(_,"SID","null"),U.T=!0,we(U,_,null)):we(U,_,m),this.G=2}}else this.G==3&&(u?Ho(this,u):this.i.length==0||pa(this.h)||Ho(this))};function Ho(u,m){var _;m?_=m.l:_=u.U++;const A=vn(u.I);Wt(A,"SID",u.K),Wt(A,"RID",_),Wt(A,"AID",u.T),Ns(u,A),u.m&&u.o&&xe(A,u.m,u.o),_=new P(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=fu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_a(u.h,_),we(_,A,m)}function Ns(u,m){u.H&&Ct(u.H,function(_,A){Wt(m,A,_)}),u.l&&ko({},function(_,A){Wt(m,A,_)})}function fu(u,m,_){_=Math.min(u.i.length,_);var A=u.l?C(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const nt=["count="+_];j==-1?0<_?(j=U[0].g,nt.push("ofs="+j)):j=0:nt.push("ofs="+j);let zt=!0;for(let Ie=0;Ie<_;Ie++){let Bt=U[Ie].g;const ke=U[Ie].map;if(Bt-=j,0>Bt)j=Math.max(0,U[Ie].g-100),zt=!1;else try{Ai(ke,nt,"req"+Bt+"_")}catch{A&&A(ke)}}if(zt){A=nt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function du(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||D(),ut||(it(),ut=!0),Ut.add(m,u),u.v=0}}function jo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ue(C(u.Fa,u),Fo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ue(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),wa(this),mu(this))};function Os(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function mu(u){u.g=new P(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=vn(u.qa);Wt(m,"RID","rpc"),Wt(m,"SID",u.K),Wt(m,"AID",u.T),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Wt(m,"TO",u.ja),Wt(m,"TYPE","xmlhttp"),Ns(u,m),u.m&&u.o&&xe(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=bs(vn(m)),_.m=null,_.P=!0,qe(_,u)}r.Za=function(){this.C!=null&&(this.C=null,wa(this),jo(this),re(19))};function Ia(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){Ia(u),Os(u),u.g=null;var A=2}else if(Vo(u.h,m))_=m.D,an(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=pi(),Ft(A,new pe(A,_)),Ra(u)}else du(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Mh(u,m)||A==2&&jo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Ji(u,5);break;case 4:Ji(u,10);break;case 3:Ji(u,6);break;default:Ji(u,2)}}}function Fo(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ji(u,m){if(u.j.info("Error code "+m),m==2){var _=C(u.fb,u),A=u.Xa;const U=!A;A=new Ee(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||As(A,"https"),bs(A),U?ws(A.toString(),_):ei(A.toString(),_)}else re(2);u.G=0,u.l&&u.l.sa(m),pu(u),hu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function pu(u){if(u.G=0,u.ka=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ka,m),et(u.ka,u.i),u.h.i.length=0,st(u.i),u.i.length=0),u.l.ra()}}function yu(u,m,_){var A=_ instanceof Ee?vn(_):new Ee(_);if(A.g!="")m&&(A.g=m+"."+A.g),Nr(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new Ee(null);A&&As(j,A),m&&(j.g=m),U&&Nr(j,U),_&&(j.l=_),A=j}return _=u.D,m=u.ya,_&&m&&Wt(A,_,m),Wt(A,"VER",u.la),Ns(u,A),A}function _u(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Kt(new Or({eb:_})):new Kt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ca(){}Ca.prototype.g=function(u,m){return new on(u,m)};function on(u,m){le.call(this),this.g=new Sa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ri(this)}J(on,le),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){qo(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=_n(u),u=_);m.i.push(new au(m.Ya++,u)),m.G==3&&Ra(m)},on.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,on.aa.N.call(this)};function Eu(u){Zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(Eu,Zn);function Tu(){_s.call(this),this.status=1}J(Tu,_s);function Ri(u){this.g=u}J(Ri,vu),Ri.prototype.ua=function(){Ft(this.g,"a")},Ri.prototype.ta=function(u){Ft(this.g,new Eu(u))},Ri.prototype.sa=function(u){Ft(this.g,new Tu)},Ri.prototype.ra=function(){Ft(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,GE=function(){return new Ca},FE=function(){return pi()},jE=Nn,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,Vc=vi,Jn.COMPLETE="complete",HE=Jn,ys.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",le.prototype.listen=le.prototype.K,Ml=ys,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,qE=Kt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const wv="@firebase/firestore",Rv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new lh("@firebase/firestore");function so(){return ea.logLevel}function at(r,...t){if(ea.logLevel<=kt.DEBUG){const n=t.map(Bm);ea.debug(`Firestore (${wo}): ${r}`,...n)}}function Ar(r,...t){if(ea.logLevel<=kt.ERROR){const n=t.map(Bm);ea.error(`Firestore (${wo}): ${r}`,...n)}}function go(r,...t){if(ea.logLevel<=kt.WARN){const n=t.map(Bm);ea.warn(`Firestore (${wo}): ${r}`,...n)}}function Bm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,QE(r,s,n)}function QE(r,t,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ar(s),new Error(s)}function Yt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||QE(t,o,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends fi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}}class lC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uC{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new KE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class cC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new cC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Iv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Iv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Iv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dC(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function Ot(r,t){return r<t?-1:r>t?1:0}function sm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ot(s,o);{const c=YE(),f=mC(c.encode(Cv(r,n)),c.encode(Cv(t,n)));return f!==0?f:Ot(s,o)}}n+=s>65535?2:1}return Ot(r.length,t.length)}function Cv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function mC(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ot(r[n],t[n]);return Ot(r.length,t.length)}function po(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-62135596800,Nv=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(t){return Oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Nv);return new Oe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Dv)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Dv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Oe(0,0))}static max(){return new bt(new Oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="__name__";class Vi{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=Vi.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return Ot(t.length,n.length)}static compareSegments(t,n){const s=Vi.isNumericId(t),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(t).compare(Vi.extractNumericId(n)):sm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return os.fromString(t.substring(4,t.length-2))}}class ae extends Vi{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const gC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Vi{construct(t,n,s){return new Ye(t,n,s)}static isValidIdentifier(t){return gC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ov}static keyField(){return new Ye([Ov])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(c(),o++)}if(c(),f)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ae.fromString(t))}static fromName(t){return new mt(ae.fromString(t).popFirst(5))}static empty(){return new mt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function pC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new Oe(n+1,0):new Oe(n,s));return new cs(o,mt.empty(),t)}function yC(r){return new cs(r.readTime,r.key,Gl)}class cs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(bt.min(),mt.empty(),Gl)}static max(){return new cs(bt.max(),mt.empty(),Gl)}}function _C(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:Ot(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==vC)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,s)=>{n(t)})}static reject(t){return new $((n,s)=>{s(t)})}static waitFor(t){return new $((n,s)=>{let o=0,c=0,f=!1;t.forEach(g=>{++o,g.next(()=>{++c,f&&c===o&&n()},p=>s(p))}),f=!0,c===o&&n()})}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,c)=>{s.push(n.call(this,o,c))}),this.waitFor(s)}static mapArray(t,n){return new $((s,o)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(t[y]).next(T=>{f[y]=T,++g,g===c&&s(f)},T=>o(T))}})}static doWhile(t,n){return new $((s,o)=>{const c=()=>{t()===!0?n().next(()=>{c()},o):s()};c()})}}function TC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}mh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=-1;function gh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function AC(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="";function bC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Mv(t)),t=SC(r.get(n),t);return Mv(t)}function SC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case $E:n+="";break;default:n+=c}}return n}function Mv(r){return r+$E+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function sa(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function ZE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=o??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new Ke(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,c){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(t){return new xv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class xv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new oi([])}unionWith(t){let n=new Me(Ye.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new oi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new WE("Invalid base64 string: "+c):c}}(t);return new Xe(n)}static fromUint8Array(t){const n=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const wC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const n=wC.exec(r);if(Yt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="server_timestamp",tT="__type__",eT="__previous_value__",nT="__local_write_time__";function Hm(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[tT])===null||n===void 0?void 0:n.stringValue)===JE}function ph(r){const t=r.mapValue.fields[eT];return Hm(t)?ph(t):t}function Ql(r){const t=hs(r.mapValue.fields[nT].timestampValue);return new Oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t,n,s,o,c,f,g,p,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const $c="(default)";class Kl{constructor(t,n){this.projectId=t,this.database=n||$c}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Kl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__type__",IC="__max__",wc={mapValue:{}},rT="__vector__",Zc="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:DC(r)?9007199254740991:CC(r)?10:11:vt(28295,{value:r})}function zi(r,t){if(r===t)return!0;const n=ds(r);if(n!==ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ql(r).isEqual(Ql(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=hs(o.timestampValue),g=hs(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return fs(o.bytesValue).isEqual(fs(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return ve(o.geoPointValue.latitude)===ve(c.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ve(o.integerValue)===ve(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=ve(o.doubleValue),g=ve(c.doubleValue);return f===g?Xc(f)===Xc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return po(r.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Vv(f)!==Vv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!zi(f[p],g[p])))return!1;return!0}(r,t);default:return vt(52216,{left:r})}}function Yl(r,t){return(r.values||[]).find(n=>zi(n,t))!==void 0}function yo(r,t){if(r===t)return 0;const n=ds(r),s=ds(t);if(n!==s)return Ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=ve(c.integerValue||c.doubleValue),p=ve(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return kv(r.timestampValue,t.timestampValue);case 4:return kv(Ql(r),Ql(t));case 5:return sm(r.stringValue,t.stringValue);case 6:return function(c,f){const g=fs(c),p=fs(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Ot(g[y],p[y]);if(T!==0)return T}return Ot(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=Ot(ve(c.latitude),ve(f.latitude));return g!==0?g:Ot(ve(c.longitude),ve(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Pv(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,y,T;const w=c.fields||{},C=f.fields||{},G=(g=w[Zc])===null||g===void 0?void 0:g.arrayValue,J=(p=C[Zc])===null||p===void 0?void 0:p.arrayValue,st=Ot(((y=G?.values)===null||y===void 0?void 0:y.length)||0,((T=J?.values)===null||T===void 0?void 0:T.length)||0);return st!==0?st:Pv(G,J)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===wc.mapValue&&f===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(f===wc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const C=sm(p[w],T[w]);if(C!==0)return C;const G=yo(g[p[w]],y[T[w]]);if(G!==0)return G}return Ot(p.length,T.length)}(r.mapValue,t.mapValue);default:throw vt(23264,{Pe:n})}}function kv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const n=hs(r),s=hs(t),o=Ot(n.seconds,s.seconds);return o!==0?o:Ot(n.nanos,s.nanos)}function Pv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=yo(n[o],s[o]);if(c)return c}return Ot(n.length,s.length)}function _o(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return fs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return mt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=am(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${am(n.fields[f])}`;return o+"}"}(r.mapValue):vt(61005,{value:r})}function xc(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(r);return t?16+xc(t):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+xc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return sa(s.fields,(c,f)=>{o+=c.length+xc(f)}),o}(r.mapValue);default:throw vt(13486,{value:r})}}function Uv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function om(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function Lv(r){return!!r&&"nullValue"in r}function zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kc(r){return!!r&&"mapValue"in r}function CC(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[iT])===null||n===void 0?void 0:n.stringValue)===rT}function zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return sa(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=zl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function DC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===IC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!kc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(n)}setAll(t){let n=Ye.emptyPath(),s={},o=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=zl(f):o.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){sa(n,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new Fn(zl(this.value))}}function sT(r){const t=[];return sa(r.fields,(n,s)=>{const o=new Ye([n]);if(kc(s)){const c=sT(s.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)}),new oi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,n,s,o,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new tn(t,0,bt.min(),bt.min(),bt.min(),Fn.empty(),0)}static newFoundDocument(t,n,s,o){return new tn(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new tn(t,2,n,bt.min(),bt.min(),Fn.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,bt.min(),bt.min(),Fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n){this.position=t,this.inclusive=n}}function Bv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],f=r.position[o];if(c.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function qv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n="asc"){this.field=t,this.dir=n}}function NC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{}class Se extends aT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new MC(t,n,s):n==="array-contains"?new kC(t,s):n==="in"?new PC(t,s):n==="not-in"?new UC(t,s):n==="array-contains-any"?new LC(t,s):new Se(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new VC(t,s):new xC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends aT{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new hi(t,n)}matches(t){return oT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function oT(r){return r.op==="and"}function lT(r){return OC(r)&&oT(r)}function OC(r){for(const t of r.filters)if(t instanceof hi)return!1;return!0}function lm(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(lT(r))return r.filters.map(t=>lm(t)).join(",");{const t=r.filters.map(n=>lm(n)).join(",");return`${r.op}(${t})`}}function uT(r,t){return r instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)}(r,t):r instanceof hi?function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,g)=>c&&uT(f,o.filters[g]),!0):!1}(r,t):void vt(19439)}function cT(r){return r instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(r):r instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(cT).join(" ,")+"}"}(r):"Filter"}class MC extends Se{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class VC extends Se{constructor(t,n){super(t,"in",n),this.keys=hT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class xC extends Se{constructor(t,n){super(t,"not-in",n),this.keys=hT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function hT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>mt.fromName(s.referenceValue))}class kC extends Se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return jm(n)&&Yl(n.arrayValue,this.value)}}class PC extends Se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class UC extends Se{constructor(t,n){super(t,"not-in",n)}matches(t){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class LC extends Se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Yl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t,n=null,s=[],o=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=g,this.Ie=null}}function Hv(r,t=null,n=[],s=[],o=null,c=null,f=null){return new zC(r,t,n,s,o,c,f)}function Fm(r){const t=wt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>lm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),gh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>_o(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>_o(s)).join(",")),t.Ie=n}return t.Ie}function Gm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!NC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!uT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!qv(r.startAt,t.startAt)&&qv(r.endAt,t.endAt)}function um(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n=null,s=[],o=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function BC(r,t,n,s,o,c,f,g){return new eu(r,t,n,s,o,c,f,g)}function Qm(r){return new eu(r)}function jv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fT(r){return r.collectionGroup!==null}function Bl(r){const t=wt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Me(Ye.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Jc(c,s))}),n.has(Ye.keyField().canonicalString())||t.Ee.push(new Jc(Ye.keyField(),s))}return t.Ee}function ki(r){const t=wt(r);return t.de||(t.de=qC(t,Bl(r))),t.de}function qC(r,t){if(r.limitType==="F")return Hv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Jc(o.field,c)});const n=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return Hv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function cm(r,t){const n=r.filters.concat([t]);return new eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function hm(r,t,n){return new eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function yh(r,t){return Gm(ki(r),ki(t))&&r.limitType===t.limitType}function dT(r){return`${Fm(ki(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>cT(o)).join(", ")}]`),gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>_o(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(ki(r))}; limitType=${r.limitType})`}function _h(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):mt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of Bl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,g,p){const y=Bv(f,g,p);return f.inclusive?y<=0:y<0}(s.startAt,Bl(s),o)||s.endAt&&!function(f,g,p){const y=Bv(f,g,p);return f.inclusive?y>=0:y>0}(s.endAt,Bl(s),o))}(r,t)}function HC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mT(r){return(t,n)=>{let s=!1;for(const o of Bl(r)){const c=jC(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function jC(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),y=g.data.field(c);return p!==null&&y!==null?yo(p,y):vt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){sa(this.inner,(n,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new de(mt.comparator);function br(){return FC}const gT=new de(mt.comparator);function Vl(...r){let t=gT;for(const n of r)t=t.insert(n.key,n);return t}function pT(r){let t=gT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function $s(){return ql()}function yT(){return ql()}function ql(){return new aa(r=>r.toString(),(r,t)=>r.isEqual(t))}const GC=new de(mt.comparator),QC=new Me(mt.comparator);function Pt(...r){let t=QC;for(const n of r)t=t.add(n);return t}const KC=new Me(Ot);function YC(){return KC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function _T(r){return{integerValue:""+r}}function XC(r,t){return AC(t)?_T(t):Km(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function $C(r,t,n){return r instanceof th?function(o,c){const f={fields:{[tT]:{stringValue:JE},[nT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hm(c)&&(c=ph(c)),c&&(f.fields[eT]=c),{mapValue:f}}(n,t):r instanceof Xl?ET(r,t):r instanceof $l?TT(r,t):function(o,c){const f=vT(o,c),g=Fv(f)+Fv(o.Re);return om(f)&&om(o.Re)?_T(g):Km(o.serializer,g)}(r,t)}function ZC(r,t,n){return r instanceof Xl?ET(r,t):r instanceof $l?TT(r,t):n}function vT(r,t){return r instanceof eh?function(s){return om(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class th extends vh{}class Xl extends vh{constructor(t){super(),this.elements=t}}function ET(r,t){const n=AT(t);for(const s of r.elements)n.some(o=>zi(o,s))||n.push(s);return{arrayValue:{values:n}}}class $l extends vh{constructor(t){super(),this.elements=t}}function TT(r,t){let n=AT(t);for(const s of r.elements)n=n.filter(o=>!zi(o,s));return{arrayValue:{values:n}}}class eh extends vh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Fv(r){return ve(r.integerValue||r.doubleValue)}function AT(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function WC(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Xl&&o instanceof Xl||s instanceof $l&&o instanceof $l?po(s.elements,o.elements,zi):s instanceof eh&&o instanceof eh?zi(s.Re,o.Re):s instanceof th&&o instanceof th}(r.transform,t.transform)}class JC{constructor(t,n){this.version=t,this.transformResults=n}}class ui{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Eh{}function bT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ym(r.key,ui.none()):new nu(r.key,r.data,ui.none());{const n=r.data,s=Fn.empty();let o=new Me(Ye.comparator);for(let c of t.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new oa(r.key,s,new oi(o.toArray()),ui.none())}}function t2(r,t,n){r instanceof nu?function(o,c,f){const g=o.value.clone(),p=Qv(o.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof oa?function(o,c,f){if(!Pc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Qv(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(ST(o)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Hl(r,t,n,s){return r instanceof nu?function(c,f,g,p){if(!Pc(c.precondition,f))return g;const y=c.value.clone(),T=Kv(c.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof oa?function(c,f,g,p){if(!Pc(c.precondition,f))return g;const y=Kv(c.fieldTransforms,p,f),T=f.data;return T.setAll(ST(c)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,t,n,s):function(c,f,g){return Pc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function e2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=vT(s.transform,o||null);c!=null&&(n===null&&(n=Fn.empty()),n.set(s.field,c))}return n||null}function Gv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,(c,f)=>WC(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class nu extends Eh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class oa extends Eh{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ST(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Qv(r,t,n){const s=new Map;Yt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,g=t.data.field(c.field);s.set(c.field,ZC(f,g,n[o]))}return s}function Kv(r,t,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,$C(c,f,t))}return s}class Ym extends Eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n2 extends Eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&t2(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Hl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Hl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=yT();return this.mutations.forEach(o=>{const c=t.get(o.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(o.key)?null:g;const p=bT(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,(n,s)=>Gv(n,s))&&po(this.baseMutations,t.baseMutations,(n,s)=>Gv(n,s))}}class Xm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return GC}();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Xm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Ht;function a2(r){switch(r){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function wT(r){if(r===void 0)return Ar("GRPC error has no .code"),Z.UNKNOWN;switch(r){case be.OK:return Z.OK;case be.CANCELLED:return Z.CANCELLED;case be.UNKNOWN:return Z.UNKNOWN;case be.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case be.INTERNAL:return Z.INTERNAL;case be.UNAVAILABLE:return Z.UNAVAILABLE;case be.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case be.NOT_FOUND:return Z.NOT_FOUND;case be.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case be.ABORTED:return Z.ABORTED;case be.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case be.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(Ht=be||(be={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new os([4294967295,4294967295],0);function Yv(r){const t=YE().encode(r),n=new BE;return n.update(t),new Uint8Array(n.digest())}function Xv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new os([n,s],0),new os([o,c],0)]}class $m{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(s<0)throw new xl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=os.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(os.fromNumber(s)));return o.compare(o2)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Yv(t),[s,o]=Xv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,o,c);if(!this.be(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new $m(c,o,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.pe===0)return;const n=Yv(t),[s,o]=Xv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,o,c);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Th(bt.min(),o,new de(Ot),br(),Pt())}}class iu{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new iu(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class RT{constructor(t,n){this.targetId=t,this.Ce=n}}class IT{constructor(t,n,s=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class $v{constructor(){this.Fe=0,this.Me=Zv(),this.xe=Xe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Pt(),n=Pt(),s=Pt();return this.Me.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:c})}}),new iu(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=Zv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class l2{constructor(t){this.ze=t,this.je=new Map,this.He=br(),this.Je=Rc(),this.Ye=Rc(),this.Ze=new de(Ot)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:vt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const c=o.target;if(um(c))if(s===0){const f=new mt(c.path);this.tt(n,f,tn.newNoDocument(f,bt.min()))}else Yt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const g=this.ct(t),p=g?this.lt(g,t,f):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,g;try{f=fs(s).toUint8Array()}catch(p){if(p instanceof WE)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new $m(f,o,c)}catch(p){return go(p instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(c=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),o++)}),o}It(t){const n=new Map;this.je.forEach((c,f)=>{const g=this._t(f);if(g){if(c.current&&um(g.target)){const p=new mt(g.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,tn.newNoDocument(p,t))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let s=Pt();this.Ye.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,f)=>f.setReadTime(t));const o=new Th(t,n,this.Ze,this.He,s);return this.He=br(),this.Je=Rc(),this.Ye=Rc(),this.Ze=new de(Ot),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new $v,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Me(Ot),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Me(Ot),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new $v),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Rc(){return new de(mt.comparator)}function Zv(){return new de(mt.comparator)}const u2={asc:"ASCENDING",desc:"DESCENDING"},c2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h2={and:"AND",or:"OR"};class f2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fm(r,t){return r.useProto3Json||gh(t)?t:{value:t}}function nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function d2(r,t){return nh(r,t.toTimestamp())}function Pi(r){return Yt(!!r,49232),bt.fromTimestamp(function(n){const s=hs(n);return new Oe(s.seconds,s.nanos)}(r))}function Zm(r,t){return dm(r,t).canonicalString()}function dm(r,t){const n=function(o){return new ae(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function DT(r){const t=ae.fromString(r);return Yt(xT(t),10190,{key:t.toString()}),t}function mm(r,t){return Zm(r.databaseId,t.path)}function zd(r,t){const n=DT(t);if(n.get(1)!==r.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(OT(n))}function NT(r,t){return Zm(r.databaseId,t)}function m2(r){const t=DT(r);return t.length===4?ae.emptyPath():OT(t)}function gm(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OT(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Wv(r,t,n){return{name:mm(r,t),fields:n.value.mapValue.fields}}function g2(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Yt(T===void 0||typeof T=="string",58123),Xe.fromBase64String(T||"")):(Yt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xe.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(y){const T=y.code===void 0?Z.UNKNOWN:wT(y.code);return new ot(T,y.message||"")}(f);n=new IT(s,o,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=zd(r,s.document.name),c=Pi(s.document.updateTime),f=s.document.createTime?Pi(s.document.createTime):bt.min(),g=new Fn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,c,f,g),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Uc(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=zd(r,s.document),c=s.readTime?Pi(s.readTime):bt.min(),f=tn.newNoDocument(o,c),g=s.removedTargetIds||[];n=new Uc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=zd(r,s.document),c=s.removedTargetIds||[];n=new Uc([],c,o,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new s2(o,c),g=s.targetId;n=new RT(g,f)}}return n}function p2(r,t){let n;if(t instanceof nu)n={update:Wv(r,t.key,t.value)};else if(t instanceof Ym)n={delete:mm(r,t.key)};else if(t instanceof oa)n={update:Wv(r,t.key,t.data),updateMask:w2(t.fieldMask)};else{if(!(t instanceof n2))return vt(16599,{ft:t.type});n={verify:mm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw vt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:d2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)}(r,t.precondition)),n}function y2(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map(n=>function(o,c){let f=o.updateTime?Pi(o.updateTime):Pi(c);return f.isEqual(bt.min())&&(f=Pi(c)),new JC(f,o.transformResults||[])}(n,t))):[]}function _2(r,t){return{documents:[NT(r,t.path)]}}function v2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NT(r,o);const c=function(y){if(y.length!==0)return VT(hi.create(y,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:oo(C.field),direction:A2(C.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=fm(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:n,parent:o}}function E2(r){let t=m2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Yt(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(w){const C=MT(w);return C instanceof hi&&lT(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(C=>function(J){return new Jc(lo(J.field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(C))}(n.orderBy));let g=null;n.limit&&(g=function(w){let C;return C=typeof w=="object"?w.value:w,gh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(w){const C=!!w.before,G=w.values||[];return new Wc(G,C)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const C=!w.before,G=w.values||[];return new Wc(G,C)}(n.endAt)),BC(t,o,f,c,g,"F",p,y)}function T2(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=lo(n.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return Se.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Se.create(lo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(s=>MT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(n.compositeFilter.op))}(r):vt(30097,{filter:r})}function A2(r){return u2[r]}function b2(r){return c2[r]}function S2(r){return h2[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Ye.fromServerFormat(r.fieldPath)}function VT(r){return r instanceof Se?function(n){if(n.op==="=="){if(zv(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(Lv(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zv(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(Lv(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:b2(n.op),value:n.value}}}(r):r instanceof hi?function(n){const s=n.getFilters().map(o=>VT(o));return s.length===1?s[0]:{compositeFilter:{op:S2(n.op),filters:s}}}(r):vt(54877,{filter:r})}function w2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function xT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,n,s,o,c=bt.min(),f=bt.min(),g=Xe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new rs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.wt=t}}function I2(r){const t=E2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.Cn=new D2}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(cs.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(cs.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class D2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Me(ae.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Me(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(kT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new vo(0)}static lr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="LruGarbageCollector",N2=1048576;function e0([r,t],[n,s]){const o=Ot(r,n);return o===0?Ot(t,s):o}class O2{constructor(t){this.Er=t,this.buffer=new Me(e0),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();e0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){at(t0,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?at(t0,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.mr(3e5)})}}class V2{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return $.resolve(mh.le);const s=new O2(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Jv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,c,f,g,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(s=w,g=Date.now(),this.removeTargets(t,s,n))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(y=Date.now(),so()<=kt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function x2(r,t){return new V2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.changes=new aa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Hl(s.mutation,o,oi.empty(),Oe.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Pt()){const o=$s();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(c=>{let f=Vl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=$s();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Pt()))}populateOverlays(t,n,s){const o=[];return s.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,o){let c=br();const f=ql(),g=function(){return ql()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof oa)?c=c.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Hl(T.mutation,y,T.mutation.getFieldMask(),Oe.now())):f.set(y.key,oi.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var w;return g.set(y,new P2(T,(w=f.get(y))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(t,n){const s=ql();let o=new de((f,g)=>f-g),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||oi.empty();T=g.applyToLocalView(y,T),s.set(p,T);const w=(o.get(g.batchId)||Pt()).add(p);o=o.insert(g.batchId,w)})}).next(()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,w=yT();T.forEach(C=>{if(!c.has(C)){const G=bT(n.get(C),s.get(C));G!==null&&w.set(C,G),c=c.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,w))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):$.resolve($s());let g=Gl,p=c;return f.next(y=>$.forEach(y,(T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Pt())).next(T=>({batchId:g,changes:pT(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next(s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(t,c).next(g=>$.forEach(g,p=>{const y=function(w,C){return new eu(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(T=>{T.forEach((w,C)=>{f=f.insert(w,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o))).next(f=>{c.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))});let g=Vl();return f.forEach((p,y)=>{const T=c.get(p);T!==void 0&&Hl(T.mutation,y,oi.empty(),Oe.now()),_h(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return $.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:I2(o.bundledQuery),readTime:Pi(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.overlays=new de(mt.comparator),this.Qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=$s();return $.forEach(n,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,c)=>{this.St(t,n,c)}),$.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const o=$s(),c=n.length+1,f=new mt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new de((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=$s(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=$s(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return $.resolve(g)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new r2(n,s));let c=this.Qr.get(n);c===void 0&&(c=Pt(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.$r=new Me(ze.Ur),this.Kr=new Me(ze.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new ze(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new ze(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new mt(new ae([])),s=new ze(n,t),o=new ze(n,t+1),c=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),c.push(f.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new mt(new ae([])),s=new ze(n,t),o=new ze(n,t+1);let c=Pt();return this.Kr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new ze(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return mt.comparator(t.key,n.key)||Ot(t.Zr,n.Zr)}static Wr(t,n){return Ot(t.Zr,n.Zr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Me(ze.Ur)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new i2(c,n,s,o);this.mutationQueue.push(f);for(const g of o)this.Xr=this.Xr.add(new ze(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qm:this.nr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),o=new ze(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,o],f=>{const g=this.ei(f.Zr);c.push(g)}),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Me(Ot);return n.forEach(o=>{const c=new ze(o,0),f=new ze(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,f],g=>{s=s.add(g.Zr)})}),$.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;mt.isDocumentKey(c)||(c=c.child(""));const f=new ze(new mt(c),0);let g=new Me(Ot);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Zr)),!0)},f),$.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Yt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return $.forEach(n.mutations,o=>{const c=new ze(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new ze(n,0),o=this.Xr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t){this.ii=t,this.docs=function(){return new de(mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let s=br();return n.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():tn.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=br();const f=n.path,g=new mt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||_C(yC(T),s)<=0||(o.has(T.key)||_h(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}si(t,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new j2(this)}getSize(t){return $.resolve(this.size)}}class j2 extends k2{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),$.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t){this.persistence=t,this.oi=new aa(n=>Fm(n),Gm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this._i=0,this.ai=new Wm,this.targetCount=0,this.ui=vo.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),$.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new vo(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Tr(n),$.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.oi.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),$.waitFor(c).next(()=>o)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(f=>{c.push(o.markPotentiallyOrphaned(t,f))}),$.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,n){this.ci={},this.overlays={},this.li=new mh(0),this.hi=!1,this.hi=!0,this.Pi=new B2,this.referenceDelegate=t(this),this.Ti=new F2(this),this.indexManager=new C2,this.remoteDocumentCache=function(o){return new H2(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new R2(n),this.Ei=new L2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new z2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new q2(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){at("MemoryPersistence","Starting transaction:",t);const o=new G2(this.li.next());return this.referenceDelegate.di(),s(o).next(c=>this.referenceDelegate.Ai(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ri(t,n){return $.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class G2 extends EC{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Vi=new Wm,this.mi=null}static fi(t){return new Jm(t)}get gi(){if(this.mi)return this.mi;throw vt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,s=>{const o=mt.fromPath(s);return this.pi(t,o).next(c=>{c||n.removeEntry(o,bt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return $.or([()=>$.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class ih{constructor(t,n){this.persistence=t,this.yi=new aa(s=>bC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=x2(this,n)}static fi(t,n){return new ih(t,n)}di(){}Ai(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return $.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(c=>c?$.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,n).next(g=>{g||(s++,c.removeEntry(f,bt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),$.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xc(t.data.value)),n}Dr(t,n,s){return $.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Pt(),o=Pt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new tg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ES()?8:TC(en())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.ws(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.bs(t,n,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new Q2;return this.Ss(t,n,f).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,f,g.size)})}).next(()=>c.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(so()<=kt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(so()<=kt.DEBUG&&at("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(so()<=kt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ki(n))):$.resolve())}ws(t,n){if(jv(n))return $.resolve(null);let s=ki(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=hm(n,null,"F"),s=ki(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Pt(...c);return this.ys.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.vs(n,g);return this.Cs(n,y,f,p.readTime)?this.ws(t,hm(n,null,"F")):this.Fs(t,y,n,p)}))})))}bs(t,n,s,o){return jv(n)||o.isEqual(bt.min())?$.resolve(null):this.ys.getDocuments(t,s).next(c=>{const f=this.vs(n,c);return this.Cs(n,f,s,o)?$.resolve(null):(so()<=kt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.Fs(t,f,n,pC(o,Gl)).next(g=>g))})}vs(t,n){let s=new Me(mT(t));return n.forEach((o,c)=>{_h(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,n,s){return so()<=kt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ys.getDocumentsMatchingQuery(t,n,cs.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LocalStore",Y2=3e8;class X2{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new de(Ot),this.Os=new aa(c=>Fm(c),Gm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new U2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function $2(r,t,n,s){return new X2(r,t,n,s)}async function UT(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Pt();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:g}))})})}function Z2(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const w=y.batch,C=w.keys();let G=$.resolve();return C.forEach(J=>{G=G.next(()=>T.getEntry(p,J)).next(st=>{const et=y.docVersions.get(J);Yt(et!==null,48541),st.version.compareTo(et)<0&&(w.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),T.addEntry(st)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(p,w))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Pt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function LT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function W2(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const g=[];t.targetChanges.forEach((T,w)=>{const C=o.get(w);if(!C)return;g.push(n.Ti.removeMatchingKeys(c,T.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(c,T.addedDocuments,w)));let G=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?G=G.withResumeToken(Xe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,s)),o=o.insert(w,G),function(st,et,St){return st.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=Y2?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(C,G,T)&&g.push(n.Ti.updateTargetData(c,G))});let p=br(),y=Pt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(J2(c,f,t.documentUpdates).next(T=>{p=T.qs,y=T.Qs})),!s.isEqual(bt.min())){const T=n.Ti.getLastRemoteSnapshotVersion(c).next(w=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return $.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(n.xs=o,c))}function J2(r,t,n){let s=Pt(),o=Pt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=br();return n.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):at(eg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function tD(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=qm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function eD(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(c=>c?(o=c,$.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new rs(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function pm(r,t,n){const s=wt(r),o=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Io(f))throw f;at(eg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function n0(r,t,n){const s=wt(r);let o=bt.min(),c=Pt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const w=wt(p),C=w.Os.get(T);return C!==void 0?$.resolve(w.xs.get(C)):w.Ti.getTargetData(y,T)}(s,f,ki(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?c:Pt())).next(g=>(nD(s,HC(t),g),{documents:g,$s:c})))}function nD(r,t,n){let s=r.Ns.get(t)||bt.min();n.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class i0{constructor(){this.activeTargetIds=YC()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iD{constructor(){this.xo=new i0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new i0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="ConnectivityMonitor";class s0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){at(r0,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){at(r0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function ym(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RestConnection",sD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aD{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===$c?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,c){const f=ym(),g=this.jo(t,n.toUriEncodedString());at(Bd,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,c);const{host:y}=new URL(g),T=Ao(y);return this.Jo(t,g,p,s,T).then(w=>(at(Bd,`Received RPC '${t}' ${f}: `,w),w),w=>{throw go(Bd,`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",s),w})}Yo(t,n,s,o,c,f){return this.zo(t,n,s,o,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}jo(t,n){const s=sD[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class lD extends aD{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,c){const f=ym();return new Promise((g,p)=>{const y=new qE;y.setWithCredentials(!0),y.listenOnce(HE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Vc.NO_ERROR:const w=y.getResponseJson();at(We,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),g(w);break;case Vc.TIMEOUT:at(We,`RPC '${t}' ${f} timed out`),p(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const C=y.getStatus();if(at(We,`RPC '${t}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const st=function(St){const dt=St.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(dt)>=0?dt:Z.UNKNOWN}(J.status);p(new ot(st,J.message))}else p(new ot(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{h_:t,streamId:f,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{at(We,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(o);at(We,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",T,s,15)})}I_(t,n,s){const o=ym(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=GE(),g=FE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");at(We,`Creating RPC '${t}' stream ${o}: ${T}`,p);const w=f.createWebChannel(T,p);this.E_(w);let C=!1,G=!1;const J=new oD({Zo:et=>{G?at(We,`Not sending because RPC '${t}' stream ${o} is closed:`,et):(C||(at(We,`Opening RPC '${t}' stream ${o} transport.`),w.open(),C=!0),at(We,`RPC '${t}' stream ${o} sending:`,et),w.send(et))},Xo:()=>w.close()}),st=(et,St,dt)=>{et.listen(St,ft=>{try{dt(ft)}catch(Dt){setTimeout(()=>{throw Dt},0)}})};return st(w,Ml.EventType.OPEN,()=>{G||(at(We,`RPC '${t}' stream ${o} transport opened.`),J.__())}),st(w,Ml.EventType.CLOSE,()=>{G||(G=!0,at(We,`RPC '${t}' stream ${o} transport closed`),J.u_(),this.d_(w))}),st(w,Ml.EventType.ERROR,et=>{G||(G=!0,go(We,`RPC '${t}' stream ${o} transport errored. Name:`,et.name,"Message:",et.message),J.u_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))}),st(w,Ml.EventType.MESSAGE,et=>{var St;if(!G){const dt=et.data[0];Yt(!!dt,16349);const ft=dt,Dt=ft?.error||((St=ft[0])===null||St===void 0?void 0:St.error);if(Dt){at(We,`RPC '${t}' stream ${o} received error:`,Dt);const Et=Dt.status;let Ct=function(R){const M=be[R];if(M!==void 0)return wT(M)}(Et),O=Dt.message;Ct===void 0&&(Ct=Z.INTERNAL,O="Unknown error status: "+Et+" with message "+Dt.message),G=!0,J.u_(new ot(Ct,O)),w.close()}else at(We,`RPC '${t}' stream ${o} received:`,dt),J.c_(dt)}}),st(g,jE.STAT_EVENT,et=>{et.stat===rm.PROXY?at(We,`RPC '${t}' stream ${o} detected buffering proxy`):et.stat===rm.NOPROXY&&at(We,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.a_()},0),J}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(r){return new f2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,n,s=1e3,o=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=o,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="PersistentStream";class BT{constructor(t,n,s,o,c,f,g,p){this.xi=t,this.S_=s,this.D_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new zT(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{t(()=>{const o=new ot(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return at(a0,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(at(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uD extends BT{constructor(t,n,s,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=g2(this.serializer,t),s=function(c){if(!("targetChange"in c))return bt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?Pi(f.readTime):bt.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=gm(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=um(p)?{documents:_2(c,p)}:{query:v2(c,p).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=CT(c,f.resumeToken);const y=fm(c,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(bt.min())>0){g.readTime=nh(c,f.snapshotVersion.toTimestamp());const y=fm(c,f.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,t);const s=T2(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=gm(this.serializer),n.removeTarget=t,this.Q_(n)}}class cD extends BT{constructor(t,n,s,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=y2(t.writeResults,t.commitTime),s=Pi(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=gm(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>p2(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{}class fD extends hD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.zo(t,dm(n,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(Z.UNKNOWN,c.toString())})}Yo(t,n,s,o,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Yo(t,dm(n,s),o,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(Z.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class dD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ar(n),this.ua=!1):at("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class mD{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(f=>{s.enqueueAndForget(async()=>{la(this)&&(at(na,"Restarting streams for network reachability change."),await async function(p){const y=wt(p);y.da.add(4),await ru(y),y.Va.set("Unknown"),y.da.delete(4),await bh(y)}(this))})}),this.Va=new dD(s,o)}}async function bh(r){if(la(r))for(const t of r.Aa)await t(!0)}async function ru(r){for(const t of r.Aa)await t(!1)}function qT(r,t){const n=wt(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),sg(n)?rg(n):Co(n).N_()&&ig(n,t))}function ng(r,t){const n=wt(r),s=Co(n);n.Ea.delete(t),s.N_()&&HT(n,t),n.Ea.size===0&&(s.N_()?s.k_():la(n)&&n.Va.set("Unknown"))}function ig(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Co(r).Z_(t)}function HT(r,t){r.ma.Ke(t),Co(r).X_(t)}function rg(r){r.ma=new l2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.Va.ca()}function sg(r){return la(r)&&!Co(r).O_()&&r.Ea.size>0}function la(r){return wt(r).da.size===0}function jT(r){r.ma=void 0}async function gD(r){r.Va.set("Online")}async function pD(r){r.Ea.forEach((t,n)=>{ig(r,t)})}async function yD(r,t){jT(r),sg(r)?(r.Va.Pa(t),rg(r)):r.Va.set("Unknown")}async function _D(r,t,n){if(r.Va.set("Online"),t instanceof IT&&t.state===2&&t.cause)try{await async function(o,c){const f=c.cause;for(const g of c.targetIds)o.Ea.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ea.delete(g),o.ma.removeTarget(g))}(r,t)}catch(s){at(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await rh(r,s)}else if(t instanceof Uc?r.ma.Xe(t):t instanceof RT?r.ma.ot(t):r.ma.nt(t),!n.isEqual(bt.min()))try{const s=await LT(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.ma.It(f);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ea.get(y);T&&c.Ea.set(y,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,y)=>{const T=c.Ea.get(p);if(!T)return;c.Ea.set(p,T.withResumeToken(Xe.EMPTY_BYTE_STRING,T.snapshotVersion)),HT(c,p);const w=new rs(T.target,p,y,T.sequenceNumber);ig(c,w)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){at(na,"Failed to raise snapshot:",s),await rh(r,s)}}async function rh(r,t,n){if(!Io(t))throw t;r.da.add(1),await ru(r),r.Va.set("Offline"),n||(n=()=>LT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{at(na,"Retrying IndexedDB access"),await n(),r.da.delete(1),await bh(r)})}function FT(r,t){return t().catch(n=>rh(r,n,t))}async function Sh(r){const t=wt(r),n=ms(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:qm;for(;vD(t);)try{const o=await tD(t.localStore,s);if(o===null){t.Ia.length===0&&n.k_();break}s=o.batchId,ED(t,o)}catch(o){await rh(t,o)}GT(t)&&QT(t)}function vD(r){return la(r)&&r.Ia.length<10}function ED(r,t){r.Ia.push(t);const n=ms(r);n.N_()&&n.ea&&n.ta(t.mutations)}function GT(r){return la(r)&&!ms(r).O_()&&r.Ia.length>0}function QT(r){ms(r).start()}async function TD(r){ms(r).ia()}async function AD(r){const t=ms(r);for(const n of r.Ia)t.ta(n.mutations)}async function bD(r,t,n){const s=r.Ia.shift(),o=Xm.from(s,t,n);await FT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Sh(r)}async function SD(r,t){t&&ms(r).ea&&await async function(s,o){if(function(f){return a2(f)&&f!==Z.ABORTED}(o.code)){const c=s.Ia.shift();ms(s).L_(),await FT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Sh(s)}}(r,t),GT(r)&&QT(r)}async function o0(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),at(na,"RemoteStore received new credentials");const s=la(n);n.da.add(3),await ru(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await bh(n)}async function wD(r,t){const n=wt(r);t?(n.da.delete(2),await bh(n)):t||(n.da.add(2),await ru(n),n.Va.set("Unknown"))}function Co(r){return r.fa||(r.fa=function(n,s,o){const c=wt(n);return c.oa(),new uD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{e_:gD.bind(null,r),n_:pD.bind(null,r),i_:yD.bind(null,r),Y_:_D.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),sg(r)?rg(r):r.Va.set("Unknown")):(await r.fa.stop(),jT(r))})),r.fa}function ms(r){return r.ga||(r.ga=function(n,s,o){const c=wt(n);return c.oa(),new cD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:TD.bind(null,r),i_:SD.bind(null,r),na:AD.bind(null,r),ra:bD.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await Sh(r)):(await r.ga.stop(),r.Ia.length>0&&(at(na,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const f=Date.now()+s,g=new ag(t,n,f,o,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(r,t){if(Ar("AsyncQueue",`${t}: ${r}`),Io(r))return new ot(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(t){return new fo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof fo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.pa=new de(mt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):vt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Eo{constructor(t,n,s,o,c,f,g,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Eo(t,n,fo.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class ID{constructor(){this.queries=u0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),c=o.queries;o.queries=u0(),c.forEach((f,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function u0(){return new aa(r=>dT(r),yh)}async function KT(r,t){const n=wt(r);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.Da()&&t.va()&&(s=2):(c=new RD,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(o,!0);break;case 1:c.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=og(f,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(g)}n.queries.set(o,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&lg(n)}async function YT(r,t){const n=wt(r),s=t.query;let o=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=t.va()?0:1:!c.Da()&&t.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CD(r,t){const n=wt(r);let s=!1;for(const o of t){const c=o.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Ma(o)&&(s=!0);f.ba=o}}s&&lg(n)}function DD(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(t)}function lg(r){r.Ca.forEach(t=>{t.next()})}var _m,c0;(c0=_m||(_m={})).xa="default",c0.Cache="cache";class XT{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Eo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==_m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t){this.key=t}}class ZT{constructor(t){this.key=t}}class ND{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.Za=mT(t),this.Xa=new fo(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new l0,o=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,w)=>{const C=o.get(T),G=_h(this.query,w)?w:null,J=!!C&&this.mutatedKeys.has(C.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let et=!1;C&&G?C.data.isEqual(G.data)?J!==st&&(s.track({type:3,doc:G}),et=!0):this.ru(C,G)||(s.track({type:2,doc:G}),et=!0,(p&&this.Za(G,p)>0||y&&this.Za(G,y)<0)&&(g=!0)):!C&&G?(s.track({type:0,doc:G}),et=!0):C&&!G&&(s.track({type:1,doc:C}),et=!0,(p||y)&&(g=!0)),et&&(G?(f=f.add(G),c=st?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{Xa:f,nu:s,Cs:g,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((T,w)=>function(G,J){const st=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:et})}};return st(G)-st(J)}(T.type,w.type)||this.Za(T.doc,w.doc)),this.iu(s),o=o!=null&&o;const g=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Ja;return this.Ja=p,f.length!==0||y?{snapshot:new Eo(this.query,t.Xa,c,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new l0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new ZT(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new $T(s))}),n}au(t){this.Ha=t.$s,this.Ya=Pt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Eo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ug="SyncEngine";class OD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class MD{constructor(t){this.key=t,this.cu=!1}}class VD{constructor(t,n,s,o,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new aa(g=>dT(g),yh),this.Pu=new Map,this.Tu=new Set,this.Iu=new de(mt.comparator),this.Eu=new Map,this.du=new Wm,this.Au={},this.Ru=new Map,this.Vu=vo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function xD(r,t,n=!0){const s=iA(r);let o;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.uu()):o=await WT(s,t,n,!0),o}async function kD(r,t){const n=iA(r);await WT(n,t,!0,!1)}async function WT(r,t,n,s){const o=await eD(r.localStore,ki(t)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await PD(r,t,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&qT(r.remoteStore,o),g}async function PD(r,t,n,s,o){r.fu=(w,C,G)=>async function(st,et,St,dt){let ft=et.view.tu(St);ft.Cs&&(ft=await n0(st.localStore,et.query,!1).then(({documents:O})=>et.view.tu(O,ft)));const Dt=dt&&dt.targetChanges.get(et.targetId),Et=dt&&dt.targetMismatches.get(et.targetId)!=null,Ct=et.view.applyChanges(ft,st.isPrimaryClient,Dt,Et);return f0(st,et.targetId,Ct.ou),Ct.snapshot}(r,w,C,G);const c=await n0(r.localStore,t,!0),f=new ND(t,c.$s),g=f.tu(c.documents),p=iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(g,r.isPrimaryClient,p);f0(r,n,y.ou);const T=new OD(t,n,f);return r.hu.set(t,T),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),y.snapshot}async function UD(r,t,n){const s=wt(r),o=s.hu.get(t),c=s.Pu.get(o.targetId);if(c.length>1)return s.Pu.set(o.targetId,c.filter(f=>!yh(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ng(s.remoteStore,o.targetId),vm(s,o.targetId)}).catch(Ro)):(vm(s,o.targetId),await pm(s.localStore,o.targetId,!0))}async function LD(r,t){const n=wt(r),s=n.hu.get(t),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ng(n.remoteStore,s.targetId))}async function zD(r,t,n){const s=QD(r);try{const o=await function(f,g){const p=wt(f),y=Oe.now(),T=g.reduce((G,J)=>G.add(J.key),Pt());let w,C;return p.persistence.runTransaction("Locally write mutations","readwrite",G=>{let J=br(),st=Pt();return p.Bs.getEntries(G,T).next(et=>{J=et,J.forEach((St,dt)=>{dt.isValidDocument()||(st=st.add(St))})}).next(()=>p.localDocuments.getOverlayedDocuments(G,J)).next(et=>{w=et;const St=[];for(const dt of g){const ft=e2(dt,w.get(dt.key).overlayedDocument);ft!=null&&St.push(new oa(dt.key,ft,sT(ft.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(G,y,St,g)}).next(et=>{C=et;const St=et.applyToLocalDocumentSet(w,st);return p.documentOverlayCache.saveOverlays(G,et.batchId,St)})}).then(()=>({batchId:C.batchId,changes:pT(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,g,p){let y=f.Au[f.currentUser.toKey()];y||(y=new de(Ot)),y=y.insert(g,p),f.Au[f.currentUser.toKey()]=y}(s,o.batchId,n),await su(s,o.changes),await Sh(s.remoteStore)}catch(o){const c=og(o,"Failed to persist write");n.reject(c)}}async function JT(r,t){const n=wt(r);try{const s=await W2(n.localStore,t);t.targetChanges.forEach((o,c)=>{const f=n.Eu.get(c);f&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Yt(f.cu,14607):o.removedDocuments.size>0&&(Yt(f.cu,42227),f.cu=!1))}),await su(n,s,t)}catch(s){await Ro(s)}}function h0(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((c,f)=>{const g=f.view.Fa(t);g.snapshot&&o.push(g.snapshot)}),function(f,g){const p=wt(f);p.onlineState=g;let y=!1;p.queries.forEach((T,w)=>{for(const C of w.Sa)C.Fa(g)&&(y=!0)}),y&&lg(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function BD(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),c=o&&o.key;if(c){let f=new de(mt.comparator);f=f.insert(c,tn.newNoDocument(c,bt.min()));const g=Pt().add(c),p=new Th(bt.min(),new Map,new de(Ot),f,g);await JT(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(t),cg(s)}else await pm(s.localStore,t,!1).then(()=>vm(s,t,n)).catch(Ro)}async function qD(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await Z2(n.localStore,t);eA(n,s,null),tA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await su(n,o)}catch(o){await Ro(o)}}async function HD(r,t,n){const s=wt(r);try{const o=await function(f,g){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(w=>(Yt(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,t);eA(s,t,n),tA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await su(s,o)}catch(o){await Ro(o)}}function tA(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function eA(r,t,n){const s=wt(r);let o=s.Au[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function vm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||nA(r,s)})}function nA(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(ng(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),cg(r))}function f0(r,t,n){for(const s of n)s instanceof $T?(r.du.addReference(s.key,t),jD(r,s)):s instanceof ZT?(at(ug,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||nA(r,s.key)):vt(19791,{pu:s})}function jD(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(at(ug,"New document in limbo: "+n),r.Tu.add(s),cg(r))}function cg(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new mt(ae.fromString(t)),s=r.Vu.next();r.Eu.set(s,new MD(n)),r.Iu=r.Iu.insert(n,s),qT(r.remoteStore,new rs(ki(Qm(n.path)),s,"TargetPurposeLimboResolution",mh.le))}}async function su(r,t,n){const s=wt(r),o=[],c=[],f=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{f.push(s.fu(p,t,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(T=n?.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=tg.Rs(p.targetId,y);c.push(w)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,y){const T=wt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>$.forEach(y,C=>$.forEach(C.ds,G=>T.persistence.referenceDelegate.addReference(w,C.targetId,G)).next(()=>$.forEach(C.As,G=>T.persistence.referenceDelegate.removeReference(w,C.targetId,G)))))}catch(w){if(!Io(w))throw w;at(eg,"Failed to update sequence numbers: "+w)}for(const w of y){const C=w.targetId;if(!w.fromCache){const G=T.xs.get(C),J=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion(J);T.xs=T.xs.insert(C,st)}}}(s.localStore,c))}async function FD(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){at(ug,"User change. New user:",t.toKey());const s=await UT(n.localStore,t);n.currentUser=t,function(c,f){c.Ru.forEach(g=>{g.forEach(p=>{p.reject(new ot(Z.CANCELLED,f))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await su(n,s.ks)}}function GD(r,t){const n=wt(r),s=n.Eu.get(t);if(s&&s.cu)return Pt().add(s.key);{let o=Pt();const c=n.Pu.get(t);if(!c)return o;for(const f of c){const g=n.hu.get(f);o=o.unionWith(g.view.eu)}return o}}function iA(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BD.bind(null,t),t.lu.Y_=CD.bind(null,t.eventManager),t.lu.gu=DD.bind(null,t.eventManager),t}function QD(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HD.bind(null,t),t}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return $2(this.persistence,new K2,t.initialUser,this.serializer)}Su(t){return new PT(Jm.fi,this.serializer)}bu(t){return new iD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class KD extends sh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Yt(this.persistence.referenceDelegate instanceof ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new M2(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new PT(s=>ih.fi(s,n),this.serializer)}}class Em{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>h0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FD.bind(null,this.syncEngine),await wD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ID}()}createDatastore(t){const n=Ah(t.databaseInfo.databaseId),s=function(c){return new lD(c)}(t.databaseInfo);return function(c,f,g,p){return new fD(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,c,f,g){return new mD(s,o,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>h0(this.syncEngine,n,0),function(){return s0.C()?new s0:new rD}())}createSyncEngine(t,n){return function(o,c,f,g,p,y,T){const w=new VD(o,c,f,g,p,y);return T&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const c=wt(o);at(na,"RemoteStore shutting down."),c.da.add(5),await ru(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Em.provider={build:()=>new Em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ar("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class YD{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=XE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{at(gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(at(gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=og(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Hd(r,t){r.asyncQueue.verifyOperationInProgress(),at(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await UT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function d0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await XD(r);at(gs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>o0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>o0(t.remoteStore,o)),r._onlineComponents=t}async function XD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(gs,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Hd(r,new sh)}}else at(gs,"Using default OfflineComponentProvider"),await Hd(r,new KD(void 0));return r._offlineComponents}async function sA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(gs,"Using user provided OnlineComponentProvider"),await d0(r,r._uninitializedComponentsProvider._online)):(at(gs,"Using default OnlineComponentProvider"),await d0(r,new Em))),r._onlineComponents}function $D(r){return sA(r).then(t=>t.syncEngine)}async function aA(r){const t=await sA(r),n=t.eventManager;return n.onListen=xD.bind(null,t.syncEngine),n.onUnlisten=UD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=LD.bind(null,t.syncEngine),n}function ZD(r,t,n={}){const s=new vr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,y){const T=new rA({next:C=>{T.xu(),f.enqueueAndForget(()=>YT(c,w));const G=C.docs.has(g);!G&&C.fromCache?y.reject(new ot(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&C.fromCache&&p&&p.source==="server"?y.reject(new ot(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),w=new XT(Qm(g.path),T,{includeMetadataChanges:!0,Qa:!0});return KT(c,w)}(await aA(r),r.asyncQueue,t,n,s)),s.promise}function WD(r,t,n={}){const s=new vr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,y){const T=new rA({next:C=>{T.xu(),f.enqueueAndForget(()=>YT(c,w)),C.fromCache&&p.source==="server"?y.reject(new ot(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),w=new XT(g,T,{includeMetadataChanges:!0,Qa:!0});return KT(c,w)}(await aA(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(r,t,n){if(!n)throw new ot(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function JD(r,t,n,s){if(t===!0&&s===!0)throw new ot(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function g0(r){if(!mt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function p0(r){if(mt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Sr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(r);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firestore.googleapis.com",y0=!0;class _0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uA,this.ssl=y0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:y0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<N2)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new oC;switch(s.type){case"firstParty":return new hC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=m0.get(n);s&&(at("ComponentProvider","Removing Datastore"),m0.delete(n),s.terminate())}(this),Promise.resolve()}}function tN(r,t,n,s={}){var o;r=Sr(r,Rh);const c=Ao(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(O0(`https://${p}`),M0("Firestore",!0)),f.host!==uA&&f.host!==p&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!us(y,g)&&(r._setSettings(y),s.mockUserToken)){let T,w;if(typeof s.mockUserToken=="string")T=s.mockUserToken,w=Je.MOCK_USER;else{T=fS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Je(C)}r._authCredentials=new lC(new KE(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Do(this.firestore,t,this._query)}}class yn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yn(this.firestore,t,this._key)}}class ls extends Do{constructor(t,n,s){super(t,n,Qm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yn(this.firestore,null,new mt(t))}withConverter(t){return new ls(this.firestore,t,this._path)}}function io(r,t,...n){if(r=un(r),lA("collection","path",t),r instanceof Rh){const s=ae.fromString(t,...n);return p0(s),new ls(r,null,s)}{if(!(r instanceof yn||r instanceof ls))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return p0(s),new ls(r.firestore,null,s)}}function mr(r,t,...n){if(r=un(r),arguments.length===1&&(t=XE.newId()),lA("doc","path",t),r instanceof Rh){const s=ae.fromString(t,...n);return g0(s),new yn(r,null,new mt(s))}{if(!(r instanceof yn||r instanceof ls))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return g0(s),new yn(r.firestore,r instanceof ls?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="AsyncQueue";class E0{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new zT(this,"async_queue_retry"),this.rc=()=>{const s=qd();s&&at(v0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new vr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Io(t))throw t;at(v0,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Ar("INTERNAL UNHANDLED ERROR: ",T0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const o=ag.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(o),o}oc(){this.Xu&&vt(47125,{cc:T0(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function T0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class No extends Rh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new E0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new E0(t),this._firestoreClient=void 0,await t}}}function eN(r,t){const n=typeof r=="object"?r:bm(),s=typeof r=="string"?r:$c,o=ra(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=cS("firestore");c&&tN(o,...c)}return o}function hg(r){if(r._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||nN(r),r._firestoreClient}function nN(r){var t,n,s;const o=r._freezeSettings(),c=function(g,p,y,T){return new RC(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,oA(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new YD(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g?._online.build();return{_offline:g?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this._byteString=t}static fromBase64String(t){try{return new To(Xe.fromBase64String(t))}catch(n){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new To(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=/^__.*__$/;class rN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new oa(t,this.data,this.fieldMask,n,this.fieldTransforms):new nu(t,this.data,n,this.fieldTransforms)}}function hA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ic:r})}}class gg{constructor(t,n,s,o,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new gg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return ah(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(hA(this.Ic)&&iN.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class sN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ah(t)}bc(t,n,s,o=!1){return new gg({Ic:t,methodName:n,wc:s,path:Ye.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(r){const t=r._freezeSettings(),n=Ah(r._databaseId);return new sN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function fA(r,t,n,s,o,c={}){const f=r.bc(c.merge||c.mergeFields?2:0,t,n,o);gA("Data must be an object, but it was:",f,s);const g=dA(s,f);let p,y;if(c.merge)p=new oi(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const C=oN(t,w,n);if(!f.contains(C))throw new ot(Z.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);uN(T,C)||T.push(C)}p=new oi(T),y=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=f.fieldTransforms;return new rN(new Fn(g),p,y)}function aN(r,t,n,s=!1){return yg(n,r.bc(s?4:3,t))}function yg(r,t){if(mA(r=un(r)))return gA("Unsupported field value:",t,r),dA(r,t);if(r instanceof cA)return function(s,o){if(!hA(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const g of s){let p=yg(g,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Oe.fromDate(s);return{timestampValue:nh(o.serializer,c)}}if(s instanceof Oe){const c=new Oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nh(o.serializer,c)}}if(s instanceof dg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof To)return{bytesValue:CT(o.serializer,s._byteString)};if(s instanceof yn){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mg)return function(f,g){return{mapValue:{fields:{[iT]:{stringValue:rT},[Zc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw g.gc("VectorValues must only contain numeric values.");return Km(g.serializer,y)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${wh(s)}`)}(r,t)}function dA(r,t){const n={};return ZE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sa(r,(s,o)=>{const c=yg(o,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function mA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Oe||r instanceof dg||r instanceof To||r instanceof yn||r instanceof cA||r instanceof mg)}function gA(r,t,n){if(!mA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=wh(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function oN(r,t,n){if((t=un(t))instanceof fg)return t._internalPath;if(typeof t=="string")return pA(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,n)}const lN=new RegExp("[~\\*/\\[\\]]");function pA(r,t,n){if(t.search(lN)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new fg(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ah(r,t,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ot(Z.INVALID_ARGUMENT,g+r+p)}function uN(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(_A("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cN extends yA{data(){return super.data()}}function _A(r,t){return typeof t=="string"?pA(r,t):t instanceof fg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class fN extends _g{}function jd(r,t,...n){let s=[];t instanceof _g&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof Eg).length,g=c.filter(p=>p instanceof vg).length;if(f>1||f>0&&g>0)throw new ot(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class vg extends fN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new vg(t,n,s)}_apply(t){const n=this._parse(t);return vA(t._query,n),new Do(t.firestore,t.converter,cm(t._query,n))}_parse(t){const n=pg(t.firestore);return function(c,f,g,p,y,T,w){let C;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ot(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){b0(w,T);const J=[];for(const st of w)J.push(A0(p,c,st));C={arrayValue:{values:J}}}else C=A0(p,c,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||b0(w,T),C=aN(g,f,w,T==="in"||T==="not-in");return Se.create(y,T,C)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Eg extends _g{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Eg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,c){let f=o;const g=c.getFlattenedFilters();for(const p of g)vA(f,p),f=cm(f,p)}(t._query,n),new Do(t.firestore,t.converter,cm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function A0(r,t,n){if(typeof(n=un(n))=="string"){if(n==="")throw new ot(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fT(t)&&n.indexOf("/")!==-1)throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ae.fromString(n));if(!mt.isDocumentKey(s))throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Uv(r,new mt(s))}if(n instanceof yn)return Uv(r,n._key);throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function b0(r,t){if(!Array.isArray(r)||r.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vA(r,t){const n=function(o,c){for(const f of o)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ot(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class dN{convertValue(t,n="none"){switch(ds(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return sa(t,(o,c)=>{s[o]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,o;const c=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Zc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ve(f.doubleValue));return new mg(c)}convertGeoPoint(t){return new dg(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ph(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(t));default:return null}}convertTimestamp(t){const n=hs(t);return new Oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);Yt(xT(s),9688,{name:t});const o=new Kl(s.get(1),s.get(3)),c=new mt(s.popFirst(5));return o.isEqual(n)||Ar(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class TA extends yA{constructor(t,n,s,o,c,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(_A("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Lc extends TA{data(t={}){return super.data(t)}}class mN{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Lc(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(g=>{const p=new Lc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new kl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Lc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new kl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:gN(g.type),doc:p,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(r){r=Sr(r,yn);const t=Sr(r.firestore,No);return ZD(hg(t),r._key).then(n=>yN(t,r,n))}class AA extends dN{constructor(t){super(),this.firestore=t}convertBytes(t){return new To(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function Fd(r){r=Sr(r,Do);const t=Sr(r.firestore,No),n=hg(t),s=new AA(t);return hN(r._query),WD(n,r._query).then(o=>new mN(t,s,r,o))}function Cc(r,t,n){r=Sr(r,yn);const s=Sr(r.firestore,No),o=EA(r.converter,t);return Tg(s,[fA(pg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ui.none())])}function Gd(r){return Tg(Sr(r.firestore,No),[new Ym(r._key,ui.none())])}function Qd(r,t){const n=Sr(r.firestore,No),s=mr(r),o=EA(r.converter,t);return Tg(n,[fA(pg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ui.exists(!1))]).then(()=>s)}function Tg(r,t){return function(s,o){const c=new vr;return s.asyncQueue.enqueueAndForget(async()=>zD(await $D(s),o,c)),c.promise}(hg(r),t)}function yN(r,t,n){const s=n.docs.get(t._key),o=new AA(r);return new TA(r,o,t._key,s,new kl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){wo=o})(bo),Ui(new ci("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new No(new uC(s.getProvider("auth-internal")),new fC(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(y.options.projectId,T)}(f,o),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Gn(wv,Rv,t),Gn(wv,Rv,"esm2017")})();const _N={apiKey:"AIzaSyDxYyDUPCRPb5O6-GucCcmO4jcdf9rBEho",authDomain:"daily-money-94f02.firebaseapp.com",projectId:"daily-money-94f02",storageBucket:"daily-money-94f02.firebasestorage.app",messagingSenderId:"31843473349",appId:"1:31843473349:web:249d43c7856d1b60b39dac",measurementId:"G-6WZTW0WFRC"},Ag=z0(_N);iR(Ag);const S0=sC(Ag),vN=new gr,mn=eN(Ag),EN=({isEditing:r,onEdit:t,onSave:n,onCancel:s,onDelete:o,children:c})=>F.createElement("div",{className:`p-3 sm:p-4 border rounded cursor-pointer transition-all duration-200 flex items-center justify-between ${r?"border-gray-300":"bg-gray-50 hover:bg-gray-100 hover:shadow-sm border-gray-200"}`,onClick:r?void 0:t},F.createElement("div",{className:"flex-1"},c),r&&F.createElement("div",{className:"flex gap-2 ml-4"},F.createElement("button",{onClick:n,className:"px-3 py-1 border border-gray-300 rounded text-sm text-black"},"Save"),F.createElement("button",{onClick:s,className:"px-3 py-1 border border-gray-300 rounded text-sm text-black"},"Cancel"),F.createElement("button",{onClick:o,className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm"},"Delete"))),pr=r=>r==null||isNaN(r)?"0":`${Math.round(r).toLocaleString("en-US")}`,TN=r=>r==null||isNaN(r)?"0":Math.round(r).toLocaleString("en-US"),ts=r=>r&&r.charAt(0).toUpperCase()+r.slice(1),ro=({title:r,value:t,subtitle:n,backgroundColor:s="bg-gray-50",textColor:o="text-gray-600",valueColor:c="text-gray-800",inline:f=!1})=>f?F.createElement("div",{className:`p-3 sm:p-4 border rounded w-full cursor-pointer transition-all duration-200 hover:bg-gray-100 hover:shadow-sm border-gray-200 ${s}`},F.createElement("div",{className:"flex flex-col"},F.createElement("span",{className:"font-medium text-sm sm:text-base mb-2"},r),F.createElement("div",{className:"flex justify-between items-center"},F.createElement("span",{className:"font-medium text-sm sm:text-base"},t),n&&F.createElement("span",{className:"text-sm text-gray-600"},n)))):F.createElement("div",{className:`p-3 sm:p-4 border rounded w-full cursor-pointer transition-all duration-200 hover:bg-gray-100 hover:shadow-sm border-gray-200 ${s}`},F.createElement("span",{className:"font-medium text-sm sm:text-base block mb-2"},r),F.createElement("div",{className:"flex justify-between items-center"},F.createElement("div",{className:`font-medium text-sm sm:text-base break-words ${c}`},t),n&&F.createElement("div",{className:`text-sm ${o}`},n))),AN=({incomes:r,costs:t,moneyInBank:n,calculateTotalMoney:s,calculateRecurringIncome:o,calculateMonthlyExpenses:c,calculateDailyFreeMoney:f,calculateHowLongYouCanLive:g})=>{const p=s(),y=o(),T=c(),w=f(),C=g();return F.createElement("div",{className:""},F.createElement("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4"},"Financial Report"),F.createElement("div",{className:"grid gap-4"},F.createElement(ro,{title:"Money in Bank",value:pr(parseFloat(n)||0),subtitle:"Current bank balance",backgroundColor:"bg-gray-50",textColor:"text-gray-600",valueColor:"text-gray-800",inline:!0}),F.createElement(ro,{title:"Total Money Available",value:pr(p),subtitle:"Bank + all income sources",backgroundColor:"bg-gray-50",textColor:"text-gray-600",valueColor:"text-gray-800",inline:!0}),F.createElement(ro,{title:"Monthly Recurring Income",value:pr(y),subtitle:"Regular income streams only",backgroundColor:"bg-gray-50",textColor:"text-gray-600",valueColor:"text-gray-800",inline:!0}),F.createElement(ro,{title:"Total Monthly Expenses",value:pr(T),subtitle:"Including spend limits",backgroundColor:"bg-gray-50",textColor:"text-gray-600",valueColor:"text-gray-800",inline:!0}),F.createElement(ro,{title:"Daily Free Money",value:pr(w),subtitle:"Available daily after expenses",backgroundColor:"bg-gray-50",textColor:"text-gray-600",valueColor:"text-gray-800",inline:!0}),F.createElement(ro,{title:"How Long You Can Live",value:C.message,subtitle:"Based on current income and expenses",backgroundColor:"bg-gray-50",textColor:"text-gray-600",valueColor:"text-gray-800",inline:!0})))},Kd=({title:r,fields:t,onSubmit:n,isSubmitting:s,onKeyPress:o})=>{const[c,f]=Lt.useState(!1);return F.createElement("div",{className:"p-2 sm:p-4 border rounded mb-4 sm:mb-6"},F.createElement("button",{onClick:()=>f(!c),className:"flex items-center justify-between w-full text-left"},F.createElement("h2",{className:"text-lg sm:text-xl font-semibold"},r),F.createElement("svg",{className:`w-5 h-5 transition-transform duration-200 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}))),c&&F.createElement("div",{className:"mt-3 sm:mt-4 grid gap-2 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4"},t.map((g,p)=>F.createElement("div",{key:p},g.type==="select"?F.createElement("select",{value:g.value,onChange:g.onChange,className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base w-full"},g.options.map(y=>F.createElement("option",{key:y.value,value:y.value},y.label))):F.createElement("input",{type:g.type,step:g.step,placeholder:g.placeholder,value:g.value,onChange:g.onChange,onKeyPress:o,className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base w-full"}))),F.createElement("button",{onClick:n,disabled:s,className:`px-3 py-2 text-white rounded text-sm sm:text-base ${s?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`},s?"Adding...":"Add")))},Yd=({title:r,items:t,editingItem:n,onEdit:s,onSave:o,onCancel:c,onDelete:f,renderEditForm:g,renderDisplayContent:p})=>F.createElement("div",{className:""},F.createElement("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4"},r),F.createElement("div",{className:"grid gap-2"},t.map(y=>F.createElement(EN,{key:y.id,isEditing:n===y.id,onEdit:()=>s(y),onSave:o,onCancel:c,onDelete:()=>f(y.id)},n===y.id?g(y):p(y)))));function bN(){const[r,t]=Lt.useState([]),[n,s]=Lt.useState(""),[o,c]=Lt.useState(""),[f,g]=Lt.useState("monthly"),[p,y]=Lt.useState(""),[T,w]=Lt.useState(""),[C,G]=Lt.useState("monthly"),[J,st]=Lt.useState([]),[et,St]=Lt.useState(""),[dt,ft]=Lt.useState(""),[Dt,Et]=Lt.useState(""),[Ct,O]=Lt.useState([]),[b,R]=Lt.useState(null),[M,V]=Lt.useState(!1),[k,I]=Lt.useState(!1),[ie,oe]=Lt.useState("expenses"),[Q,it]=Lt.useState(null),[ut,Ut]=Lt.useState(null),[D,W]=Lt.useState(null),[rt,tt]=Lt.useState(""),[ct,Rt]=Lt.useState(""),[yt,he]=Lt.useState("monthly"),[Qt,nn]=Lt.useState(""),[Cn,cn]=Lt.useState(""),[Qn,Dn]=Lt.useState(""),[Kn,di]=Lt.useState(""),[wr,Be]=Lt.useState(""),[ua,mi]=Lt.useState("monthly"),[Yn,Xn]=Lt.useState("0"),[ps,Bi]=Lt.useState(null),qi=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"},{value:"one-off",label:"One-off"},{value:"money-in-bank",label:"Money in Bank"},{value:"spend-limit",label:"Spend Limit"}];Lt.useEffect(()=>{const P=YR(S0,H=>{R(H),H?ca(H.uid):(st([]),t([]),O([]))});return()=>P()},[]);const ca=async P=>{V(!0);const H=await pN(mr(mn,"users",P,"data","moneyInBank"));H.exists()&&(Xn(H.data().amount.toString()),Bi(H.data().lastUpdate?.toDate()||null));const _t=jd(io(mn,"users",P,"incomes")),we=(await Fd(_t)).docs.map(Re=>({id:Re.id,...Re.data()}));t(we);const qe=jd(io(mn,"users",P,"costs")),ga=(await Fd(qe)).docs.map(Re=>({id:Re.id,...Re.data()}));st(ga);const Qi=jd(io(mn,"users",P,"goals")),Ei=(await Fd(Qi)).docs.map(Re=>({id:Re.id,...Re.data()}));O(Ei),V(!1)},le=async P=>b?(await Qd(io(mn,"users",b.uid,"incomes"),{name:P.name,amount:P.amount,period:P.period,createdAt:new Date})).id:null,Ft=async P=>b?(await Qd(io(mn,"users",b.uid,"costs"),{name:P.name,amount:P.amount,period:P.period,createdAt:new Date})).id:null,rn=async P=>b?(await Qd(io(mn,"users",b.uid,"goals"),{name:P.name,price:P.price,dailyContribution:P.dailyContribution,createdAt:new Date})).id:null,Ve=async P=>{b&&await Cc(mr(mn,"users",b.uid,"data","moneyInBank"),{amount:parseFloat(P)||0,lastUpdate:new Date,updatedAt:new Date})},ha=async P=>{b&&await Gd(mr(mn,"users",b.uid,"incomes",P))},Oo=async P=>{b&&await Gd(mr(mn,"users",b.uid,"costs",P))},Hi=async P=>{b&&await Gd(mr(mn,"users",b.uid,"goals",P))},ji=async(P,H)=>{b&&await Cc(mr(mn,"users",b.uid,"incomes",P),{name:H.name,amount:H.amount,period:H.period,updatedAt:new Date})},Fi=async(P,H)=>{b&&await Cc(mr(mn,"users",b.uid,"costs",P),{name:H.name,amount:H.amount,period:H.period,updatedAt:new Date})},_n=async(P,H)=>{b&&await Cc(mr(mn,"users",b.uid,"goals",P),{name:H.name,price:H.price,dailyContribution:H.dailyContribution,updatedAt:new Date})},Rr=async()=>{await mI(S0,vN)},gi=async()=>{if(!n.trim()||!o.trim())return;const P=parseFloat(o);if(isNaN(P)||P<=0)return;const H={name:ts(n.trim()),amount:P,period:f},_t=await le(H);_t&&(t([...r,{...H,id:_t}]),s(""),c(""))},Ir=async()=>{if(!p.trim()||!T.trim())return;const P=parseFloat(T);if(isNaN(P)||P<=0)return;I(!0);const H={name:ts(p.trim()),amount:P,period:C},_t=await Ft(H);_t&&(st([...J,{...H,id:_t}]),y(""),w("")),I(!1)},Cr=async()=>{if(!et.trim()||!dt.trim()||!Dt.trim())return;const P=parseFloat(dt),H=parseFloat(Dt);if(isNaN(P)||P<=0||isNaN(H)||H<=0)return;const _t={name:ts(et.trim()),price:P,dailyContribution:H},Xt=await rn(_t);Xt&&(O([...Ct,{..._t,id:Xt}]),St(""),ft(""),Et(""))},ys=P=>{W(P.id),di(P.name),Be(P.amount.toString()),mi(P.period)},$n=async()=>{if(!Kn.trim()||!wr.trim())return;const P=parseFloat(wr);if(isNaN(P)||P<=0)return;const H={name:ts(Kn.trim()),amount:P,period:ua};await ji(D,H),t(r.map(_t=>_t.id===D?{..._t,...H}:_t)),W(null),di(""),Be(""),mi("monthly")},Zn=()=>{W(null),di(""),Be(""),mi("monthly")},_s=P=>{it(P.id),tt(P.name),Rt(P.amount.toString()),he(P.period)},Nn=async()=>{if(!rt.trim()||!ct.trim())return;const P=parseFloat(ct);if(isNaN(P)||P<=0)return;const H={name:ts(rt.trim()),amount:P,period:yt};await Fi(Q,H),st(J.map(_t=>_t.id===Q?{..._t,...H}:_t)),it(null),tt(""),Rt(""),he("monthly")},vs=()=>{it(null),tt(""),Rt(""),he("monthly")},pi=P=>{Ut(P.id),nn(P.name),cn(P.price.toString()),Dn(P.dailyContribution.toString())},Dr=async()=>{if(!Qt.trim()||!Cn.trim()||!Qn.trim())return;const P=parseFloat(Cn),H=parseFloat(Qn);if(isNaN(P)||P<=0||isNaN(H)||H<=0)return;const _t={name:Qt.trim(),price:P,dailyContribution:H};await _n(ut,_t),O(Ct.map(Xt=>Xt.id===ut?{...Xt,..._t}:Xt)),Ut(null),nn(""),cn(""),Dn("")},yi=()=>{Ut(null),nn(""),cn(""),Dn("")},fa=async P=>{await ha(P),t(r.filter(H=>H.id!==P))},re=async P=>{await Oo(P),st(J.filter(H=>H.id!==P))},pe=async P=>{await Hi(P),O(Ct.filter(H=>H.id!==P))},ue=P=>{P.key==="Enter"&&(ie==="income"?gi():ie==="expenses"?Ir():ie==="goals"&&Cr())},sn=()=>{const P=parseFloat(Yn)||0,H=r.reduce((_t,Xt)=>{switch(Xt.period){case"daily":return _t+Xt.amount*30;case"weekly":return _t+Xt.amount*4.33;case"monthly":return _t+Xt.amount;case"yearly":return _t+Xt.amount/12;case"one-off":return _t+Xt.amount;case"money-in-bank":return _t;case"spend-limit":return _t;default:return _t}},0);return P+H},_i=()=>r.reduce((P,H)=>{switch(H.period){case"daily":return P+H.amount*30;case"weekly":return P+H.amount*4.33;case"monthly":return P+H.amount;case"yearly":return P+H.amount/12;default:return P}},0),da=()=>{const P=Wn(),H=r.reduce((_t,Xt)=>Xt.period==="spend-limit"?_t+Xt.amount:_t,0);return P+H},Wn=()=>J.reduce((P,H)=>{switch(H.period){case"daily":return P+H.amount*30;case"weekly":return P+H.amount*4.33;case"monthly":return P+H.amount;case"yearly":return P+H.amount/12;case"one-off":return P+H.amount;default:return P}},0),ma=()=>{const P=new Date;return new Date(P.getFullYear(),P.getMonth()+1,0).getDate()},Gi=()=>{const P=_i(),H=Wn(),_t=P-H,Xt=ma();return _t/Xt},vi=()=>{const P=sn(),H=da(),_t=_i();if(_t>=H)return{type:"indefinite",message:"As long as you maintain your current income",months:null,days:null};const Xt=H-_t,we=P/Xt;if(we<=0)return{type:"negative",message:"Your expenses exceed your total money",months:0,days:0};const qe=Math.floor(we),ti=Math.floor((we-qe)*30);return{type:"limited",message:`${qe} months and ${ti} days`,months:qe,days:ti}},Jn=(P,H)=>Math.ceil(P/H),On=P=>{const H=new Date;return H.setDate(H.getDate()+P),H.toLocaleDateString()},Mn=async()=>{const P=new Date,H=P.getDate()===1,_t=ps?new Date(ps):null;if(H&&(!_t||_t.getMonth()!==P.getMonth())){const we=parseFloat(Yn)||0,qe=_i(),ti=we+qe;Xn(ti.toString()),await Ve(ti.toString()),Bi(P)}};return Lt.useEffect(()=>{b&&Mn()},[b,ps]),F.createElement("div",{className:"w-full p-4"},F.createElement("div",{className:"mb-4 p-2 border rounded bg-gray-50"},b?F.createElement("div",{className:"flex items-center justify-between"},F.createElement("div",{className:"flex items-center gap-2 sm:gap-4"},F.createElement("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 flex-shrink-0",viewBox:"0 0 24 24",fill:"none"},F.createElement("ellipse",{cx:"12",cy:"14",rx:"8",ry:"4",fill:"#93C5FD"}),F.createElement("path",{d:"M4 14 Q2 12 4 10 Q6 12 4 14",fill:"#93C5FD"}),F.createElement("ellipse",{cx:"12",cy:"14",rx:"5",ry:"2",fill:"#DBEAFE"}),F.createElement("circle",{cx:"10",cy:"12",r:"1",fill:"#1E40AF"}),F.createElement("path",{d:"M10 15 Q12 16 14 15",stroke:"#1E40AF",strokeWidth:"0.5",fill:"none"}),F.createElement("path",{d:"M12 8 Q12 6 12 4",stroke:"#93C5FD",strokeWidth:"1.5",fill:"none",strokeLinecap:"round"}),F.createElement("circle",{cx:"12",cy:"4",r:"0.5",fill:"#93C5FD"})),F.createElement("nav",{className:"flex"},[{id:"income",name:"Income"},{id:"expenses",name:"Expenses"},{id:"goals",name:"Goals"},{id:"report",name:"Report"}].map(P=>F.createElement("button",{key:P.id,onClick:()=>oe(P.id),className:`py-2 px-1 sm:px-3 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${ie===P.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},P.name)))),F.createElement("div",{className:"flex items-center flex-shrink-0"},F.createElement("img",{src:b.photoURL,alt:"Profile",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full"}))):F.createElement("div",{className:"flex items-center justify-between"},F.createElement("div",{className:"flex items-center gap-2 sm:gap-4"},F.createElement("svg",{className:"w-6 h-6 sm:w-8 sm:h-8",viewBox:"0 0 24 24",fill:"none"},F.createElement("ellipse",{cx:"12",cy:"14",rx:"8",ry:"4",fill:"#93C5FD"}),F.createElement("path",{d:"M4 14 Q2 12 4 10 Q6 12 4 14",fill:"#93C5FD"}),F.createElement("ellipse",{cx:"12",cy:"14",rx:"5",ry:"2",fill:"#DBEAFE"}),F.createElement("circle",{cx:"10",cy:"12",r:"1",fill:"#1E40AF"}),F.createElement("path",{d:"M10 15 Q12 16 14 15",stroke:"#1E40AF",strokeWidth:"0.5",fill:"none"}),F.createElement("path",{d:"M12 8 Q12 6 12 4",stroke:"#93C5FD",strokeWidth:"1.5",fill:"none",strokeLinecap:"round"}),F.createElement("circle",{cx:"12",cy:"4",r:"0.5",fill:"#93C5FD"}))),F.createElement("div",{className:"text-center"},F.createElement("p",{className:"mb-2 text-sm"},"Please sign in to use the budget dashboard"),F.createElement("button",{onClick:Rr,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center gap-2 mx-auto text-sm"},F.createElement("svg",{className:"w-4 h-4",viewBox:"0 0 24 24"},F.createElement("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),F.createElement("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),F.createElement("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),F.createElement("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})),"Sign in with Google")))),b&&F.createElement(F.Fragment,null,M?F.createElement("div",{className:"text-center py-4"},F.createElement("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),F.createElement("p",{className:"mt-2 text-gray-600 text-sm"},"Loading your budget data...")):F.createElement(F.Fragment,null,F.createElement("div",{className:"mt-4"},ie==="income"&&F.createElement(F.Fragment,null,F.createElement("div",{className:"p-2 sm:p-4 border rounded mb-4 sm:mb-6 bg-blue-50"},F.createElement("h2",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4"},"Money in Bank"),F.createElement("div",{className:"flex items-center gap-4"},F.createElement("input",{type:"number",placeholder:"Enter amount in bank",value:Yn,onChange:P=>Xn(P.target.value),className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base flex-1"}),F.createElement("div",{className:"text-sm text-gray-600"},"Auto-updates monthly on the 1st"))),F.createElement(Kd,{title:"Add Income",fields:[{type:"text",placeholder:"Income name",value:n,onChange:P=>s(P.target.value)},{type:"number",placeholder:"Amount",value:o,onChange:P=>c(P.target.value)},{type:"select",value:f,onChange:P=>g(P.target.value),options:qi}],onSubmit:gi,isSubmitting:!1,onKeyPress:ue}),F.createElement(Yd,{title:"Your Income Streams",items:r,editingItem:D,onEdit:ys,onSave:$n,onCancel:Zn,onDelete:fa,renderEditForm:P=>F.createElement("div",{className:"grid gap-2 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},F.createElement("input",{placeholder:"Income name",value:Kn,onChange:H=>di(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base"}),F.createElement("input",{type:"number",placeholder:"Amount",value:wr,onChange:H=>Be(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base"}),F.createElement("select",{value:ua,onChange:H=>mi(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base"},qi.map(H=>F.createElement("option",{key:H.value,value:H.value},H.label)))),renderDisplayContent:P=>F.createElement("div",{className:"flex justify-between items-center"},F.createElement("span",{className:"font-medium text-sm sm:text-base"},ts(P.name)),F.createElement("span",{className:"font-medium text-sm sm:text-base"},pr(P.amount)," (",P.period,")"))})),ie==="expenses"&&F.createElement(F.Fragment,null,F.createElement(Kd,{title:"Add Expense",fields:[{type:"text",placeholder:"Expense name",value:p,onChange:P=>y(P.target.value)},{type:"number",placeholder:"Amount",value:T,onChange:P=>w(P.target.value)},{type:"select",value:C,onChange:P=>G(P.target.value),options:qi}],onSubmit:Ir,isSubmitting:k,onKeyPress:ue}),F.createElement(Yd,{title:"Your Expenses",items:J,editingItem:Q,onEdit:_s,onSave:Nn,onCancel:vs,onDelete:re,renderEditForm:P=>F.createElement("div",{className:"grid gap-2 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},F.createElement("input",{placeholder:"Expense name",value:rt,onChange:H=>tt(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base"}),F.createElement("input",{type:"number",placeholder:"Amount",value:ct,onChange:H=>Rt(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base"}),F.createElement("select",{value:yt,onChange:H=>he(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base"},F.createElement("option",{value:"daily"},"Daily"),F.createElement("option",{value:"weekly"},"Weekly"),F.createElement("option",{value:"monthly"},"Monthly"),F.createElement("option",{value:"yearly"},"Yearly"),F.createElement("option",{value:"one-off"},"One-off"))),renderDisplayContent:P=>F.createElement("div",{className:"flex justify-between items-center"},F.createElement("span",{className:"font-medium text-sm sm:text-base"},ts(P.name)),F.createElement("span",{className:"font-medium text-sm sm:text-base"},pr(P.amount)," (",P.period,")"))})),ie==="goals"&&F.createElement(F.Fragment,null,F.createElement(Kd,{title:"Add Goal",fields:[{type:"text",placeholder:"Goal name",value:et,onChange:P=>St(P.target.value)},{type:"number",step:"any",placeholder:"Price",value:dt,onChange:P=>ft(P.target.value)},{type:"number",step:"any",placeholder:"Daily contribution",value:Dt,onChange:P=>Et(P.target.value)}],onSubmit:Cr,isSubmitting:!1,onKeyPress:ue}),F.createElement(Yd,{title:"Your Goals",items:Ct,editingItem:ut,onEdit:pi,onSave:Dr,onCancel:yi,onDelete:pe,renderEditForm:P=>F.createElement("div",{className:"grid gap-2 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},F.createElement("input",{placeholder:"Goal name",value:Qt,onChange:H=>nn(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base"}),F.createElement("input",{type:"number",step:"any",placeholder:"Price",value:Cn,onChange:H=>cn(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base"}),F.createElement("input",{type:"number",step:"any",placeholder:"Daily contribution",value:Qn,onChange:H=>Dn(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-sm sm:text-base"})),renderDisplayContent:P=>{const H=Jn(P.price,P.dailyContribution),_t=On(H);return F.createElement("div",{className:"flex flex-col"},F.createElement("span",{className:"font-medium text-sm sm:text-base mb-2"},ts(P.name)),F.createElement("div",{className:"flex justify-between items-center"},F.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},F.createElement("span",{className:"text-gray-600 text-sm"},"Price: ",pr(P.price)),F.createElement("span",{className:"text-gray-600 text-sm"},"Daily: ",pr(P.dailyContribution))),F.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},F.createElement("span",{className:"text-green-600 text-sm"},"Target: ",_t),F.createElement("span",{className:"text-gray-500 text-sm"},"(",TN(H)," days)"))))}})),ie==="report"&&F.createElement(AN,{incomes:r,costs:J,moneyInBank:Yn,calculateTotalMoney:sn,calculateRecurringIncome:_i,calculateMonthlyExpenses:da,calculateDailyFreeMoney:Gi,calculateHowLongYouCanLive:vi})))))}eS.createRoot(document.getElementById("root")).render(F.createElement(Lt.StrictMode,null,F.createElement(bN,null)));
