(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Yw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bm={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function Xw(){if(C0)return Me;C0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,F={};function G(N,ne,ce){this.props=N,this.context=ne,this.refs=F,this.updater=ce||V}G.prototype.isReactComponent={},G.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},G.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ie(){}ie.prototype=G.prototype;function re(N,ne,ce){this.props=N,this.context=ne,this.refs=F,this.updater=ce||V}var te=re.prototype=new ie;te.constructor=re,U(te,G.prototype),te.isPureReactComponent=!0;var he=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function D(N,ne,ce,se,ve,Oe){return ce=Oe.ref,{$$typeof:i,type:N,key:ne,ref:ce!==void 0?ce:null,props:Oe}}function w(N,ne){return D(N.type,ne,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function O(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ce){return ne[ce]})}var x=/\/+/g;function P(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):ne.toString(36)}function C(){}function ft(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function lt(N,ne,ce,se,ve){var Oe=typeof N;(Oe==="undefined"||Oe==="boolean")&&(N=null);var Ae=!1;if(N===null)Ae=!0;else switch(Oe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(N.$$typeof){case i:case e:Ae=!0;break;case E:return Ae=N._init,lt(Ae(N._payload),ne,ce,se,ve)}}if(Ae)return ve=ve(N),Ae=se===""?"."+P(N,0):se,he(ve)?(ce="",Ae!=null&&(ce=Ae.replace(x,"$&/")+"/"),lt(ve,ne,ce,"",function(it){return it})):ve!=null&&(R(ve)&&(ve=w(ve,ce+(ve.key==null||N&&N.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+Ae)),ne.push(ve)),1;Ae=0;var gt=se===""?".":se+":";if(he(N))for(var Xe=0;Xe<N.length;Xe++)se=N[Xe],Oe=gt+P(se,Xe),Ae+=lt(se,ne,ce,Oe,ve);else if(Xe=S(N),typeof Xe=="function")for(N=Xe.call(N),Xe=0;!(se=N.next()).done;)se=se.value,Oe=gt+P(se,Xe++),Ae+=lt(se,ne,ce,Oe,ve);else if(Oe==="object"){if(typeof N.then=="function")return lt(ft(N),ne,ce,se,ve);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(N,ne,ce){if(N==null)return N;var se=[],ve=0;return lt(N,se,"","",function(Oe){return ne.call(ce,Oe,ve++)}),se}function ue(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(ce){(N._status===0||N._status===-1)&&(N._status=1,N._result=ce)},function(ce){(N._status===0||N._status===-1)&&(N._status=2,N._result=ce)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var ye=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return Me.Children={map:K,forEach:function(N,ne,ce){K(N,function(){ne.apply(this,arguments)},ce)},count:function(N){var ne=0;return K(N,function(){ne++}),ne},toArray:function(N){return K(N,function(ne){return ne})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Me.Component=G,Me.Fragment=t,Me.Profiler=o,Me.PureComponent=re,Me.StrictMode=s,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return le.H.useMemoCache(N)}},Me.cache=function(N){return function(){return N.apply(null,arguments)}},Me.cloneElement=function(N,ne,ce){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=U({},N.props),ve=N.key,Oe=void 0;if(ne!=null)for(Ae in ne.ref!==void 0&&(Oe=void 0),ne.key!==void 0&&(ve=""+ne.key),ne)!pe.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(se[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ce;else if(1<Ae){for(var gt=Array(Ae),Xe=0;Xe<Ae;Xe++)gt[Xe]=arguments[Xe+2];se.children=gt}return D(N.type,ve,void 0,void 0,Oe,se)},Me.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Me.createElement=function(N,ne,ce){var se,ve={},Oe=null;if(ne!=null)for(se in ne.key!==void 0&&(Oe=""+ne.key),ne)pe.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=ne[se]);var Ae=arguments.length-2;if(Ae===1)ve.children=ce;else if(1<Ae){for(var gt=Array(Ae),Xe=0;Xe<Ae;Xe++)gt[Xe]=arguments[Xe+2];ve.children=gt}if(N&&N.defaultProps)for(se in Ae=N.defaultProps,Ae)ve[se]===void 0&&(ve[se]=Ae[se]);return D(N,Oe,void 0,void 0,null,ve)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(N){return{$$typeof:m,render:N}},Me.isValidElement=R,Me.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ue}},Me.memo=function(N,ne){return{$$typeof:y,type:N,compare:ne===void 0?null:ne}},Me.startTransition=function(N){var ne=le.T,ce={};le.T=ce;try{var se=N(),ve=le.S;ve!==null&&ve(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(je,ye)}catch(Oe){ye(Oe)}finally{le.T=ne}},Me.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Me.use=function(N){return le.H.use(N)},Me.useActionState=function(N,ne,ce){return le.H.useActionState(N,ne,ce)},Me.useCallback=function(N,ne){return le.H.useCallback(N,ne)},Me.useContext=function(N){return le.H.useContext(N)},Me.useDebugValue=function(){},Me.useDeferredValue=function(N,ne){return le.H.useDeferredValue(N,ne)},Me.useEffect=function(N,ne,ce){var se=le.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(N,ne)},Me.useId=function(){return le.H.useId()},Me.useImperativeHandle=function(N,ne,ce){return le.H.useImperativeHandle(N,ne,ce)},Me.useInsertionEffect=function(N,ne){return le.H.useInsertionEffect(N,ne)},Me.useLayoutEffect=function(N,ne){return le.H.useLayoutEffect(N,ne)},Me.useMemo=function(N,ne){return le.H.useMemo(N,ne)},Me.useOptimistic=function(N,ne){return le.H.useOptimistic(N,ne)},Me.useReducer=function(N,ne,ce){return le.H.useReducer(N,ne,ce)},Me.useRef=function(N){return le.H.useRef(N)},Me.useState=function(N){return le.H.useState(N)},Me.useSyncExternalStore=function(N,ne,ce){return le.H.useSyncExternalStore(N,ne,ce)},Me.useTransition=function(){return le.H.useTransition()},Me.version="19.1.0",Me}var D0;function Zp(){return D0||(D0=1,Bm.exports=Xw()),Bm.exports}var me=Zp();const $=Yw(me);var qm={exports:{}},Kl={},jm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function Zw(){return N0||(N0=1,function(i){function e(K,ue){var ye=K.length;K.push(ue);e:for(;0<ye;){var je=ye-1>>>1,N=K[je];if(0<o(N,ue))K[je]=ue,K[ye]=N,ye=je;else break e}}function t(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ue=K[0],ye=K.pop();if(ye!==ue){K[0]=ye;e:for(var je=0,N=K.length,ne=N>>>1;je<ne;){var ce=2*(je+1)-1,se=K[ce],ve=ce+1,Oe=K[ve];if(0>o(se,ye))ve<N&&0>o(Oe,se)?(K[je]=Oe,K[ve]=ye,je=ve):(K[je]=se,K[ce]=ye,je=ce);else if(ve<N&&0>o(Oe,ye))K[je]=Oe,K[ve]=ye,je=ve;else break e}}return ue}function o(K,ue){var ye=K.sortIndex-ue.sortIndex;return ye!==0?ye:K.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,S=3,V=!1,U=!1,F=!1,G=!1,ie=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function he(K){for(var ue=t(y);ue!==null;){if(ue.callback===null)s(y);else if(ue.startTime<=K)s(y),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(y)}}function le(K){if(F=!1,he(K),!U)if(t(p)!==null)U=!0,pe||(pe=!0,P());else{var ue=t(y);ue!==null&&lt(le,ue.startTime-K)}}var pe=!1,D=-1,w=5,R=-1;function O(){return G?!0:!(i.unstable_now()-R<w)}function x(){if(G=!1,pe){var K=i.unstable_now();R=K;var ue=!0;try{e:{U=!1,F&&(F=!1,re(D),D=-1),V=!0;var ye=S;try{t:{for(he(K),b=t(p);b!==null&&!(b.expirationTime>K&&O());){var je=b.callback;if(typeof je=="function"){b.callback=null,S=b.priorityLevel;var N=je(b.expirationTime<=K);if(K=i.unstable_now(),typeof N=="function"){b.callback=N,he(K),ue=!0;break t}b===t(p)&&s(p),he(K)}else s(p);b=t(p)}if(b!==null)ue=!0;else{var ne=t(y);ne!==null&&lt(le,ne.startTime-K),ue=!1}}break e}finally{b=null,S=ye,V=!1}ue=void 0}}finally{ue?P():pe=!1}}}var P;if(typeof te=="function")P=function(){te(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ft=C.port2;C.port1.onmessage=x,P=function(){ft.postMessage(null)}}else P=function(){ie(x,0)};function lt(K,ue){D=ie(function(){K(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(K){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var ye=S;S=ue;try{return K()}finally{S=ye}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ye=S;S=K;try{return ue()}finally{S=ye}},i.unstable_scheduleCallback=function(K,ue,ye){var je=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?je+ye:je):ye=je,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ye+N,K={id:E++,callback:ue,priorityLevel:K,startTime:ye,expirationTime:N,sortIndex:-1},ye>je?(K.sortIndex=ye,e(y,K),t(p)===null&&K===t(y)&&(F?(re(D),D=-1):F=!0,lt(le,ye-je))):(K.sortIndex=N,e(p,K),U||V||(U=!0,pe||(pe=!0,P()))),K},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(K){var ue=S;return function(){var ye=S;S=ue;try{return K.apply(this,arguments)}finally{S=ye}}}}(Fm)),Fm}var O0;function Jw(){return O0||(O0=1,jm.exports=Zw()),jm.exports}var Hm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function Ww(){if(V0)return an;V0=1;var i=Zp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},an.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},an.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},an.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},an.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},an.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},an.requestFormReset=function(p){s.d.r(p)},an.unstable_batchedUpdates=function(p,y){return p(y)},an.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.1.0",an}var M0;function QT(){if(M0)return Hm.exports;M0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hm.exports=Ww(),Hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function eR(){if(x0)return Kl;x0=1;var i=Jw(),e=Zp(),t=QT();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),te=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=x&&n[x]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function ft(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case G:return"Profiler";case F:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case V:return"Portal";case te:return(n.displayName||"Context")+".Provider";case re:return(n._context.displayName||"Context")+".Consumer";case he:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return r=n.displayName||null,r!==null?r:ft(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return ft(n(r))}catch{}}return null}var lt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},je=[],N=-1;function ne(n){return{current:n}}function ce(n){0>N||(n.current=je[N],je[N]=null,N--)}function se(n,r){N++,je[N]=n.current,n.current=r}var ve=ne(null),Oe=ne(null),Ae=ne(null),gt=ne(null);function Xe(n,r){switch(se(Ae,r),se(Oe,n),se(ve,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?n0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=n0(r),n=i0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(ve),se(ve,n)}function it(){ce(ve),ce(Oe),ce(Ae)}function H(n){n.memoizedState!==null&&se(gt,n);var r=ve.current,a=i0(r,n.type);r!==a&&(se(Oe,n),se(ve,a))}function ee(n){Oe.current===n&&(ce(ve),ce(Oe)),gt.current===n&&(ce(gt),jl._currentValue=ye)}var _e=Object.prototype.hasOwnProperty,Ve=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,nn=i.unstable_shouldYield,qt=i.unstable_requestPaint,ze=i.unstable_now,hn=i.unstable_getCurrentPriorityLevel,Bo=i.unstable_ImmediatePriority,_a=i.unstable_UserBlockingPriority,Ts=i.unstable_NormalPriority,qf=i.unstable_LowPriority,va=i.unstable_IdlePriority,qo=i.log,Gu=i.unstable_setDisableYieldValue,vt=null,et=null;function wn(n){if(typeof qo=="function"&&Gu(n),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(vt,n)}catch{}}var rn=Math.clz32?Math.clz32:As,Qu=Math.log,jf=Math.LN2;function As(n){return n>>>=0,n===0?32:31-(Qu(n)/jf|0)|0}var bs=256,Ss=4194304;function ti(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ea(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ti(l):(v&=T,v!==0?h=ti(v):a||(a=T&~n,a!==0&&(h=ti(a))))):(T=l&~d,T!==0?h=ti(T):v!==0?h=ti(v):a||(a=l&~n,a!==0&&(h=ti(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ws(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function jo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var n=bs;return bs<<=1,(bs&4194048)===0&&(bs=256),n}function Ho(){var n=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),n}function ji(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Fi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Go(n,r,a,l,h,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,B=n.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-rn(a),J=1<<Y;T[Y]=0,I[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var j=q[Y];j!==null&&(j.lane&=-536870913)}a&=~J}l!==0&&pi(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function pi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-rn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Qo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-rn(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function Er(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ta(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Tr(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:A0(n.type))}function Ku(n,r){var a=ue.p;try{return ue.p=n,r()}finally{ue.p=a}}var mt=Math.random().toString(36).slice(2),xt="__reactFiber$"+mt,It="__reactProps$"+mt,Un="__reactContainer$"+mt,Ko="__reactEvents$"+mt,Ff="__reactListeners$"+mt,Ar="__reactHandles$"+mt,$u="__reactResources$"+mt,Rs="__reactMarker$"+mt;function br(n){delete n[xt],delete n[It],delete n[Ko],delete n[Ff],delete n[Ar]}function Hi(n){var r=n[xt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Un]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=o0(n);n!==null;){if(a=n[xt])return a;n=o0(n)}return r}n=a,a=n.parentNode}return null}function gi(n){if(n=n[xt]||n[Un]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function yi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function fn(n){var r=n[$u];return r||(r=n[$u]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(n){n[Rs]=!0}var $o=new Set,Aa={};function ni(n,r){Gi(n,r),Gi(n+"Capture",r)}function Gi(n,r){for(Aa[n]=r,n=0;n<r.length;n++)$o.add(r[n])}var Yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xu={},Is={};function Zu(n){return _e.call(Is,n)?!0:_e.call(Xu,n)?!1:Yu.test(n)?Is[n]=!0:(Xu[n]=!0,!1)}function Sr(n,r,a){if(Zu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function _i(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function $t(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Cs,Ju;function Qi(n){if(Cs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Cs=r&&r[1]||"",Ju=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+n+Ju}var ba=!1;function Sa(n,r){if(!n||ba)return"";ba=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(j){var q=j}Reflect.construct(n,[],J)}else{try{J.call()}catch(j){q=j}n.call(J.prototype)}}else{try{throw Error()}catch(j){q=j}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(j){if(j&&q&&typeof j.stack=="string")return[j.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Y=`
`+I[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=h);break}}}finally{ba=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Qi(a):""}function Yo(n){switch(n.tag){case 26:case 27:case 5:return Qi(n.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Sa(n.type,!1);case 11:return Sa(n.type.render,!1);case 1:return Sa(n.type,!0);case 31:return Qi("Activity");default:return""}}function wa(n){try{var r="";do r+=Yo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Xo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Hf(n){var r=Xo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ra(n){n._valueTracker||(n._valueTracker=Hf(n))}function Zo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Xo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ds(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Gf=/[\n"\\]/g;function Ct(n){return n.replace(Gf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Rn(n,r,a,l,h,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+dn(r)):n.value!==""+dn(r)&&(n.value=""+dn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?wr(n,v,dn(r)):a!=null?wr(n,v,dn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+dn(T):n.removeAttribute("name")}function Ns(n,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+dn(a):"",r=r!=null?""+dn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function wr(n,r,a){r==="number"&&Ds(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ki(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+dn(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function rt(n,r,a){if(r!=null&&(r=""+dn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+dn(a):""}function Os(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=dn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Ln(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Vs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Jo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Wu(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Wu(n,d,r[d])}function Wo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(n){return Kf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var $i=null;function zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yi=null,Xi=null;function el(n){var r=gi(n);if(r&&(n=r.stateNode)){var a=n[It]||null;e:switch(n=r.stateNode,r.type){case"input":if(Rn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ct(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[It]||null;if(!h)throw Error(s(90));Rn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Zo(l)}break e;case"textarea":rt(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ki(n,!!a.multiple,r,!1)}}}var vi=!1;function ec(n,r,a){if(vi)return n(r,a);vi=!0;try{var l=n(r);return l}finally{if(vi=!1,(Yi!==null||Xi!==null)&&(Kc(),Yi&&(r=Yi,n=Xi,Xi=Yi=null,el(r),n)))for(r=0;r<n.length;r++)el(n[r])}}function Ms(n,r){var a=n.stateNode;if(a===null)return null;var l=a[It]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(ii)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Bn=!1}var Ei=null,Rr=null,Zi=null;function tl(){if(Zi)return Zi;var n,r=Rr,a=r.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Zi=h.slice(n,1<l?1-l:void 0)}function Ti(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ai(){return!0}function nl(){return!1}function jt(n){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ai:nl,this.isPropagationStopped=nl,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),r}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=jt(Je),Ps=E({},Je,{view:0,detail:0}),tc=jt(Ps),Da,Na,bi,ks=E({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bi&&(bi&&n.type==="mousemove"?(Da=n.screenX-bi.screenX,Na=n.screenY-bi.screenY):Na=Da=0,bi=n),Da)},movementY:function(n){return"movementY"in n?n.movementY:Na}}),qn=jt(ks),nc=E({},ks,{dataTransfer:0}),$f=jt(nc),Us=E({},Ps,{relatedTarget:0}),Oa=jt(Us),il=E({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=jt(il),ic=E({},Je,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ma=jt(ic),Yf=E({},Je,{data:0}),rl=jt(Yf),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=sc[n])?!!r[n]:!1}function zs(){return sl}var ac=E({},Ps,{key:function(n){if(n.key){var r=Ls[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ti(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(n){return n.type==="keypress"?Ti(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ti(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xa=jt(ac),oc=E({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=jt(oc),Ji=E({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),lc=jt(Ji),uc=E({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=jt(uc),hc=E({},ks,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=jt(hc),mn=E({},Je,{newState:0,oldState:0}),fc=jt(mn),dc=[9,13,27,32],Si=ii&&"CompositionEvent"in window,c=null;ii&&"documentMode"in document&&(c=document.documentMode);var g=ii&&"TextEvent"in window&&!c,_=ii&&(!Si||c&&8<c&&11>=c),A=" ",L=!1;function Q(n,r){switch(n){case"keyup":return dc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var He=!1;function Pt(n,r){switch(n){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(L=!0,A);case"textInput":return n=r.data,n===A&&L?null:n;default:return null}}function Ge(n,r){if(He)return n==="compositionend"||!Si&&Q(n,r)?(n=tl(),Zi=Rr=Ei=null,He=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ft[n.type]:r==="textarea"}function Wi(n,r,a,l){Yi?Xi?Xi.push(l):Xi=[l]:Yi=l,r=Wc(r,"onChange"),0<r.length&&(a=new Ca("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Yt=null,wi=null;function ol(n){Zv(n,0)}function mc(n){var r=yi(n);if(Zo(r))return n}function _y(n,r){if(n==="change")return r}var vy=!1;if(ii){var Xf;if(ii){var Zf="oninput"in document;if(!Zf){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),Zf=typeof Ey.oninput=="function"}Xf=Zf}else Xf=!1;vy=Xf&&(!document.documentMode||9<document.documentMode)}function Ty(){Yt&&(Yt.detachEvent("onpropertychange",Ay),wi=Yt=null)}function Ay(n){if(n.propertyName==="value"&&mc(wi)){var r=[];Wi(r,wi,n,zn(n)),ec(ol,r)}}function wS(n,r,a){n==="focusin"?(Ty(),Yt=r,wi=a,Yt.attachEvent("onpropertychange",Ay)):n==="focusout"&&Ty()}function RS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mc(wi)}function IS(n,r){if(n==="click")return mc(r)}function CS(n,r){if(n==="input"||n==="change")return mc(r)}function DS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var In=typeof Object.is=="function"?Object.is:DS;function ll(n,r){if(In(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_e.call(r,h)||!In(n[h],r[h]))return!1}return!0}function by(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sy(n,r){var a=by(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=by(a)}}function wy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?wy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Ry(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ds(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ds(n.document)}return r}function Jf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var NS=ii&&"documentMode"in document&&11>=document.documentMode,ka=null,Wf=null,ul=null,ed=!1;function Iy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ed||ka==null||ka!==Ds(l)||(l=ka,"selectionStart"in l&&Jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Wc(Wf,"onSelect"),0<l.length&&(r=new Ca("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=ka)))}function Bs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ua={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},td={},Cy={};ii&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function qs(n){if(td[n])return td[n];if(!Ua[n])return n;var r=Ua[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Cy)return td[n]=r[a];return n}var Dy=qs("animationend"),Ny=qs("animationiteration"),Oy=qs("animationstart"),OS=qs("transitionrun"),VS=qs("transitionstart"),MS=qs("transitioncancel"),Vy=qs("transitionend"),My=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function ri(n,r){My.set(n,r),ni(r,[n])}var xy=new WeakMap;function jn(n,r){if(typeof n=="object"&&n!==null){var a=xy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:wa(r)},xy.set(n,r),r)}return{value:n,source:r,stack:wa(r)}}var Fn=[],La=0,id=0;function pc(){for(var n=La,r=id=La=0;r<n;){var a=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var h=Fn[r];Fn[r++]=null;var d=Fn[r];if(Fn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Py(a,h,d)}}function gc(n,r,a,l){Fn[La++]=n,Fn[La++]=r,Fn[La++]=a,Fn[La++]=l,id|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function rd(n,r,a,l){return gc(n,r,a,l),yc(n)}function za(n,r){return gc(n,null,null,r),yc(n)}function Py(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&r!==null&&(h=31-rn(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function yc(n){if(50<xl)throw xl=0,cm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ba={};function xS(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(n,r,a,l){return new xS(n,r,a,l)}function sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function er(n,r){var a=n.alternate;return a===null?(a=Cn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ky(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function _c(n,r,a,l,h,d){var v=0;if(l=n,typeof n=="function")sd(n)&&(v=1);else if(typeof n=="string")v=kw(n,a,ve.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Cn(31,a,r,h),n.elementType=R,n.lanes=d,n;case U:return js(a.children,h,d,r);case F:v=8,h|=24;break;case G:return n=Cn(12,a,r,h|2),n.elementType=G,n.lanes=d,n;case le:return n=Cn(13,a,r,h),n.elementType=le,n.lanes=d,n;case pe:return n=Cn(19,a,r,h),n.elementType=pe,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ie:case te:v=10;break e;case re:v=9;break e;case he:v=11;break e;case D:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Cn(v,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function js(n,r,a,l){return n=Cn(7,n,l,r),n.lanes=a,n}function ad(n,r,a){return n=Cn(6,n,null,r),n.lanes=a,n}function od(n,r,a){return r=Cn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var qa=[],ja=0,vc=null,Ec=0,Hn=[],Gn=0,Fs=null,tr=1,nr="";function Hs(n,r){qa[ja++]=Ec,qa[ja++]=vc,vc=n,Ec=r}function Uy(n,r,a){Hn[Gn++]=tr,Hn[Gn++]=nr,Hn[Gn++]=Fs,Fs=n;var l=tr;n=nr;var h=32-rn(l)-1;l&=~(1<<h),a+=1;var d=32-rn(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,tr=1<<32-rn(r)+h|a<<h|l,nr=d+n}else tr=1<<d|a<<h|l,nr=n}function ld(n){n.return!==null&&(Hs(n,1),Uy(n,1,0))}function ud(n){for(;n===vc;)vc=qa[--ja],qa[ja]=null,Ec=qa[--ja],qa[ja]=null;for(;n===Fs;)Fs=Hn[--Gn],Hn[Gn]=null,nr=Hn[--Gn],Hn[Gn]=null,tr=Hn[--Gn],Hn[Gn]=null}var pn=null,Et=null,Ze=!1,Gs=null,Ri=!1,cd=Error(s(519));function Qs(n){var r=Error(s(418,""));throw fl(jn(r,n)),cd}function Ly(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[xt]=n,r[It]=l,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<kl.length;a++)Le(kl[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Ns(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(r);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),Os(r,l.value,l.defaultValue,l.children),Ra(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||t0(r.textContent,a)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=eh),r=!0):r=!1,r||Qs(n)}function zy(n){for(pn=n.return;pn;)switch(pn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:pn=pn.return}}function cl(n){if(n!==pn)return!1;if(!Ze)return zy(n),Ze=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Rm(n.type,n.memoizedProps)),a=!a),a&&Et&&Qs(n),zy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Et=ai(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Et=null}}else r===27?(r=Et,jr(n.type)?(n=Nm,Nm=null,Et=n):Et=r):Et=pn?ai(n.stateNode.nextSibling):null;return!0}function hl(){Et=pn=null,Ze=!1}function By(){var n=Gs;return n!==null&&(_n===null?_n=n:_n.push.apply(_n,n),Gs=null),n}function fl(n){Gs===null?Gs=[n]:Gs.push(n)}var hd=ne(null),Ks=null,ir=null;function Ir(n,r,a){se(hd,r._currentValue),r._currentValue=a}function rr(n){n._currentValue=hd.current,ce(hd)}function fd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function dd(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),fd(d.return,a,n),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),fd(v,a,n),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function dl(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;In(h.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(h===gt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(jl):n=[jl])}h=h.return}n!==null&&dd(r,n,a,l),r.flags|=262144}function Tc(n){for(n=n.firstContext;n!==null;){if(!In(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function $s(n){Ks=n,ir=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return qy(Ks,n)}function Ac(n,r){return Ks===null&&$s(n),qy(n,r)}function qy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ir===null){if(n===null)throw Error(s(308));ir=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ir=ir.next=r;return a}var PS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},kS=i.unstable_scheduleCallback,US=i.unstable_NormalPriority,Ut={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new PS,data:new Map,refCount:0}}function ml(n){n.refCount--,n.refCount===0&&kS(US,function(){n.controller.abort()})}var pl=null,pd=0,Fa=0,Ha=null;function LS(n,r){if(pl===null){var a=pl=[];pd=0,Fa=ym(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pd++,r.then(jy,jy),r}function jy(){if(--pd===0&&pl!==null){Ha!==null&&(Ha.status="fulfilled");var n=pl;pl=null,Fa=0,Ha=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function zS(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fy=K.S;K.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&LS(n,r),Fy!==null&&Fy(n,r)};var Ys=ne(null);function gd(){var n=Ys.current;return n!==null?n:ct.pooledCache}function bc(n,r){r===null?se(Ys,Ys.current):se(Ys,r.pool)}function Hy(){var n=gd();return n===null?null:{parent:Ut._currentValue,pool:n}}var gl=Error(s(460)),Gy=Error(s(474)),Sc=Error(s(542)),yd={then:function(){}};function Qy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function wc(){}function Ky(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(wc,wc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Yy(n),n;default:if(typeof r.status=="string")r.then(wc,wc);else{if(n=ct,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Yy(n),n}throw yl=r,gl}}var yl=null;function $y(){if(yl===null)throw Error(s(459));var n=yl;return yl=null,n}function Yy(n){if(n===gl||n===Sc)throw Error(s(483))}var Cr=!1;function _d(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Dr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Nr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=yc(n),Py(n,null,a),r}return gc(n,l,r,a),yc(n)}function _l(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Qo(n,a)}}function Ed(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Td=!1;function vl(){if(Td){var n=Ha;if(n!==null)throw n}}function El(n,r,a,l){Td=!1;var h=n.updateQueue;Cr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,Y=B=I=null,T=d;do{var q=T.lane&-536870913,j=q!==T.lane;if(j?(Qe&q)===q:(l&q)===q){q!==0&&q===Fa&&(Td=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Re=n,be=T;q=r;var ot=a;switch(be.tag){case 1:if(Re=be.payload,typeof Re=="function"){J=Re.call(ot,J,q);break e}J=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=be.payload,q=typeof Re=="function"?Re.call(ot,J,q):Re,q==null)break e;J=E({},J,q);break e;case 2:Cr=!0}}q=T.callback,q!==null&&(n.flags|=64,j&&(n.flags|=8192),j=h.callbacks,j===null?h.callbacks=[q]:j.push(q))}else j={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=j,I=J):Y=Y.next=j,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Y===null&&(I=J),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Lr|=v,n.lanes=v,n.memoizedState=J}}function Xy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Zy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Xy(a[n],r)}var Ga=ne(null),Rc=ne(0);function Jy(n,r){n=hr,se(Rc,n),se(Ga,r),hr=n|r.baseLanes}function Ad(){se(Rc,hr),se(Ga,Ga.current)}function bd(){hr=Rc.current,ce(Ga),ce(Rc)}var Or=0,xe=null,st=null,Dt=null,Ic=!1,Qa=!1,Xs=!1,Cc=0,Tl=0,Ka=null,BS=0;function bt(){throw Error(s(321))}function Sd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!In(n[a],r[a]))return!1;return!0}function wd(n,r,a,l,h,d){return Or=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=n===null||n.memoizedState===null?P_:k_,Xs=!1,d=a(l,h),Xs=!1,Qa&&(d=e_(r,a,l,h)),Wy(n),d}function Wy(n){K.H=xc;var r=st!==null&&st.next!==null;if(Or=0,Dt=st=xe=null,Ic=!1,Tl=0,Ka=null,r)throw Error(s(300));n===null||Ht||(n=n.dependencies,n!==null&&Tc(n)&&(Ht=!0))}function e_(n,r,a,l){xe=n;var h=0;do{if(Qa&&(Ka=null),Tl=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,Dt=st=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=KS,d=r(a,l)}while(Qa);return d}function qS(){var n=K.H,r=n.useState()[0];return r=typeof r.then=="function"?Al(r):r,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(xe.flags|=1024),r}function Rd(){var n=Cc!==0;return Cc=0,n}function Id(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Cd(n){if(Ic){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ic=!1}Or=0,Dt=st=xe=null,Qa=!1,Tl=Cc=0,Ka=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?xe.memoizedState=Dt=n:Dt=Dt.next=n,Dt}function Nt(){if(st===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var r=Dt===null?xe.memoizedState:Dt.next;if(r!==null)Dt=r,st=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Dt===null?xe.memoizedState=Dt=n:Dt=Dt.next=n}return Dt}function Dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(n){var r=Tl;return Tl+=1,Ka===null&&(Ka=[]),n=Ky(Ka,n,r),r=xe,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?P_:k_),n}function Dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Al(n);if(n.$$typeof===te)return sn(n)}throw Error(s(438,String(n)))}function Nd(n){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Dd(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=O;return r.index++,a}function sr(n,r){return typeof r=="function"?r(n):r}function Nc(n){var r=Nt();return Od(r,st,n)}function Od(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var T=v=null,I=null,B=r,Y=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Qe&J)===J:(Or&J)===J){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Fa&&(Y=!0);else if((Or&q)===q){B=B.next,q===Fa&&(Y=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,xe.lanes|=q,Lr|=q;J=B.action,Xs&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else q={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=q,v=d):I=I.next=q,xe.lanes|=J,Lr|=J;B=B.next}while(B!==null&&B!==r);if(I===null?v=d:I.next=T,!In(d,n.memoizedState)&&(Ht=!0,Y&&(a=Ha,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Vd(n){var r=Nt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=n(d,v.action),v=v.next;while(v!==h);In(d,r.memoizedState)||(Ht=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function t_(n,r,a){var l=xe,h=Nt(),d=Ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!In((st||h).memoizedState,a);v&&(h.memoizedState=a,Ht=!0),h=h.queue;var T=r_.bind(null,l,h,n);if(bl(2048,8,T,[n]),h.getSnapshot!==r||v||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,$a(9,Oc(),i_.bind(null,l,h,a,r),null),ct===null)throw Error(s(349));d||(Or&124)!==0||n_(l,r,a)}return a}function n_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Dd(),xe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function i_(n,r,a,l){r.value=a,r.getSnapshot=l,s_(r)&&a_(n)}function r_(n,r,a){return a(function(){s_(r)&&a_(n)})}function s_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!In(n,a)}catch{return!0}}function a_(n){var r=za(n,2);r!==null&&Mn(r,n,2)}function Md(n){var r=gn();if(typeof n=="function"){var a=n;if(n=a(),Xs){wn(!0);try{a()}finally{wn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:n},r}function o_(n,r,a,l){return n.baseState=a,Od(n,st,typeof l=="function"?l:sr)}function jS(n,r,a,l,h){if(Mc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,l_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function l_(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),I=K.S;I!==null&&I(v,T),u_(n,r,T)}catch(B){xd(n,r,B)}finally{K.T=d}}else try{d=a(h,l),u_(n,r,d)}catch(B){xd(n,r,B)}}function u_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){c_(n,r,l)},function(l){return xd(n,r,l)}):c_(n,r,a)}function c_(n,r,a){r.status="fulfilled",r.value=a,h_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,l_(n,a)))}function xd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,h_(r),r=r.next;while(r!==l)}n.action=null}function h_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function f_(n,r){return r}function d_(n,r){if(Ze){var a=ct.formState;if(a!==null){e:{var l=xe;if(Ze){if(Et){t:{for(var h=Et,d=Ri;h.nodeType!==8;){if(!d){h=null;break t}if(h=ai(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Et=ai(h.nextSibling),l=h.data==="F!";break e}}Qs(l)}l=!1}l&&(r=a[0])}}return a=gn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f_,lastRenderedState:r},a.queue=l,a=V_.bind(null,xe,l),l.dispatch=a,l=Md(!1),d=zd.bind(null,xe,!1,l.queue),l=gn(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=jS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function m_(n){var r=Nt();return p_(r,st,n)}function p_(n,r,a){if(r=Od(n,r,f_)[0],n=Nc(sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Al(r)}catch(v){throw v===gl?Sc:v}else l=r;r=Nt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,$a(9,Oc(),FS.bind(null,h,a),null)),[l,d,n]}function FS(n,r){n.action=r}function g_(n){var r=Nt(),a=st;if(a!==null)return p_(r,a,n);Nt(),r=r.memoizedState,a=Nt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function $a(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Dd(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Oc(){return{destroy:void 0,resource:void 0}}function y_(){return Nt().memoizedState}function Vc(n,r,a,l){var h=gn();l=l===void 0?null:l,xe.flags|=n,h.memoizedState=$a(1|r,Oc(),a,l)}function bl(n,r,a,l){var h=Nt();l=l===void 0?null:l;var d=h.memoizedState.inst;st!==null&&l!==null&&Sd(l,st.memoizedState.deps)?h.memoizedState=$a(r,d,a,l):(xe.flags|=n,h.memoizedState=$a(1|r,d,a,l))}function __(n,r){Vc(8390656,8,n,r)}function v_(n,r){bl(2048,8,n,r)}function E_(n,r){return bl(4,2,n,r)}function T_(n,r){return bl(4,4,n,r)}function A_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function b_(n,r,a){a=a!=null?a.concat([n]):null,bl(4,4,A_.bind(null,r,n),a)}function Pd(){}function S_(n,r){var a=Nt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Sd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function w_(n,r){var a=Nt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Sd(r,l[1]))return l[0];if(l=n(),Xs){wn(!0);try{n()}finally{wn(!1)}}return a.memoizedState=[l,r],l}function kd(n,r,a){return a===void 0||(Or&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=Cv(),xe.lanes|=n,Lr|=n,a)}function R_(n,r,a,l){return In(a,r)?a:Ga.current!==null?(n=kd(n,a,l),In(n,r)||(Ht=!0),n):(Or&42)===0?(Ht=!0,n.memoizedState=a):(n=Cv(),xe.lanes|=n,Lr|=n,r)}function I_(n,r,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,zd(n,!1,r,a);try{var I=h(),B=K.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=zS(I,l);Sl(n,r,Y,Vn(n))}else Sl(n,r,l,Vn(n))}catch(J){Sl(n,r,{then:function(){},status:"rejected",reason:J},Vn())}finally{ue.p=d,K.T=v}}function HS(){}function Ud(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=C_(n).queue;I_(n,h,r,ye,a===null?HS:function(){return D_(n),a(l)})}function C_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function D_(n){var r=C_(n).next.queue;Sl(n,r,{},Vn())}function Ld(){return sn(jl)}function N_(){return Nt().memoizedState}function O_(){return Nt().memoizedState}function GS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Vn();n=Dr(a);var l=Nr(r,n,a);l!==null&&(Mn(l,r,a),_l(l,r,a)),r={cache:md()},n.payload=r;return}r=r.return}}function QS(n,r,a){var l=Vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(n)?M_(r,a):(a=rd(n,r,a,l),a!==null&&(Mn(a,n,l),x_(a,r,l)))}function V_(n,r,a){var l=Vn();Sl(n,r,a,l)}function Sl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(n))M_(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,In(T,v))return gc(n,r,h,0),ct===null&&pc(),!1}catch{}finally{}if(a=rd(n,r,h,l),a!==null)return Mn(a,n,l),x_(a,r,l),!0}return!1}function zd(n,r,a,l){if(l={lane:2,revertLane:ym(),action:l,hasEagerState:!1,eagerState:null,next:null},Mc(n)){if(r)throw Error(s(479))}else r=rd(n,a,l,2),r!==null&&Mn(r,n,2)}function Mc(n){var r=n.alternate;return n===xe||r!==null&&r===xe}function M_(n,r){Qa=Ic=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function x_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Qo(n,a)}}var xc={readContext:sn,use:Dc,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},P_={readContext:sn,use:Dc,useCallback:function(n,r){return gn().memoizedState=[n,r===void 0?null:r],n},useContext:sn,useEffect:__,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Vc(4194308,4,A_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Vc(4194308,4,n,r)},useInsertionEffect:function(n,r){Vc(4,2,n,r)},useMemo:function(n,r){var a=gn();r=r===void 0?null:r;var l=n();if(Xs){wn(!0);try{n()}finally{wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=gn();if(a!==void 0){var h=a(r);if(Xs){wn(!0);try{a(r)}finally{wn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=QS.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var r=gn();return n={current:n},r.memoizedState=n},useState:function(n){n=Md(n);var r=n.queue,a=V_.bind(null,xe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Pd,useDeferredValue:function(n,r){var a=gn();return kd(a,n,r)},useTransition:function(){var n=Md(!1);return n=I_.bind(null,xe,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=xe,h=gn();if(Ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ct===null)throw Error(s(349));(Qe&124)!==0||n_(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,__(r_.bind(null,l,d,n),[n]),l.flags|=2048,$a(9,Oc(),i_.bind(null,l,d,a,r),null),a},useId:function(){var n=gn(),r=ct.identifierPrefix;if(Ze){var a=nr,l=tr;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Cc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=BS++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Ld,useFormState:d_,useActionState:d_,useOptimistic:function(n){var r=gn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=zd.bind(null,xe,!0,a),a.dispatch=r,[n,r]},useMemoCache:Nd,useCacheRefresh:function(){return gn().memoizedState=GS.bind(null,xe)}},k_={readContext:sn,use:Dc,useCallback:S_,useContext:sn,useEffect:v_,useImperativeHandle:b_,useInsertionEffect:E_,useLayoutEffect:T_,useMemo:w_,useReducer:Nc,useRef:y_,useState:function(){return Nc(sr)},useDebugValue:Pd,useDeferredValue:function(n,r){var a=Nt();return R_(a,st.memoizedState,n,r)},useTransition:function(){var n=Nc(sr)[0],r=Nt().memoizedState;return[typeof n=="boolean"?n:Al(n),r]},useSyncExternalStore:t_,useId:N_,useHostTransitionStatus:Ld,useFormState:m_,useActionState:m_,useOptimistic:function(n,r){var a=Nt();return o_(a,st,n,r)},useMemoCache:Nd,useCacheRefresh:O_},KS={readContext:sn,use:Dc,useCallback:S_,useContext:sn,useEffect:v_,useImperativeHandle:b_,useInsertionEffect:E_,useLayoutEffect:T_,useMemo:w_,useReducer:Vd,useRef:y_,useState:function(){return Vd(sr)},useDebugValue:Pd,useDeferredValue:function(n,r){var a=Nt();return st===null?kd(a,n,r):R_(a,st.memoizedState,n,r)},useTransition:function(){var n=Vd(sr)[0],r=Nt().memoizedState;return[typeof n=="boolean"?n:Al(n),r]},useSyncExternalStore:t_,useId:N_,useHostTransitionStatus:Ld,useFormState:g_,useActionState:g_,useOptimistic:function(n,r){var a=Nt();return st!==null?o_(a,st,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:O_},Ya=null,wl=0;function Pc(n){var r=wl;return wl+=1,Ya===null&&(Ya=[]),Ky(Ya,n,r)}function Rl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function kc(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function U_(n){var r=n._init;return r(n._payload)}function L_(n){function r(k,M){if(n){var z=k.deletions;z===null?(k.deletions=[M],k.flags|=16):z.push(M)}}function a(k,M){if(!n)return null;for(;M!==null;)r(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=er(k,M),k.index=0,k.sibling=null,k}function d(k,M,z){return k.index=z,n?(z=k.alternate,z!==null?(z=z.index,z<M?(k.flags|=67108866,M):z):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function v(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,z,X){return M===null||M.tag!==6?(M=ad(z,k.mode,X),M.return=k,M):(M=h(M,z),M.return=k,M)}function I(k,M,z,X){var ge=z.type;return ge===U?Y(k,M,z.props.children,X,z.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&U_(ge)===M.type)?(M=h(M,z.props),Rl(M,z),M.return=k,M):(M=_c(z.type,z.key,z.props,null,k.mode,X),Rl(M,z),M.return=k,M)}function B(k,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=od(z,k.mode,X),M.return=k,M):(M=h(M,z.children||[]),M.return=k,M)}function Y(k,M,z,X,ge){return M===null||M.tag!==7?(M=js(z,k.mode,X,ge),M.return=k,M):(M=h(M,z),M.return=k,M)}function J(k,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ad(""+M,k.mode,z),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return z=_c(M.type,M.key,M.props,null,k.mode,z),Rl(z,M),z.return=k,z;case V:return M=od(M,k.mode,z),M.return=k,M;case w:var X=M._init;return M=X(M._payload),J(k,M,z)}if(lt(M)||P(M))return M=js(M,k.mode,z,null),M.return=k,M;if(typeof M.then=="function")return J(k,Pc(M),z);if(M.$$typeof===te)return J(k,Ac(k,M),z);kc(k,M)}return null}function q(k,M,z,X){var ge=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ge!==null?null:T(k,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===ge?I(k,M,z,X):null;case V:return z.key===ge?B(k,M,z,X):null;case w:return ge=z._init,z=ge(z._payload),q(k,M,z,X)}if(lt(z)||P(z))return ge!==null?null:Y(k,M,z,X,null);if(typeof z.then=="function")return q(k,M,Pc(z),X);if(z.$$typeof===te)return q(k,M,Ac(k,z),X);kc(k,z)}return null}function j(k,M,z,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(z)||null,T(M,k,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return k=k.get(X.key===null?z:X.key)||null,I(M,k,X,ge);case V:return k=k.get(X.key===null?z:X.key)||null,B(M,k,X,ge);case w:var ke=X._init;return X=ke(X._payload),j(k,M,z,X,ge)}if(lt(X)||P(X))return k=k.get(z)||null,Y(M,k,X,ge,null);if(typeof X.then=="function")return j(k,M,z,Pc(X),ge);if(X.$$typeof===te)return j(k,M,z,Ac(M,X),ge);kc(M,X)}return null}function Re(k,M,z,X){for(var ge=null,ke=null,Ee=M,Se=M=0,Qt=null;Ee!==null&&Se<z.length;Se++){Ee.index>Se?(Qt=Ee,Ee=null):Qt=Ee.sibling;var Ye=q(k,Ee,z[Se],X);if(Ye===null){Ee===null&&(Ee=Qt);break}n&&Ee&&Ye.alternate===null&&r(k,Ee),M=d(Ye,M,Se),ke===null?ge=Ye:ke.sibling=Ye,ke=Ye,Ee=Qt}if(Se===z.length)return a(k,Ee),Ze&&Hs(k,Se),ge;if(Ee===null){for(;Se<z.length;Se++)Ee=J(k,z[Se],X),Ee!==null&&(M=d(Ee,M,Se),ke===null?ge=Ee:ke.sibling=Ee,ke=Ee);return Ze&&Hs(k,Se),ge}for(Ee=l(Ee);Se<z.length;Se++)Qt=j(Ee,k,Se,z[Se],X),Qt!==null&&(n&&Qt.alternate!==null&&Ee.delete(Qt.key===null?Se:Qt.key),M=d(Qt,M,Se),ke===null?ge=Qt:ke.sibling=Qt,ke=Qt);return n&&Ee.forEach(function(Kr){return r(k,Kr)}),Ze&&Hs(k,Se),ge}function be(k,M,z,X){if(z==null)throw Error(s(151));for(var ge=null,ke=null,Ee=M,Se=M=0,Qt=null,Ye=z.next();Ee!==null&&!Ye.done;Se++,Ye=z.next()){Ee.index>Se?(Qt=Ee,Ee=null):Qt=Ee.sibling;var Kr=q(k,Ee,Ye.value,X);if(Kr===null){Ee===null&&(Ee=Qt);break}n&&Ee&&Kr.alternate===null&&r(k,Ee),M=d(Kr,M,Se),ke===null?ge=Kr:ke.sibling=Kr,ke=Kr,Ee=Qt}if(Ye.done)return a(k,Ee),Ze&&Hs(k,Se),ge;if(Ee===null){for(;!Ye.done;Se++,Ye=z.next())Ye=J(k,Ye.value,X),Ye!==null&&(M=d(Ye,M,Se),ke===null?ge=Ye:ke.sibling=Ye,ke=Ye);return Ze&&Hs(k,Se),ge}for(Ee=l(Ee);!Ye.done;Se++,Ye=z.next())Ye=j(Ee,k,Se,Ye.value,X),Ye!==null&&(n&&Ye.alternate!==null&&Ee.delete(Ye.key===null?Se:Ye.key),M=d(Ye,M,Se),ke===null?ge=Ye:ke.sibling=Ye,ke=Ye);return n&&Ee.forEach(function($w){return r(k,$w)}),Ze&&Hs(k,Se),ge}function ot(k,M,z,X){if(typeof z=="object"&&z!==null&&z.type===U&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var ge=z.key;M!==null;){if(M.key===ge){if(ge=z.type,ge===U){if(M.tag===7){a(k,M.sibling),X=h(M,z.props.children),X.return=k,k=X;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&U_(ge)===M.type){a(k,M.sibling),X=h(M,z.props),Rl(X,z),X.return=k,k=X;break e}a(k,M);break}else r(k,M);M=M.sibling}z.type===U?(X=js(z.props.children,k.mode,X,z.key),X.return=k,k=X):(X=_c(z.type,z.key,z.props,null,k.mode,X),Rl(X,z),X.return=k,k=X)}return v(k);case V:e:{for(ge=z.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(k,M.sibling),X=h(M,z.children||[]),X.return=k,k=X;break e}else{a(k,M);break}else r(k,M);M=M.sibling}X=od(z,k.mode,X),X.return=k,k=X}return v(k);case w:return ge=z._init,z=ge(z._payload),ot(k,M,z,X)}if(lt(z))return Re(k,M,z,X);if(P(z)){if(ge=P(z),typeof ge!="function")throw Error(s(150));return z=ge.call(z),be(k,M,z,X)}if(typeof z.then=="function")return ot(k,M,Pc(z),X);if(z.$$typeof===te)return ot(k,M,Ac(k,z),X);kc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(k,M.sibling),X=h(M,z),X.return=k,k=X):(a(k,M),X=ad(z,k.mode,X),X.return=k,k=X),v(k)):a(k,M)}return function(k,M,z,X){try{wl=0;var ge=ot(k,M,z,X);return Ya=null,ge}catch(Ee){if(Ee===gl||Ee===Sc)throw Ee;var ke=Cn(29,Ee,null,k.mode);return ke.lanes=X,ke.return=k,ke}finally{}}}var Xa=L_(!0),z_=L_(!1),Qn=ne(null),Ii=null;function Vr(n){var r=n.alternate;se(Lt,Lt.current&1),se(Qn,n),Ii===null&&(r===null||Ga.current!==null||r.memoizedState!==null)&&(Ii=n)}function B_(n){if(n.tag===22){if(se(Lt,Lt.current),se(Qn,n),Ii===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ii=n)}}else Mr()}function Mr(){se(Lt,Lt.current),se(Qn,Qn.current)}function ar(n){ce(Qn),Ii===n&&(Ii=null),ce(Lt)}var Lt=ne(0);function Uc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Dm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Bd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var qd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Vn(),h=Dr(l);h.payload=r,a!=null&&(h.callback=a),r=Nr(n,h,l),r!==null&&(Mn(r,n,l),_l(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Vn(),h=Dr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Nr(n,h,l),r!==null&&(Mn(r,n,l),_l(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Vn(),l=Dr(a);l.tag=2,r!=null&&(l.callback=r),r=Nr(n,l,a),r!==null&&(Mn(r,n,a),_l(r,n,a))}};function q_(n,r,a,l,h,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!ll(a,l)||!ll(h,d):!0}function j_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&qd.enqueueReplaceState(r,r.state,null)}function Zs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Lc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function F_(n){Lc(n)}function H_(n){console.error(n)}function G_(n){Lc(n)}function zc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Q_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jd(n,r,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){zc(n,r)},a}function K_(n){return n=Dr(n),n.tag=3,n}function $_(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){Q_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Q_(r,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function $S(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&dl(r,a,h,!0),a=Qn.current,a!==null){switch(a.tag){case 13:return Ii===null?fm():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===yd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),mm(n,l,h)),!1;case 22:return a.flags|=65536,l===yd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),mm(n,l,h)),!1}throw Error(s(435,a.tag))}return mm(n,l,h),fm(),!1}if(Ze)return r=Qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==cd&&(n=Error(s(422),{cause:l}),fl(jn(n,a)))):(l!==cd&&(r=Error(s(423),{cause:l}),fl(jn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=jn(l,a),h=jd(n.stateNode,l,h),Ed(n,h),Tt!==4&&(Tt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),Ml===null?Ml=[d]:Ml.push(d),Tt!==4&&(Tt=2),r===null)return!0;l=jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=jd(a.stateNode,l,n),Ed(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=K_(h),$_(h,n,a,l),Ed(a,h),!1}a=a.return}while(a!==null);return!1}var Y_=Error(s(461)),Ht=!1;function Xt(n,r,a,l){r.child=n===null?z_(r,null,a,l):Xa(r,n.child,a,l)}function X_(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return $s(r),l=wd(n,r,a,v,d,h),T=Rd(),n!==null&&!Ht?(Id(n,r,h),or(n,r,h)):(Ze&&T&&ld(r),r.flags|=1,Xt(n,r,l,h),r.child)}function Z_(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!sd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,J_(n,r,d,l,h)):(n=_c(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Xd(n,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(v,l)&&n.ref===r.ref)return or(n,r,h)}return r.flags|=1,n=er(d,l),n.ref=r.ref,n.return=r,r.child=n}function J_(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(ll(d,l)&&n.ref===r.ref)if(Ht=!1,r.pendingProps=l=d,Xd(n,h))(n.flags&131072)!==0&&(Ht=!0);else return r.lanes=n.lanes,or(n,r,h)}return Fd(n,r,a,l,h)}function W_(n,r,a){var l=r.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return ev(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&bc(r,d!==null?d.cachePool:null),d!==null?Jy(r,d):Ad(),B_(r);else return r.lanes=r.childLanes=536870912,ev(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(bc(r,d.cachePool),Jy(r,d),Mr(),r.memoizedState=null):(n!==null&&bc(r,null),Ad(),Mr());return Xt(n,r,h,a),r.child}function ev(n,r,a,l){var h=gd();return h=h===null?null:{parent:Ut._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&bc(r,null),Ad(),B_(r),n!==null&&dl(n,r,l,!0),null}function Bc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Fd(n,r,a,l,h){return $s(r),a=wd(n,r,a,l,void 0,h),l=Rd(),n!==null&&!Ht?(Id(n,r,h),or(n,r,h)):(Ze&&l&&ld(r),r.flags|=1,Xt(n,r,a,h),r.child)}function tv(n,r,a,l,h,d){return $s(r),r.updateQueue=null,a=e_(r,l,a,h),Wy(n),l=Rd(),n!==null&&!Ht?(Id(n,r,d),or(n,r,d)):(Ze&&l&&ld(r),r.flags|=1,Xt(n,r,a,d),r.child)}function nv(n,r,a,l,h){if($s(r),r.stateNode===null){var d=Ba,v=a.contextType;typeof v=="object"&&v!==null&&(d=sn(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},_d(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?sn(v):Ba,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Bd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&qd.enqueueReplaceState(d,d.state,null),El(r,l,d,h),vl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,I=Zs(a,T);d.props=I;var B=d.context,Y=a.contextType;v=Ba,typeof Y=="object"&&Y!==null&&(v=sn(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&j_(r,d,l,v),Cr=!1;var q=r.memoizedState;d.state=q,El(r,l,d,h),vl(),B=r.memoizedState,T||q!==B||Cr?(typeof J=="function"&&(Bd(r,a,J,l),B=r.memoizedState),(I=Cr||q_(r,a,I,l,q,B,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,vd(n,r),v=r.memoizedProps,Y=Zs(a,v),d.props=Y,J=r.pendingProps,q=d.context,B=a.contextType,I=Ba,typeof B=="object"&&B!==null&&(I=sn(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||q!==I)&&j_(r,d,l,I),Cr=!1,q=r.memoizedState,d.state=q,El(r,l,d,h),vl();var j=r.memoizedState;v!==J||q!==j||Cr||n!==null&&n.dependencies!==null&&Tc(n.dependencies)?(typeof T=="function"&&(Bd(r,a,T,l),j=r.memoizedState),(Y=Cr||q_(r,a,Y,l,q,j,I)||n!==null&&n.dependencies!==null&&Tc(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Bc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Xa(r,n.child,null,h),r.child=Xa(r,null,a,h)):Xt(n,r,a,h),r.memoizedState=d.state,n=r.child):n=or(n,r,h),n}function iv(n,r,a,l){return hl(),r.flags|=256,Xt(n,r,a,l),r.child}var Hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gd(n){return{baseLanes:n,cachePool:Hy()}}function Qd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Kn),n}function rv(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ze){if(h?Vr(r):Mr(),Ze){var T=Et,I;if(I=T){e:{for(I=T,T=Ri;I.nodeType!==8;){if(!T){T=null;break e}if(I=ai(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Fs!==null?{id:tr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},I=Cn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,pn=r,Et=null,I=!0):I=!1}I||Qs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Dm(T)?r.lanes=32:r.lanes=536870912,null;ar(r)}return T=l.children,l=l.fallback,h?(Mr(),h=r.mode,T=qc({mode:"hidden",children:T},h),l=js(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Gd(a),h.childLanes=Qd(n,v,a),r.memoizedState=Hd,l):(Vr(r),Kd(r,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Vr(r),r.flags&=-257,r=$d(n,r,a)):r.memoizedState!==null?(Mr(),r.child=n.child,r.flags|=128,r=null):(Mr(),h=l.fallback,T=r.mode,l=qc({mode:"visible",children:l.children},T),h=js(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Xa(r,n.child,null,a),l=r.child,l.memoizedState=Gd(a),l.childLanes=Qd(n,v,a),r.memoizedState=Hd,r=h);else if(Vr(r),Dm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,fl({value:l,source:null,stack:null}),r=$d(n,r,a)}else if(Ht||dl(n,r,a,!1),v=(a&n.childLanes)!==0,Ht||v){if(v=ct,v!==null&&(l=a&-a,l=(l&42)!==0?1:Er(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,za(n,l),Mn(v,n,l),Y_;T.data==="$?"||fm(),r=$d(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,Et=ai(T.nextSibling),pn=r,Ze=!0,Gs=null,Ri=!1,n!==null&&(Hn[Gn++]=tr,Hn[Gn++]=nr,Hn[Gn++]=Fs,tr=n.id,nr=n.overflow,Fs=r),r=Kd(r,l.children),r.flags|=4096);return r}return h?(Mr(),h=l.fallback,T=r.mode,I=n.child,B=I.sibling,l=er(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=er(B,h):(h=js(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=n.child.memoizedState,T===null?T=Gd(a):(I=T.cachePool,I!==null?(B=Ut._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Hy(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Qd(n,v,a),r.memoizedState=Hd,l):(Vr(r),a=n.child,n=a.sibling,a=er(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Kd(n,r){return r=qc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function qc(n,r){return n=Cn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function $d(n,r,a){return Xa(r,n.child,null,a),n=Kd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function sv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),fd(n.return,r,a)}function Yd(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function av(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Xt(n,r,l.children,a),l=Lt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&sv(n,a,r);else if(n.tag===19)sv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Lt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&Uc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Yd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&Uc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Yd(r,!0,a,null,d);break;case"together":Yd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function or(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Lr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(dl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=er(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=er(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Xd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Tc(n)))}function YS(n,r,a){switch(r.tag){case 3:Xe(r,r.stateNode.containerInfo),Ir(r,Ut,n.memoizedState.cache),hl();break;case 27:case 5:H(r);break;case 4:Xe(r,r.stateNode.containerInfo);break;case 10:Ir(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?rv(n,r,a):(Vr(r),n=or(n,r,a),n!==null?n.sibling:null);Vr(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(dl(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return av(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Lt,Lt.current),l)break;return null;case 22:case 23:return r.lanes=0,W_(n,r,a);case 24:Ir(r,Ut,n.memoizedState.cache)}return or(n,r,a)}function ov(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ht=!0;else{if(!Xd(n,a)&&(r.flags&128)===0)return Ht=!1,YS(n,r,a);Ht=(n.flags&131072)!==0}else Ht=!1,Ze&&(r.flags&1048576)!==0&&Uy(r,Ec,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")sd(l)?(n=Zs(l,n),r.tag=1,r=nv(null,r,l,n,a)):(r.tag=0,r=Fd(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===he){r.tag=11,r=X_(null,r,l,n,a);break e}else if(h===D){r.tag=14,r=Z_(null,r,l,n,a);break e}}throw r=ft(l)||l,Error(s(306,r,""))}}return r;case 0:return Fd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Zs(l,r.pendingProps),nv(n,r,l,h,a);case 3:e:{if(Xe(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,vd(n,r),El(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Ir(r,Ut,l),l!==d.cache&&dd(r,[Ut],a,!0),vl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=iv(n,r,l,a);break e}else if(l!==h){h=jn(Error(s(424)),r),fl(h),r=iv(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Et=ai(n.firstChild),pn=r,Ze=!0,Gs=null,Ri=!0,a=z_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hl(),l===h){r=or(n,r,a);break e}Xt(n,r,l,a)}r=r.child}return r;case 26:return Bc(n,r),n===null?(a=h0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ze||(a=r.type,n=r.pendingProps,l=th(Ae.current).createElement(a),l[xt]=r,l[It]=n,Jt(l,a,n),At(l),r.stateNode=l):r.memoizedState=h0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return H(r),n===null&&Ze&&(l=r.stateNode=l0(r.type,r.pendingProps,Ae.current),pn=r,Ri=!0,h=Et,jr(r.type)?(Nm=h,Et=ai(l.firstChild)):Et=h),Xt(n,r,r.pendingProps.children,a),Bc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ze&&((h=l=Et)&&(l=bw(l,r.type,r.pendingProps,Ri),l!==null?(r.stateNode=l,pn=r,Et=ai(l.firstChild),Ri=!1,h=!0):h=!1),h||Qs(r)),H(r),h=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,Rm(h,d)?l=null:v!==null&&Rm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=wd(n,r,qS,null,null,a),jl._currentValue=h),Bc(n,r),Xt(n,r,l,a),r.child;case 6:return n===null&&Ze&&((n=a=Et)&&(a=Sw(a,r.pendingProps,Ri),a!==null?(r.stateNode=a,pn=r,Et=null,n=!0):n=!1),n||Qs(r)),null;case 13:return rv(n,r,a);case 4:return Xe(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Xa(r,null,l,a):Xt(n,r,l,a),r.child;case 11:return X_(n,r,r.type,r.pendingProps,a);case 7:return Xt(n,r,r.pendingProps,a),r.child;case 8:return Xt(n,r,r.pendingProps.children,a),r.child;case 12:return Xt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ir(r,r.type,l.value),Xt(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,$s(r),h=sn(h),l=l(h),r.flags|=1,Xt(n,r,l,a),r.child;case 14:return Z_(n,r,r.type,r.pendingProps,a);case 15:return J_(n,r,r.type,r.pendingProps,a);case 19:return av(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=qc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=er(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return W_(n,r,a);case 24:return $s(r),l=sn(Ut),n===null?(h=gd(),h===null&&(h=ct,d=md(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},_d(r),Ir(r,Ut,h)):((n.lanes&a)!==0&&(vd(n,r),El(r,null,null,a),vl()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ir(r,Ut,l)):(l=d.cache,Ir(r,Ut,l),l!==h.cache&&dd(r,[Ut],a,!0))),Xt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function lr(n){n.flags|=4}function lv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!g0(r)){if(r=Qn.current,r!==null&&((Qe&4194048)===Qe?Ii!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||r!==Ii))throw yl=yd,Gy;n.flags|=8192}}function jc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Ho():536870912,n.lanes|=r,eo|=r)}function Il(n,r){if(!Ze)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function yt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function XS(n,r,a){var l=r.pendingProps;switch(ud(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return yt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rr(Ut),it(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(cl(r)?lr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,By())),yt(r),null;case 26:return a=r.memoizedState,n===null?(lr(r),a!==null?(yt(r),lv(r,a)):(yt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(lr(r),yt(r),lv(r,a)):(yt(r),r.flags&=-16777217):(n.memoizedProps!==l&&lr(r),yt(r),r.flags&=-16777217),null;case 27:ee(r),a=Ae.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return yt(r),null}n=ve.current,cl(r)?Ly(r):(n=l0(h,l,a),r.stateNode=n,lr(r))}return yt(r),null;case 5:if(ee(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return yt(r),null}if(n=ve.current,cl(r))Ly(r);else{switch(h=th(Ae.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[xt]=r,n[It]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(Jt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&lr(r)}}return yt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&lr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ae.current,cl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=pn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[xt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||t0(n.nodeValue,a)),n||Qs(r)}else n=th(n).createTextNode(l),n[xt]=r,r.stateNode=n}return yt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=cl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xt]=r}else hl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),h=!1}else h=By(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ar(r),r):(ar(r),null)}if(ar(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),jc(r,r.updateQueue),yt(r),null;case 4:return it(),n===null&&Tm(r.stateNode.containerInfo),yt(r),null;case 10:return rr(r.type),yt(r),null;case 19:if(ce(Lt),h=r.memoizedState,h===null)return yt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Il(h,!1);else{if(Tt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Uc(n),d!==null){for(r.flags|=128,Il(h,!1),n=d.updateQueue,r.updateQueue=n,jc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)ky(a,n),a=a.sibling;return se(Lt,Lt.current&1|2),r.child}n=n.sibling}h.tail!==null&&ze()>Gc&&(r.flags|=128,l=!0,Il(h,!1),r.lanes=4194304)}else{if(!l)if(n=Uc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,jc(r,n),Il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ze)return yt(r),null}else 2*ze()-h.renderingStartTime>Gc&&a!==536870912&&(r.flags|=128,l=!0,Il(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=ze(),r.sibling=null,n=Lt.current,se(Lt,l?n&1|2:n&1),r):(yt(r),null);case 22:case 23:return ar(r),bd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),a=r.updateQueue,a!==null&&jc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ce(Ys),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),rr(Ut),yt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ZS(n,r){switch(ud(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return rr(Ut),it(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ee(r),null;case 13:if(ar(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));hl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ce(Lt),null;case 4:return it(),null;case 10:return rr(r.type),null;case 22:case 23:return ar(r),bd(),n!==null&&ce(Ys),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return rr(Ut),null;case 25:return null;default:return null}}function uv(n,r){switch(ud(r),r.tag){case 3:rr(Ut),it();break;case 26:case 27:case 5:ee(r);break;case 4:it();break;case 13:ar(r);break;case 19:ce(Lt);break;case 10:rr(r.type);break;case 22:case 23:ar(r),bd(),n!==null&&ce(Ys);break;case 24:rr(Ut)}}function Cl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){ut(r,r.return,T)}}function xr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,B=T;try{B()}catch(Y){ut(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){ut(r,r.return,Y)}}function cv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Zy(r,a)}catch(l){ut(n,n.return,l)}}}function hv(n,r,a){a.props=Zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ut(n,r,l)}}function Dl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){ut(n,r,h)}}function Ci(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(n,r,h)}else a.current=null}function fv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(n,n.return,h)}}function Zd(n,r,a){try{var l=n.stateNode;_w(l,n.type,a,r),l[It]=r}catch(h){ut(n,n.return,h)}}function dv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&jr(n.type)||n.tag===4}function Jd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&jr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=eh));else if(l!==4&&(l===27&&jr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Wd(n,r,a),n=n.sibling;n!==null;)Wd(n,r,a),n=n.sibling}function Fc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&jr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Fc(n,r,a),n=n.sibling;n!==null;)Fc(n,r,a),n=n.sibling}function mv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Jt(r,l,a),r[xt]=n,r[It]=a}catch(d){ut(n,n.return,d)}}var ur=!1,St=!1,em=!1,pv=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function JS(n,r){if(n=n.containerInfo,Sm=oh,n=Ry(n),Jf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,Y=0,J=n,q=null;t:for(;;){for(var j;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(j=J.firstChild)!==null;)q=J,J=j;for(;;){if(J===n)break t;if(q===a&&++B===h&&(T=v),q===d&&++Y===l&&(I=v),(j=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=j}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(wm={focusedElem:n,selectionRange:a},oh=!1,Gt=r;Gt!==null;)if(r=Gt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Gt=n;else for(;Gt!==null;){switch(r=Gt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Re=Zs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Re,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){ut(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Cm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Gt=n;break}Gt=r.return}}function gv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pr(n,a),l&4&&Cl(5,a);break;case 1:if(Pr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){ut(a,a.return,v)}else{var h=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){ut(a,a.return,v)}}l&64&&cv(a),l&512&&Dl(a,a.return);break;case 3:if(Pr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Zy(n,r)}catch(v){ut(a,a.return,v)}}break;case 27:r===null&&l&4&&mv(a);case 26:case 5:Pr(n,a),r===null&&l&4&&fv(a),l&512&&Dl(a,a.return);break;case 12:Pr(n,a);break;case 13:Pr(n,a),l&4&&vv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=ow.bind(null,a),ww(n,a))));break;case 22:if(l=a.memoizedState!==null||ur,!l){r=r!==null&&r.memoizedState!==null||St,h=ur;var d=St;ur=l,(St=r)&&!d?kr(n,a,(a.subtreeFlags&8772)!==0):Pr(n,a),ur=h,St=d}break;case 30:break;default:Pr(n,a)}}function yv(n){var r=n.alternate;r!==null&&(n.alternate=null,yv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&br(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,yn=!1;function cr(n,r,a){for(a=a.child;a!==null;)_v(n,r,a),a=a.sibling}function _v(n,r,a){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(vt,a)}catch{}switch(a.tag){case 26:St||Ci(a,r),cr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Ci(a,r);var l=pt,h=yn;jr(a.type)&&(pt=a.stateNode,yn=!1),cr(n,r,a),Ll(a.stateNode),pt=l,yn=h;break;case 5:St||Ci(a,r);case 6:if(l=pt,h=yn,pt=null,cr(n,r,a),pt=l,yn=h,pt!==null)if(yn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(d){ut(a,r,d)}else try{pt.removeChild(a.stateNode)}catch(d){ut(a,r,d)}break;case 18:pt!==null&&(yn?(n=pt,a0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ql(n)):a0(pt,a.stateNode));break;case 4:l=pt,h=yn,pt=a.stateNode.containerInfo,yn=!0,cr(n,r,a),pt=l,yn=h;break;case 0:case 11:case 14:case 15:St||xr(2,a,r),St||xr(4,a,r),cr(n,r,a);break;case 1:St||(Ci(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&hv(a,r,l)),cr(n,r,a);break;case 21:cr(n,r,a);break;case 22:St=(l=St)||a.memoizedState!==null,cr(n,r,a),St=l;break;default:cr(n,r,a)}}function vv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ql(n)}catch(a){ut(r,r.return,a)}}function WS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new pv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new pv),r;default:throw Error(s(435,n.tag))}}function tm(n,r){var a=WS(n);r.forEach(function(l){var h=lw.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(jr(T.type)){pt=T.stateNode,yn=!1;break e}break;case 5:pt=T.stateNode,yn=!1;break e;case 3:case 4:pt=T.stateNode.containerInfo,yn=!0;break e}T=T.return}if(pt===null)throw Error(s(160));_v(d,v,h),pt=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ev(r,n),r=r.sibling}var si=null;function Ev(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dn(r,n),Nn(n),l&4&&(xr(3,n,n.return),Cl(3,n),xr(5,n,n.return));break;case 1:Dn(r,n),Nn(n),l&512&&(St||a===null||Ci(a,a.return)),l&64&&ur&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=si;if(Dn(r,n),Nn(n),l&512&&(St||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Rs]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Jt(d,l,a),d[xt]=n,At(d),l=d;break e;case"link":var v=m0("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Jt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=m0("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=n,At(d),l=d}n.stateNode=l}else p0(h,n.type,n.stateNode);else n.stateNode=d0(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?p0(h,n.type,n.stateNode):d0(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Zd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Dn(r,n),Nn(n),l&512&&(St||a===null||Ci(a,a.return)),a!==null&&l&4&&Zd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Dn(r,n),Nn(n),l&512&&(St||a===null||Ci(a,a.return)),n.flags&32){h=n.stateNode;try{Ln(h,"")}catch(j){ut(n,n.return,j)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Zd(n,h,a!==null?a.memoizedProps:h)),l&1024&&(em=!0);break;case 6:if(Dn(r,n),Nn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(j){ut(n,n.return,j)}}break;case 3:if(rh=null,h=si,si=nh(r.containerInfo),Dn(r,n),si=h,Nn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ql(r.containerInfo)}catch(j){ut(n,n.return,j)}em&&(em=!1,Tv(n));break;case 4:l=si,si=nh(n.stateNode.containerInfo),Dn(r,n),Nn(n),si=l;break;case 12:Dn(r,n),Nn(n);break;case 13:Dn(r,n),Nn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(om=ze()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,tm(n,l)));break;case 22:h=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=ur,Y=St;if(ur=B||h,St=Y||I,Dn(r,n),St=Y,ur=B,Nn(n),l&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||ur||St||Js(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(j){ut(I,I.return,j)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(j){ut(I,I.return,j)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tm(n,a))));break;case 19:Dn(r,n),Nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,tm(n,l)));break;case 30:break;case 21:break;default:Dn(r,n),Nn(n)}}function Nn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(dv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Jd(n);Fc(n,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Ln(v,""),a.flags&=-33);var T=Jd(n);Fc(n,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Jd(n);Wd(n,B,I);break;default:throw Error(s(161))}}catch(Y){ut(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Tv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Tv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Pr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)gv(n,r.alternate,r),r=r.sibling}function Js(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:xr(4,r,r.return),Js(r);break;case 1:Ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&hv(r,r.return,a),Js(r);break;case 27:Ll(r.stateNode);case 26:case 5:Ci(r,r.return),Js(r);break;case 22:r.memoizedState===null&&Js(r);break;case 30:Js(r);break;default:Js(r)}n=n.sibling}}function kr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:kr(h,d,a),Cl(4,d);break;case 1:if(kr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ut(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Xy(I[h],T)}catch(B){ut(l,l.return,B)}}a&&v&64&&cv(d),Dl(d,d.return);break;case 27:mv(d);case 26:case 5:kr(h,d,a),a&&l===null&&v&4&&fv(d),Dl(d,d.return);break;case 12:kr(h,d,a);break;case 13:kr(h,d,a),a&&v&4&&vv(h,d);break;case 22:d.memoizedState===null&&kr(h,d,a),Dl(d,d.return);break;case 30:break;default:kr(h,d,a)}r=r.sibling}}function nm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ml(a))}function im(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ml(n))}function Di(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Av(n,r,a,l),r=r.sibling}function Av(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Di(n,r,a,l),h&2048&&Cl(9,r);break;case 1:Di(n,r,a,l);break;case 3:Di(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ml(n)));break;case 12:if(h&2048){Di(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){ut(r,r.return,I)}}else Di(n,r,a,l);break;case 13:Di(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Di(n,r,a,l):Nl(n,r):d._visibility&2?Di(n,r,a,l):(d._visibility|=2,Za(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&nm(v,r);break;case 24:Di(n,r,a,l),h&2048&&im(r.alternate,r);break;default:Di(n,r,a,l)}}function Za(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Za(d,v,T,I,h),Cl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Za(d,v,T,I,h):Nl(d,v):(Y._visibility|=2,Za(d,v,T,I,h)),h&&B&2048&&nm(v.alternate,v);break;case 24:Za(d,v,T,I,h),h&&B&2048&&im(v.alternate,v);break;default:Za(d,v,T,I,h)}r=r.sibling}}function Nl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:Nl(a,l),h&2048&&nm(l.alternate,l);break;case 24:Nl(a,l),h&2048&&im(l.alternate,l);break;default:Nl(a,l)}r=r.sibling}}var Ol=8192;function Ja(n){if(n.subtreeFlags&Ol)for(n=n.child;n!==null;)bv(n),n=n.sibling}function bv(n){switch(n.tag){case 26:Ja(n),n.flags&Ol&&n.memoizedState!==null&&Lw(si,n.memoizedState,n.memoizedProps);break;case 5:Ja(n);break;case 3:case 4:var r=si;si=nh(n.stateNode.containerInfo),Ja(n),si=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ol,Ol=16777216,Ja(n),Ol=r):Ja(n));break;default:Ja(n)}}function Sv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Vl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Gt=l,Rv(l,n)}Sv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wv(n),n=n.sibling}function wv(n){switch(n.tag){case 0:case 11:case 15:Vl(n),n.flags&2048&&xr(9,n,n.return);break;case 3:Vl(n);break;case 12:Vl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Hc(n)):Vl(n);break;default:Vl(n)}}function Hc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Gt=l,Rv(l,n)}Sv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:xr(8,r,r.return),Hc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(r));break;default:Hc(r)}n=n.sibling}}function Rv(n,r){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:xr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=n;Gt!==null;){l=Gt;var h=l.sibling,d=l.return;if(yv(l),l===a){Gt=null;break e}if(h!==null){h.return=d,Gt=h;break e}Gt=d}}}var ew={getCacheForType:function(n){var r=sn(Ut),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},tw=typeof WeakMap=="function"?WeakMap:Map,tt=0,ct=null,Ue=null,Qe=0,nt=0,On=null,Ur=!1,Wa=!1,rm=!1,hr=0,Tt=0,Lr=0,Ws=0,sm=0,Kn=0,eo=0,Ml=null,_n=null,am=!1,om=0,Gc=1/0,Qc=null,zr=null,Zt=0,Br=null,to=null,no=0,lm=0,um=null,Iv=null,xl=0,cm=null;function Vn(){if((tt&2)!==0&&Qe!==0)return Qe&-Qe;if(K.T!==null){var n=Fa;return n!==0?n:ym()}return Tr()}function Cv(){Kn===0&&(Kn=(Qe&536870912)===0||Ze?Fo():536870912);var n=Qn.current;return n!==null&&(n.flags|=32),Kn}function Mn(n,r,a){(n===ct&&(nt===2||nt===9)||n.cancelPendingCommit!==null)&&(io(n,0),qr(n,Qe,Kn,!1)),Fi(n,a),((tt&2)===0||n!==ct)&&(n===ct&&((tt&2)===0&&(Ws|=a),Tt===4&&qr(n,Qe,Kn,!1)),Ni(n))}function Dv(n,r,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||ws(n,r),h=l?rw(n,r):dm(n,r,!0),d=l;do{if(h===0){Wa&&!l&&qr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!nw(a)){h=dm(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=n;h=Ml;var I=T.current.memoizedState.isDehydrated;if(I&&(io(T,v).flags|=256),v=dm(T,v,!1),v!==2){if(rm&&!I){T.errorRecoveryDisabledLanes|=d,Ws|=d,h=4;break e}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){io(n,0),qr(n,r,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:qr(l,r,Kn,!Ur);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=om+300-ze(),10<h)){if(qr(l,r,Kn,!Ur),Ea(l,0,!0)!==0)break e;l.timeoutHandle=r0(Nv.bind(null,l,a,_n,Qc,am,r,Kn,Ws,eo,Ur,d,2,-0,0),h);break e}Nv(l,a,_n,Qc,am,r,Kn,Ws,eo,Ur,d,0,-0,0)}}break}while(!0);Ni(n)}function Nv(n,r,a,l,h,d,v,T,I,B,Y,J,q,j){if(n.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:Uw},bv(r),J=zw(),J!==null)){n.cancelPendingCommit=J(Uv.bind(null,n,r,d,a,l,h,v,T,I,Y,1,q,j)),qr(n,d,v,!B);return}Uv(n,r,d,a,l,h,v,T,I)}function nw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!In(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function qr(n,r,a,l){r&=~sm,r&=~Ws,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-rn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&pi(n,a,r)}function Kc(){return(tt&6)===0?(Pl(0),!1):!0}function hm(){if(Ue!==null){if(nt===0)var n=Ue.return;else n=Ue,ir=Ks=null,Cd(n),Ya=null,wl=0,n=Ue;for(;n!==null;)uv(n.alternate,n),n=n.return;Ue=null}}function io(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Ew(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),hm(),ct=n,Ue=a=er(n.current,null),Qe=r,nt=0,On=null,Ur=!1,Wa=ws(n,r),rm=!1,eo=Kn=sm=Ws=Lr=Tt=0,_n=Ml=null,am=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-rn(l),d=1<<h;r|=n[h],l&=~d}return hr=r,pc(),a}function Ov(n,r){xe=null,K.H=xc,r===gl||r===Sc?(r=$y(),nt=3):r===Gy?(r=$y(),nt=4):nt=r===Y_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,Ue===null&&(Tt=1,zc(n,jn(r,n.current)))}function Vv(){var n=K.H;return K.H=xc,n===null?xc:n}function Mv(){var n=K.A;return K.A=ew,n}function fm(){Tt=4,Ur||(Qe&4194048)!==Qe&&Qn.current!==null||(Wa=!0),(Lr&134217727)===0&&(Ws&134217727)===0||ct===null||qr(ct,Qe,Kn,!1)}function dm(n,r,a){var l=tt;tt|=2;var h=Vv(),d=Mv();(ct!==n||Qe!==r)&&(Qc=null,io(n,r)),r=!1;var v=Tt;e:do try{if(nt!==0&&Ue!==null){var T=Ue,I=On;switch(nt){case 8:hm(),v=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(r=!0);var B=nt;if(nt=0,On=null,ro(n,T,I,B),a&&Wa){v=0;break e}break;default:B=nt,nt=0,On=null,ro(n,T,I,B)}}iw(),v=Tt;break}catch(Y){Ov(n,Y)}while(!0);return r&&n.shellSuspendCounter++,ir=Ks=null,tt=l,K.H=h,K.A=d,Ue===null&&(ct=null,Qe=0,pc()),v}function iw(){for(;Ue!==null;)xv(Ue)}function rw(n,r){var a=tt;tt|=2;var l=Vv(),h=Mv();ct!==n||Qe!==r?(Qc=null,Gc=ze()+500,io(n,r)):Wa=ws(n,r);e:do try{if(nt!==0&&Ue!==null){r=Ue;var d=On;t:switch(nt){case 1:nt=0,On=null,ro(n,r,d,1);break;case 2:case 9:if(Qy(d)){nt=0,On=null,Pv(r);break}r=function(){nt!==2&&nt!==9||ct!==n||(nt=7),Ni(n)},d.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Qy(d)?(nt=0,On=null,Pv(r)):(nt=0,On=null,ro(n,r,d,7));break;case 5:var v=null;switch(Ue.tag){case 26:v=Ue.memoizedState;case 5:case 27:var T=Ue;if(!v||g0(v)){nt=0,On=null;var I=T.sibling;if(I!==null)Ue=I;else{var B=T.return;B!==null?(Ue=B,$c(B)):Ue=null}break t}}nt=0,On=null,ro(n,r,d,5);break;case 6:nt=0,On=null,ro(n,r,d,6);break;case 8:hm(),Tt=6;break e;default:throw Error(s(462))}}sw();break}catch(Y){Ov(n,Y)}while(!0);return ir=Ks=null,K.H=l,K.A=h,tt=a,Ue!==null?0:(ct=null,Qe=0,pc(),Tt)}function sw(){for(;Ue!==null&&!nn();)xv(Ue)}function xv(n){var r=ov(n.alternate,n,hr);n.memoizedProps=n.pendingProps,r===null?$c(n):Ue=r}function Pv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=tv(a,r,r.pendingProps,r.type,void 0,Qe);break;case 11:r=tv(a,r,r.pendingProps,r.type.render,r.ref,Qe);break;case 5:Cd(r);default:uv(a,r),r=Ue=ky(r,hr),r=ov(a,r,hr)}n.memoizedProps=n.pendingProps,r===null?$c(n):Ue=r}function ro(n,r,a,l){ir=Ks=null,Cd(r),Ya=null,wl=0;var h=r.return;try{if($S(n,h,r,a,Qe)){Tt=1,zc(n,jn(a,n.current)),Ue=null;return}}catch(d){if(h!==null)throw Ue=h,d;Tt=1,zc(n,jn(a,n.current)),Ue=null;return}r.flags&32768?(Ze||l===1?n=!0:Wa||(Qe&536870912)!==0?n=!1:(Ur=n=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),kv(r,n)):$c(r)}function $c(n){var r=n;do{if((r.flags&32768)!==0){kv(r,Ur);return}n=r.return;var a=XS(r.alternate,r,hr);if(a!==null){Ue=a;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=n}while(r!==null);Tt===0&&(Tt=5)}function kv(n,r){do{var a=ZS(n.alternate,n);if(a!==null){a.flags&=32767,Ue=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ue=n;return}Ue=n=a}while(n!==null);Tt=6,Ue=null}function Uv(n,r,a,l,h,d,v,T,I){n.cancelPendingCommit=null;do Yc();while(Zt!==0);if((tt&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=id,Go(n,a,d,v,T,I),n===ct&&(Ue=ct=null,Qe=0),to=r,Br=n,no=a,lm=d,um=h,Iv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,uw(Ts,function(){return jv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ue.p,ue.p=2,v=tt,tt|=4;try{JS(n,r,a)}finally{tt=v,ue.p=h,K.T=l}}Zt=1,Lv(),zv(),Bv()}}function Lv(){if(Zt===1){Zt=0;var n=Br,r=to,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ue.p;ue.p=2;var h=tt;tt|=4;try{Ev(r,n);var d=wm,v=Ry(n.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&wy(T.ownerDocument.documentElement,T)){if(I!==null&&Jf(T)){var B=I.start,Y=I.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var j=q.getSelection(),Re=T.textContent.length,be=Math.min(I.start,Re),ot=I.end===void 0?be:Math.min(I.end,Re);!j.extend&&be>ot&&(v=ot,ot=be,be=v);var k=Sy(T,be),M=Sy(T,ot);if(k&&M&&(j.rangeCount!==1||j.anchorNode!==k.node||j.anchorOffset!==k.offset||j.focusNode!==M.node||j.focusOffset!==M.offset)){var z=J.createRange();z.setStart(k.node,k.offset),j.removeAllRanges(),be>ot?(j.addRange(z),j.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),j.addRange(z))}}}}for(J=[],j=T;j=j.parentNode;)j.nodeType===1&&J.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var X=J[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}oh=!!Sm,wm=Sm=null}finally{tt=h,ue.p=l,K.T=a}}n.current=r,Zt=2}}function zv(){if(Zt===2){Zt=0;var n=Br,r=to,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ue.p;ue.p=2;var h=tt;tt|=4;try{gv(n,r.alternate,r)}finally{tt=h,ue.p=l,K.T=a}}Zt=3}}function Bv(){if(Zt===4||Zt===3){Zt=0,qt();var n=Br,r=to,a=no,l=Iv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Zt=5:(Zt=0,to=Br=null,qv(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(zr=null),Ta(a),r=r.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(vt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,h=ue.p,ue.p=2,K.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=r,ue.p=h}}(no&3)!==0&&Yc(),Ni(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===cm?xl++:(xl=0,cm=n):xl=0,Pl(0)}}function qv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ml(r)))}function Yc(n){return Lv(),zv(),Bv(),jv()}function jv(){if(Zt!==5)return!1;var n=Br,r=lm;lm=0;var a=Ta(no),l=K.T,h=ue.p;try{ue.p=32>a?32:a,K.T=null,a=um,um=null;var d=Br,v=no;if(Zt=0,to=Br=null,no=0,(tt&6)!==0)throw Error(s(331));var T=tt;if(tt|=4,wv(d.current),Av(d,d.current,v,a),tt=T,Pl(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(vt,d)}catch{}return!0}finally{ue.p=h,K.T=l,qv(n,r)}}function Fv(n,r,a){r=jn(a,r),r=jd(n.stateNode,r,2),n=Nr(n,r,2),n!==null&&(Fi(n,2),Ni(n))}function ut(n,r,a){if(n.tag===3)Fv(n,n,a);else for(;r!==null;){if(r.tag===3){Fv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){n=jn(a,n),a=K_(2),l=Nr(r,a,2),l!==null&&($_(a,l,r,n),Fi(l,2),Ni(l));break}}r=r.return}}function mm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new tw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(rm=!0,h.add(a),n=aw.bind(null,n,r,a),r.then(n,n))}function aw(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ct===n&&(Qe&a)===a&&(Tt===4||Tt===3&&(Qe&62914560)===Qe&&300>ze()-om?(tt&2)===0&&io(n,0):sm|=a,eo===Qe&&(eo=0)),Ni(n)}function Hv(n,r){r===0&&(r=Ho()),n=za(n,r),n!==null&&(Fi(n,r),Ni(n))}function ow(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Hv(n,a)}function lw(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Hv(n,a)}function uw(n,r){return Ve(n,r)}var Xc=null,so=null,pm=!1,Zc=!1,gm=!1,ea=0;function Ni(n){n!==so&&n.next===null&&(so===null?Xc=so=n:so=so.next=n),Zc=!0,pm||(pm=!0,hw())}function Pl(n,r){if(!gm&&Zc){gm=!0;do for(var a=!1,l=Xc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-rn(42|n)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,$v(l,d))}else d=Qe,d=Ea(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ws(l,d)||(a=!0,$v(l,d));l=l.next}while(a);gm=!1}}function cw(){Gv()}function Gv(){Zc=pm=!1;var n=0;ea!==0&&(vw()&&(n=ea),ea=0);for(var r=ze(),a=null,l=Xc;l!==null;){var h=l.next,d=Qv(l,r);d===0?(l.next=null,a===null?Xc=h:a.next=h,h===null&&(so=a)):(a=l,(n!==0||(d&3)!==0)&&(Zc=!0)),l=h}Pl(n)}function Qv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-rn(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=jo(T,r)):I<=r&&(n.expiredLanes|=T),d&=~T}if(r=ct,a=Qe,a=Ea(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(nt===2||nt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&$e(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ws(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&$e(l),Ta(a)){case 2:case 8:a=_a;break;case 32:a=Ts;break;case 268435456:a=va;break;default:a=Ts}return l=Kv.bind(null,n),a=Ve(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&$e(l),n.callbackPriority=2,n.callbackNode=null,2}function Kv(n,r){if(Zt!==0&&Zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Yc()&&n.callbackNode!==a)return null;var l=Qe;return l=Ea(n,n===ct?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Dv(n,l,r),Qv(n,ze()),n.callbackNode!=null&&n.callbackNode===a?Kv.bind(null,n):null)}function $v(n,r){if(Yc())return null;Dv(n,r,!0)}function hw(){Tw(function(){(tt&6)!==0?Ve(Bo,cw):Gv()})}function ym(){return ea===0&&(ea=Fo()),ea}function Yv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ia(""+n)}function Xv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function fw(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Yv((h[It]||null).action),v=l.submitter;v&&(r=(r=v[It]||null)?Yv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Ca("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ea!==0){var I=v?Xv(h,v):new FormData(h);Ud(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?Xv(h,v):new FormData(h),Ud(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var _m=0;_m<nd.length;_m++){var vm=nd[_m],dw=vm.toLowerCase(),mw=vm[0].toUpperCase()+vm.slice(1);ri(dw,"on"+mw)}ri(Dy,"onAnimationEnd"),ri(Ny,"onAnimationIteration"),ri(Oy,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(OS,"onTransitionRun"),ri(VS,"onTransitionStart"),ri(MS,"onTransitionCancel"),ri(Vy,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Zv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){Lc(Y)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){Lc(Y)}h.currentTarget=null,d=I}}}}function Le(n,r){var a=r[Ko];a===void 0&&(a=r[Ko]=new Set);var l=n+"__bubble";a.has(l)||(Jv(r,n,2,!1),a.add(l))}function Em(n,r,a){var l=0;r&&(l|=4),Jv(a,n,l,r)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Tm(n){if(!n[Jc]){n[Jc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(pw.has(a)||Em(a,!1,n),Em(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Jc]||(r[Jc]=!0,Em("selectionchange",!1,r))}}function Jv(n,r,a,l){switch(A0(r)){case 2:var h=jw;break;case 8:h=Fw;break;default:h=Pm}a=h.bind(null,r,a,n),h=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function Am(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Hi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}ec(function(){var B=d,Y=zn(a),J=[];e:{var q=My.get(n);if(q!==void 0){var j=Ca,Re=n;switch(n){case"keypress":if(Ti(a)===0)break e;case"keydown":case"keyup":j=xa;break;case"focusin":Re="focus",j=Oa;break;case"focusout":Re="blur",j=Oa;break;case"beforeblur":case"afterblur":j=Oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=lc;break;case Dy:case Ny:case Oy:j=Va;break;case Vy:j=cc;break;case"scroll":case"scrollend":j=tc;break;case"wheel":j=Pa;break;case"copy":case"cut":case"paste":j=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=al;break;case"toggle":case"beforetoggle":j=fc}var be=(r&4)!==0,ot=!be&&(n==="scroll"||n==="scrollend"),k=be?q!==null?q+"Capture":null:q;be=[];for(var M=B,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||k===null||(X=Ms(M,k),X!=null&&be.push(Ul(M,X,z))),ot)break;M=M.return}0<be.length&&(q=new j(q,Re,null,a,Y),J.push({event:q,listeners:be}))}}if((r&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",j=n==="mouseout"||n==="pointerout",q&&a!==$i&&(Re=a.relatedTarget||a.fromElement)&&(Hi(Re)||Re[Un]))break e;if((j||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,j?(Re=a.relatedTarget||a.toElement,j=B,Re=Re?Hi(Re):null,Re!==null&&(ot=u(Re),be=Re.tag,Re!==ot||be!==5&&be!==27&&be!==6)&&(Re=null)):(j=null,Re=B),j!==Re)){if(be=qn,X="onMouseLeave",k="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(be=al,X="onPointerLeave",k="onPointerEnter",M="pointer"),ot=j==null?q:yi(j),z=Re==null?q:yi(Re),q=new be(X,M+"leave",j,a,Y),q.target=ot,q.relatedTarget=z,X=null,Hi(Y)===B&&(be=new be(k,M+"enter",Re,a,Y),be.target=z,be.relatedTarget=ot,X=be),ot=X,j&&Re)t:{for(be=j,k=Re,M=0,z=be;z;z=ao(z))M++;for(z=0,X=k;X;X=ao(X))z++;for(;0<M-z;)be=ao(be),M--;for(;0<z-M;)k=ao(k),z--;for(;M--;){if(be===k||k!==null&&be===k.alternate)break t;be=ao(be),k=ao(k)}be=null}else be=null;j!==null&&Wv(J,q,j,be,!1),Re!==null&&ot!==null&&Wv(J,ot,Re,be,!0)}}e:{if(q=B?yi(B):window,j=q.nodeName&&q.nodeName.toLowerCase(),j==="select"||j==="input"&&q.type==="file")var ge=_y;else if(kt(q))if(vy)ge=CS;else{ge=RS;var ke=wS}else j=q.nodeName,!j||j.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Wo(B.elementType)&&(ge=_y):ge=IS;if(ge&&(ge=ge(n,B))){Wi(J,ge,a,Y);break e}ke&&ke(n,q,B),n==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&wr(q,"number",q.value)}switch(ke=B?yi(B):window,n){case"focusin":(kt(ke)||ke.contentEditable==="true")&&(ka=ke,Wf=B,ul=null);break;case"focusout":ul=Wf=ka=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Iy(J,a,Y);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":Iy(J,a,Y)}var Ee;if(Si)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else He?Q(n,a)&&(Se="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(_&&a.locale!=="ko"&&(He||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&He&&(Ee=tl()):(Ei=Y,Rr="value"in Ei?Ei.value:Ei.textContent,He=!0)),ke=Wc(B,Se),0<ke.length&&(Se=new rl(Se,n,null,a,Y),J.push({event:Se,listeners:ke}),Ee?Se.data=Ee:(Ee=oe(a),Ee!==null&&(Se.data=Ee)))),(Ee=g?Pt(n,a):Ge(n,a))&&(Se=Wc(B,"onBeforeInput"),0<Se.length&&(ke=new rl("onBeforeInput","beforeinput",null,a,Y),J.push({event:ke,listeners:Se}),ke.data=Ee)),fw(J,n,B,a,Y)}Zv(J,r)})}function Ul(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Wc(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ms(n,a),h!=null&&l.unshift(Ul(n,h,d)),h=Ms(n,r),h!=null&&l.push(Ul(n,h,d))),n.tag===3)return l;n=n.return}return[]}function ao(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Wv(n,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=Ms(a,d),B!=null&&v.unshift(Ul(a,B,I))):h||(B=Ms(a,d),B!=null&&v.push(Ul(a,B,I)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var gw=/\r\n?/g,yw=/\u0000|\uFFFD/g;function e0(n){return(typeof n=="string"?n:""+n).replace(gw,`
`).replace(yw,"")}function t0(n,r){return r=e0(r),e0(n)===r}function eh(){}function at(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Ln(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Ln(n,""+l);break;case"className":_i(n,"class",l);break;case"tabIndex":_i(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(n,a,l);break;case"style":Jo(n,l,d);break;case"data":if(r!=="object"){_i(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ia(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&at(n,r,"name",h.name,h,null),at(n,r,"formEncType",h.formEncType,h,null),at(n,r,"formMethod",h.formMethod,h,null),at(n,r,"formTarget",h.formTarget,h,null)):(at(n,r,"encType",h.encType,h,null),at(n,r,"method",h.method,h,null),at(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ia(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=eh);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ia(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Sr(n,"popover",l);break;case"xlinkActuate":$t(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$t(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$t(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$t(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$t(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$t(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$t(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$t(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$t(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qf.get(a)||a,Sr(n,a,l))}}function bm(n,r,a,l,h,d){switch(a){case"style":Jo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Ln(n,l):(typeof l=="number"||typeof l=="bigint")&&Ln(n,""+l);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"onClick":l!=null&&(n.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[It]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Sr(n,a,l)}}}function Jt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(n,r,d,v,a,null)}}h&&at(n,r,"srcSet",a.srcSet,a,null),l&&at(n,r,"src",a.src,a,null);return;case"input":Le("invalid",n);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:at(n,r,l,Y,a,null)}}Ns(n,d,T,I,B,v,h,!1),Ra(n);return;case"select":Le("invalid",n),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:at(n,r,h,T,a,null)}r=d,a=v,n.multiple=!!l,r!=null?Ki(n,!!l,r,!1):a!=null&&Ki(n,!!l,a,!0);return;case"textarea":Le("invalid",n),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:at(n,r,v,T,a,null)}Os(n,l,h,d),Ra(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(n,r,I,l,a,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(l=0;l<kl.length;l++)Le(kl[l],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(n,r,B,l,a,null)}return;default:if(Wo(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&bm(n,r,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&at(n,r,T,l,a,null))}function _w(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,Y=null;for(j in a){var J=a[j];if(a.hasOwnProperty(j)&&J!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(j)||at(n,r,j,null,l,J)}}for(var q in l){var j=l[q];if(J=a[q],l.hasOwnProperty(q)&&(j!=null||J!=null))switch(q){case"type":d=j;break;case"name":h=j;break;case"checked":B=j;break;case"defaultChecked":Y=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:j!==J&&at(n,r,q,j,l,J)}}Rn(n,v,T,I,B,Y,d,h);return;case"select":j=v=T=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":j=I;default:l.hasOwnProperty(d)||at(n,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&at(n,r,h,d,l,I)}r=T,a=v,l=j,q!=null?Ki(n,!!a,q,!1):!!l!=!!a&&(r!=null?Ki(n,!!a,r,!0):Ki(n,!!a,a?[]:"",!1));return;case"textarea":j=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(n,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&at(n,r,v,h,l,d)}rt(n,q,j);return;case"option":for(var Re in a)if(q=a[Re],a.hasOwnProperty(Re)&&q!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":n.selected=!1;break;default:at(n,r,Re,null,l,q)}for(I in l)if(q=l[I],j=a[I],l.hasOwnProperty(I)&&q!==j&&(q!=null||j!=null))switch(I){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:at(n,r,I,q,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)q=a[be],a.hasOwnProperty(be)&&q!=null&&!l.hasOwnProperty(be)&&at(n,r,be,null,l,q);for(B in l)if(q=l[B],j=a[B],l.hasOwnProperty(B)&&q!==j&&(q!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:at(n,r,B,q,l,j)}return;default:if(Wo(r)){for(var ot in a)q=a[ot],a.hasOwnProperty(ot)&&q!==void 0&&!l.hasOwnProperty(ot)&&bm(n,r,ot,void 0,l,q);for(Y in l)q=l[Y],j=a[Y],!l.hasOwnProperty(Y)||q===j||q===void 0&&j===void 0||bm(n,r,Y,q,l,j);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&at(n,r,k,null,l,q);for(J in l)q=l[J],j=a[J],!l.hasOwnProperty(J)||q===j||q==null&&j==null||at(n,r,J,q,l,j)}var Sm=null,wm=null;function th(n){return n.nodeType===9?n:n.ownerDocument}function n0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Rm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Im=null;function vw(){var n=window.event;return n&&n.type==="popstate"?n===Im?!1:(Im=n,!0):(Im=null,!1)}var r0=typeof setTimeout=="function"?setTimeout:void 0,Ew=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,Tw=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(n){return s0.resolve(null).then(n).catch(Aw)}:r0;function Aw(n){setTimeout(function(){throw n})}function jr(n){return n==="head"}function a0(n,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&Ll(v.documentElement),a&2&&Ll(v.body),a&4)for(a=v.head,Ll(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[Rs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){n.removeChild(d),Ql(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ql(r)}function Cm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cm(a),br(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function bw(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Rs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ai(n.nextSibling),n===null)break}return null}function Sw(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ai(n.nextSibling),n===null))return null;return n}function Dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function ww(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ai(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Nm=null;function o0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function l0(n,r,a){switch(r=th(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ll(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);br(n)}var $n=new Map,u0=new Set;function nh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var fr=ue.d;ue.d={f:Rw,r:Iw,D:Cw,C:Dw,L:Nw,m:Ow,X:Mw,S:Vw,M:xw};function Rw(){var n=fr.f(),r=Kc();return n||r}function Iw(n){var r=gi(n);r!==null&&r.tag===5&&r.type==="form"?D_(r):fr.r(n)}var oo=typeof document>"u"?null:document;function c0(n,r,a){var l=oo;if(l&&typeof r=="string"&&r){var h=Ct(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),u0.has(h)||(u0.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Jt(r,"link",n),At(r),l.head.appendChild(r)))}}function Cw(n){fr.D(n),c0("dns-prefetch",n,null)}function Dw(n,r){fr.C(n,r),c0("preconnect",n,r)}function Nw(n,r,a){fr.L(n,r,a);var l=oo;if(l&&n&&r){var h='link[rel="preload"][as="'+Ct(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ct(a.imageSizes)+'"]')):h+='[href="'+Ct(n)+'"]';var d=h;switch(r){case"style":d=lo(n);break;case"script":d=uo(n)}$n.has(d)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),$n.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(zl(d))||r==="script"&&l.querySelector(Bl(d))||(r=l.createElement("link"),Jt(r,"link",n),At(r),l.head.appendChild(r)))}}function Ow(n,r){fr.m(n,r);var a=oo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Ct(l)+'"][href="'+Ct(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(n)}if(!$n.has(d)&&(n=E({rel:"modulepreload",href:n},r),$n.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),Jt(l,"link",n),At(l),a.head.appendChild(l)}}}function Vw(n,r,a){fr.S(n,r,a);var l=oo;if(l&&n){var h=fn(l).hoistableStyles,d=lo(n);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(zl(d)))T.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=$n.get(d))&&Om(n,a);var I=v=l.createElement("link");At(I),Jt(I,"link",n),I._p=new Promise(function(B,Y){I.onload=B,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ih(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Mw(n,r){fr.X(n,r);var a=oo;if(a&&n){var l=fn(a).hoistableScripts,h=uo(n),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(n=E({src:n,async:!0},r),(r=$n.get(h))&&Vm(n,r),d=a.createElement("script"),At(d),Jt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xw(n,r){fr.M(n,r);var a=oo;if(a&&n){var l=fn(a).hoistableScripts,h=uo(n),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(n=E({src:n,async:!0,type:"module"},r),(r=$n.get(h))&&Vm(n,r),d=a.createElement("script"),At(d),Jt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function h0(n,r,a,l){var h=(h=Ae.current)?nh(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=fn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=lo(a.href);var d=fn(h).hoistableStyles,v=d.get(n);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=h.querySelector(zl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),$n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(n,a),d||Pw(h,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=fn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function lo(n){return'href="'+Ct(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function f0(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function Pw(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Jt(r,"link",a),At(r),n.head.appendChild(r))}function uo(n){return'[src="'+Ct(n)+'"]'}function Bl(n){return"script[async]"+n}function d0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Ct(a.href)+'"]');if(l)return r.instance=l,At(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),At(l),Jt(l,"style",h),ih(l,a.precedence,n),r.instance=l;case"stylesheet":h=lo(a.href);var d=n.querySelector(zl(h));if(d)return r.state.loading|=4,r.instance=d,At(d),d;l=f0(a),(h=$n.get(h))&&Om(l,h),d=(n.ownerDocument||n).createElement("link"),At(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Jt(d,"link",l),r.state.loading|=4,ih(d,a.precedence,n),r.instance=d;case"script":return d=uo(a.src),(h=n.querySelector(Bl(d)))?(r.instance=h,At(h),h):(l=a,(h=$n.get(d))&&(l=E({},a),Vm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),At(h),Jt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ih(l,a.precedence,n));return r.instance}function ih(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Om(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Vm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var rh=null;function m0(n,r,a){if(rh===null){var l=new Map,h=rh=new Map;h.set(a,l)}else h=rh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[Rs]||d[xt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function p0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function kw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function g0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ql=null;function Uw(){}function Lw(n,r,a){if(ql===null)throw Error(s(475));var l=ql;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=lo(a.href),d=n.querySelector(zl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=sh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,At(d);return}d=n.ownerDocument||n,a=f0(a),(h=$n.get(h))&&Om(a,h),d=d.createElement("link"),At(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Jt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=sh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function zw(){if(ql===null)throw Error(s(475));var n=ql;return n.stylesheets&&n.count===0&&Mm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Mm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function sh(){if(this.count--,this.count===0){if(this.stylesheets)Mm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ah=null;function Mm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ah=new Map,r.forEach(Bw,n),ah=null,sh.call(n))}function Bw(n,r){if(!(r.state.loading&4)){var a=ah.get(n);if(a)var l=a.get(null);else{a=new Map,ah.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=sh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var jl={$$typeof:te,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function qw(n,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function y0(n,r,a,l,h,d,v,T,I,B,Y,J){return n=new qw(n,r,a,v,T,I,B,J),r=1,d===!0&&(r|=24),d=Cn(3,null,null,r),n.current=d,d.stateNode=n,r=md(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},_d(d),n}function _0(n){return n?(n=Ba,n):Ba}function v0(n,r,a,l,h,d){h=_0(h),l.context===null?l.context=h:l.pendingContext=h,l=Dr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Nr(n,l,r),a!==null&&(Mn(a,n,r),_l(a,n,r))}function E0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function xm(n,r){E0(n,r),(n=n.alternate)&&E0(n,r)}function T0(n){if(n.tag===13){var r=za(n,67108864);r!==null&&Mn(r,n,67108864),xm(n,67108864)}}var oh=!0;function jw(n,r,a,l){var h=K.T;K.T=null;var d=ue.p;try{ue.p=2,Pm(n,r,a,l)}finally{ue.p=d,K.T=h}}function Fw(n,r,a,l){var h=K.T;K.T=null;var d=ue.p;try{ue.p=8,Pm(n,r,a,l)}finally{ue.p=d,K.T=h}}function Pm(n,r,a,l){if(oh){var h=km(l);if(h===null)Am(n,r,l,lh,a),b0(n,l);else if(Gw(h,n,r,a,l))l.stopPropagation();else if(b0(n,l),r&4&&-1<Hw.indexOf(n)){for(;h!==null;){var d=gi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ti(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-rn(v);T.entanglements[1]|=I,v&=~I}Ni(d),(tt&6)===0&&(Gc=ze()+500,Pl(0))}}break;case 13:T=za(d,2),T!==null&&Mn(T,d,2),Kc(),xm(d,2)}if(d=km(l),d===null&&Am(n,r,l,lh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Am(n,r,l,null,a)}}function km(n){return n=zn(n),Um(n)}var lh=null;function Um(n){if(lh=null,n=Hi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=f(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return lh=n,null}function A0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hn()){case Bo:return 2;case _a:return 8;case Ts:case qf:return 32;case va:return 268435456;default:return 32}default:return 32}}var Lm=!1,Fr=null,Hr=null,Gr=null,Fl=new Map,Hl=new Map,Qr=[],Hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b0(n,r){switch(n){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(r.pointerId)}}function Gl(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=gi(r),r!==null&&T0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function Gw(n,r,a,l,h){switch(r){case"focusin":return Fr=Gl(Fr,n,r,a,l,h),!0;case"dragenter":return Hr=Gl(Hr,n,r,a,l,h),!0;case"mouseover":return Gr=Gl(Gr,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Fl.set(d,Gl(Fl.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Hl.set(d,Gl(Hl.get(d)||null,n,r,a,l,h)),!0}return!1}function S0(n){var r=Hi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){n.blockedOn=r,Ku(n.priority,function(){if(a.tag===13){var l=Vn();l=Er(l);var h=za(a,l);h!==null&&Mn(h,a,l),xm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=km(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);$i=l,a.target.dispatchEvent(l),$i=null}else return r=gi(a),r!==null&&T0(r),n.blockedOn=a,!1;r.shift()}return!0}function w0(n,r,a){uh(n)&&a.delete(r)}function Qw(){Lm=!1,Fr!==null&&uh(Fr)&&(Fr=null),Hr!==null&&uh(Hr)&&(Hr=null),Gr!==null&&uh(Gr)&&(Gr=null),Fl.forEach(w0),Hl.forEach(w0)}function ch(n,r){n.blockedOn===r&&(n.blockedOn=null,Lm||(Lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qw)))}var hh=null;function R0(n){hh!==n&&(hh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hh===n&&(hh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(Um(l||a)===null)continue;break}var d=gi(a);d!==null&&(n.splice(r,3),r-=3,Ud(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ql(n){function r(I){return ch(I,n)}Fr!==null&&ch(Fr,n),Hr!==null&&ch(Hr,n),Gr!==null&&ch(Gr,n),Fl.forEach(r),Hl.forEach(r);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)S0(a),a.blockedOn===null&&Qr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[It]||null;if(typeof d=="function")v||R0(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[It]||null)T=v.formAction;else if(Um(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),R0(a)}}}function zm(n){this._internalRoot=n}fh.prototype.render=zm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Vn();v0(a,l,n,r,null,null)},fh.prototype.unmount=zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;v0(n.current,2,null,n,null,null),Kc(),r[Un]=null}};function fh(n){this._internalRoot=n}fh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Tr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Qr.length&&r!==0&&r<Qr[a].priority;a++);Qr.splice(a,0,n),a===0&&S0(n)}};var I0=e.version;if(I0!=="19.1.0")throw Error(s(527,I0,"19.1.0"));ue.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var Kw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{vt=dh.inject(Kw),et=dh}catch{}}return Kl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=F_,d=H_,v=G_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=y0(n,1,!1,null,null,a,l,h,d,v,T,null),n[Un]=r.current,Tm(n),new zm(r)},Kl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=F_,v=H_,T=G_,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=y0(n,1,!0,r,a??null,l,h,d,v,T,I,B),r.context=_0(null),a=r.current,l=Vn(),l=Er(l),h=Dr(l),h.callback=null,Nr(a,h,l),a=l,r.current.lanes=a,Fi(r,a),Ni(r),n[Un]=r.current,Tm(n),new fh(r)},Kl.version="19.1.0",Kl}var P0;function tR(){if(P0)return qm.exports;P0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qm.exports=eR(),qm.exports}var nR=tR();const Jp={THB:{symbol:"",name:"Thai Baht",decimals:0},USD:{symbol:"$",name:"US Dollar",decimals:2},NZD:{symbol:"$",name:"New Zealand Dollar",decimals:2},AED:{symbol:".",name:"UAE Dirham",decimals:2,roundTo:.25}};let Zl={};const iR=async()=>{try{const e=await(await fetch("https://api.exchangerate-api.com/v4/latest/THB")).json();return Zl=e.rates,e.rates}catch(i){return console.error("Error fetching exchange rates:",i),{}}},rR=(i,e="THB",t)=>!Zl[t]||e===t?i:e==="THB"?i*Zl[t]:i/Zl[e]*Zl[t],KT=i=>Jp[i]?.symbol||"",$r=(i,e="THB")=>{const t=KT(e),s=Jp[e];let o=rR(i,"THB",e);s?.roundTo&&(o=Math.round(o/s.roundTo)*s.roundTo);const u=s?.decimals??2,f=o.toLocaleString("en-US",{minimumFractionDigits:u,maximumFractionDigits:u});return`${t}${f}`},$T=({className:i="w-8 h-8"})=>$.createElement("svg",{className:i,viewBox:"0 0 24 24",fill:"none"},$.createElement("ellipse",{cx:"12",cy:"14",rx:"8",ry:"4",fill:"#93C5FD"}),$.createElement("path",{d:"M4 14 Q2 12 4 10 Q6 12 4 14",fill:"#93C5FD"}),$.createElement("ellipse",{cx:"12",cy:"14",rx:"5",ry:"2",fill:"#DBEAFE"}),$.createElement("circle",{cx:"10",cy:"12",r:"1",fill:"#1E40AF"}),$.createElement("path",{d:"M10 15 Q12 16 14 15",stroke:"#1E40AF",strokeWidth:"0.5",fill:"none"}),$.createElement("path",{d:"M12 8 Q12 6 12 4",stroke:"#93C5FD",strokeWidth:"1.5",fill:"none",strokeLinecap:"round"}),$.createElement("circle",{cx:"12",cy:"4",r:"0.5",fill:"#93C5FD"})),sR=({activeTab:i,setActiveTab:e,selectedCurrency:t,setSelectedCurrency:s,user:o})=>{const u=[{id:"income",label:"Income"},{id:"expenses",label:"Expenses"},{id:"goals",label:"Goals"},{id:"report",label:"Report"}],f=Object.entries(Jp).map(([m,p])=>({code:m,name:p.name,symbol:p.symbol}));return $.createElement("nav",{className:"p-3 border rounded mb-2 bg-white"},$.createElement("div",{className:"flex justify-between items-center"},$.createElement("div",{className:"flex items-center"},$.createElement($T,{className:"w-12 h-12"}),$.createElement("div",{className:"md:hidden"},$.createElement("select",{value:i,onChange:m=>e(m.target.value),className:"py-2 text-base bg-transparent outline-none"},u.map(m=>$.createElement("option",{key:m.id,value:m.id},m.label)))),$.createElement("div",{className:"hidden md:flex"},u.map(m=>$.createElement("button",{key:m.id,onClick:()=>e(m.id),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${i===m.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`},m.label)))),o&&$.createElement("div",{className:"flex items-center space-x-2"},$.createElement("select",{value:t,onChange:m=>s(m.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm bg-white"},f.map(m=>$.createElement("option",{key:m.code,value:m.code},m.code))),$.createElement("div",{className:"flex items-center"},$.createElement("img",{src:o.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full"})))))},aR=()=>{};var k0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},oR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],f=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],f=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},XT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,V=y&63;p||(V=64,f||(S=64)),s.push(t[E],t[b],t[S],t[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(YT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):oR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new lR;const S=u<<2|m>>4;if(s.push(S),y!==64){const V=m<<4&240|y>>2;if(s.push(V),b!==64){const U=y<<6&192|b;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uR=function(i){const e=YT(i);return XT.encodeByteArray(e,!0)},xh=function(i){return uR(i).replace(/\./g,"")},ZT=function(i){try{return XT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=()=>cR().__FIREBASE_DEFAULTS__,fR=()=>{if(typeof process>"u"||typeof k0>"u")return;const i=k0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},dR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ZT(i[1]);return e&&JSON.parse(e)},lf=()=>{try{return aR()||hR()||fR()||dR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},JT=i=>{var e,t;return(t=(e=lf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},WT=i=>{const e=JT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},eA=()=>{var i;return(i=lf())===null||i===void 0?void 0:i.config},tA=i=>{var e;return(e=lf())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[xh(JSON.stringify(t)),xh(JSON.stringify(f)),""].join(".")}const nu={};function gR(){const i={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?i.emulator.push(e):i.prod.push(e);return i}function yR(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let U0=!1;function eg(i,e){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||nu[i]===e||nu[i]||U0)return;nu[i]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=gR().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{U0=!0,f()},S}function E(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=yR(s),V=t("text"),U=document.getElementById(V)||document.createElement("span"),F=t("learnmore"),G=document.getElementById(F)||document.createElement("a"),ie=t("preprendIcon"),re=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const te=S.element;m(te),E(G,F);const he=y();p(re,ie),te.append(re,U,G,he),document.body.appendChild(te)}u?(U.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function vR(){var i;const e=(i=lf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ER(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function TR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AR(){const i=cn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function bR(){return!vR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iA(){try{return typeof indexedDB=="object"}catch{return!1}}function rA(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function SR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="FirebaseError";class ei extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=wR,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?RR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ei(o,m,s)}}function RR(i,e){return i.replace(IR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const IR=/\{\$([^}]+)}/g;function CR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function cs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(L0(u)&&L0(f)){if(!cs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function L0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function DR(i,e){const t=new NR(i,e);return t.subscribe.bind(t)}class NR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");OR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Gm),o.error===void 0&&(o.error=Gm),o.complete===void 0&&(o.complete=Gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Gm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=1e3,MR=2,xR=4*60*60*1e3,PR=.5;function z0(i,e=VR,t=MR){const s=e*Math.pow(t,i),o=Math.round(PR*s*(Math.random()-.5)*2);return Math.min(xR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i){return i&&i._delegate?i._delegate:i}class Wn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new mR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UR(i){return i===ta?void 0:i}function LR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const BR={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},qR=Be.INFO,jR={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},FR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=jR[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uf{constructor(e){this.name=e,this._logLevel=qR,this._logHandler=FR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const HR=(i,e)=>e.some(t=>i instanceof t);let B0,q0;function GR(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QR(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sA=new WeakMap,fp=new WeakMap,aA=new WeakMap,Qm=new WeakMap,tg=new WeakMap;function KR(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{t(rs(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&sA.set(t,i)}).catch(()=>{}),tg.set(e,i),e}function $R(i){if(fp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});fp.set(i,e)}let dp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return fp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||aA.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function YR(i){dp=i(dp)}function XR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Km(this),e,...t);return aA.set(s,e.sort?e.sort():[e]),rs(s)}:QR().includes(i)?function(...e){return i.apply(Km(this),e),rs(sA.get(this))}:function(...e){return rs(i.apply(Km(this),e))}}function ZR(i){return typeof i=="function"?XR(i):(i instanceof IDBTransaction&&$R(i),HR(i,GR())?new Proxy(i,dp):i)}function rs(i){if(i instanceof IDBRequest)return KR(i);if(Qm.has(i))return Qm.get(i);const e=ZR(i);return e!==i&&(Qm.set(i,e),tg.set(e,i)),e}const Km=i=>tg.get(i);function oA(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=rs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(rs(f.result),p.oldVersion,p.newVersion,rs(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const JR=["get","getKey","getAll","getAllKeys","count"],WR=["put","add","delete","clear"],$m=new Map;function j0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=WR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JR.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&p.done]))[0]};return $m.set(e,u),u}YR(i=>({...i,get:(e,t,s)=>j0(e,t)||i.get(e,t,s),has:(e,t)=>!!j0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function tI(i){const e=i.getComponent();return e?.type==="VERSION"}const mp="@firebase/app",F0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new uf("@firebase/app"),nI="@firebase/app-compat",iI="@firebase/analytics-compat",rI="@firebase/analytics",sI="@firebase/app-check-compat",aI="@firebase/app-check",oI="@firebase/auth",lI="@firebase/auth-compat",uI="@firebase/database",cI="@firebase/data-connect",hI="@firebase/database-compat",fI="@firebase/functions",dI="@firebase/functions-compat",mI="@firebase/installations",pI="@firebase/installations-compat",gI="@firebase/messaging",yI="@firebase/messaging-compat",_I="@firebase/performance",vI="@firebase/performance-compat",EI="@firebase/remote-config",TI="@firebase/remote-config-compat",AI="@firebase/storage",bI="@firebase/storage-compat",SI="@firebase/firestore",wI="@firebase/ai",RI="@firebase/firestore-compat",II="firebase",CI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",DI={[mp]:"fire-core",[nI]:"fire-core-compat",[rI]:"fire-analytics",[iI]:"fire-analytics-compat",[aI]:"fire-app-check",[sI]:"fire-app-check-compat",[oI]:"fire-auth",[lI]:"fire-auth-compat",[uI]:"fire-rtdb",[cI]:"fire-data-connect",[hI]:"fire-rtdb-compat",[fI]:"fire-fn",[dI]:"fire-fn-compat",[mI]:"fire-iid",[pI]:"fire-iid-compat",[gI]:"fire-fcm",[yI]:"fire-fcm-compat",[_I]:"fire-perf",[vI]:"fire-perf-compat",[EI]:"fire-rc",[TI]:"fire-rc-compat",[AI]:"fire-gcs",[bI]:"fire-gcs-compat",[SI]:"fire-fst",[RI]:"fire-fst-compat",[wI]:"fire-vertex","fire-js":"fire-js",[II]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,NI=new Map,gp=new Map;function H0(i,e){try{i.container.addComponent(e)}catch(t){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function fi(i){const e=i.name;if(gp.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,i);for(const t of Ph.values())H0(t,i);for(const t of NI.values())H0(t,i);return!0}function _s(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Xn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new pa("app","Firebase",OI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=CI;function lA(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:pp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(t||(t=eA()),!t)throw ss.create("no-options");const u=Ph.get(o);if(u){if(cs(t,u.options)&&cs(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const f=new zR(o);for(const p of gp.values())f.addComponent(p);const m=new VI(t,s,f);return Ph.set(o,m),m}function cf(i=pp){const e=Ph.get(i);if(!e&&i===pp&&eA())return lA();if(!e)throw ss.create("no-app",{appName:i});return e}function bn(i,e,t){var s;let o=(s=DI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(m.join(" "));return}fi(new Wn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firebase-heartbeat-database",xI=1,du="firebase-heartbeat-store";let Ym=null;function uA(){return Ym||(Ym=oA(MI,xI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(du)}catch(t){console.warn(t)}}}}).catch(i=>{throw ss.create("idb-open",{originalErrorMessage:i.message})})),Ym}async function PI(i){try{const t=(await uA()).transaction(du),s=await t.objectStore(du).get(cA(i));return await t.done,s}catch(e){if(e instanceof ei)gr.warn(e.message);else{const t=ss.create("idb-get",{originalErrorMessage:e?.message});gr.warn(t.message)}}}async function G0(i,e){try{const s=(await uA()).transaction(du,"readwrite");await s.objectStore(du).put(e,cA(i)),await s.done}catch(t){if(t instanceof ei)gr.warn(t.message);else{const s=ss.create("idb-set",{originalErrorMessage:t?.message});gr.warn(s.message)}}}function cA(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1024,UI=30;class LI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>UI){const f=qI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q0(),{heartbeatsToSend:s,unsentEntries:o}=zI(this._heartbeatsCache.heartbeats),u=xh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return gr.warn(t),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function zI(i,e=kI){const t=[];let s=i.slice();for(const o of i){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),K0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),K0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class BI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iA()?rA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return G0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return G0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function K0(i){return xh(JSON.stringify({version:2,heartbeats:i})).length}function qI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(i){fi(new Wn("platform-logger",e=>new eI(e),"PRIVATE")),fi(new Wn("heartbeat",e=>new LI(e),"PRIVATE")),bn(mp,F0,i),bn(mp,F0,"esm2017"),bn("fire-js","")}jI("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="type.googleapis.com/google.protobuf.Int64Value",HI="type.googleapis.com/google.protobuf.UInt64Value";function hA(i,e){const t={};for(const s in i)i.hasOwnProperty(s)&&(t[s]=e(i[s]));return t}function kh(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>kh(e));if(typeof i=="function"||typeof i=="object")return hA(i,e=>kh(e));throw new Error("Data cannot be encoded in JSON: "+i)}function So(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case FI:case HI:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>So(e)):typeof i=="function"||typeof i=="object"?hA(i,e=>So(e)):i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class An extends ei{constructor(e,t,s){super(`${ng}/${e}`,t||""),this.details=s,Object.setPrototypeOf(this,An.prototype)}}function GI(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Uh(i,e){let t=GI(i),s=t,o;try{const u=e&&e.error;if(u){const f=u.status;if(typeof f=="string"){if(!$0[f])return new An("internal","internal");t=$0[f],s=f}const m=u.message;typeof m=="string"&&(s=m),o=u.details,o!==void 0&&(o=So(o))}}catch{}return t==="ok"?null:new An(t,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Xn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="us-central1",KI=/^data: (.*?)(?:\n|$)/;function $I(i){let e=null;return{promise:new Promise((t,s)=>{e=setTimeout(()=>{s(new An("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class YI{constructor(e,t,s,o,u=yp,f=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new QI(e,t,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=yp}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function XI(i,e,t){const s=ma(e);i.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(Wp(i.emulatorOrigin),eg("Functions",!0))}function ZI(i,e,t){const s=o=>WI(i,e,o,{});return s.stream=(o,u)=>t2(i,e,o,u),s}async function JI(i,e,t,s){t["Content-Type"]="application/json";let o;try{o=await s(i,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function fA(i,e){const t={},s=await i.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(t.Authorization="Bearer "+s.authToken),s.messagingToken&&(t["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=s.appCheckToken),t}function WI(i,e,t,s){const o=i._url(e);return e2(i,o,t,s)}async function e2(i,e,t,s){t=kh(t);const o={data:t},u=await fA(i,s),f=s.timeout||7e4,m=$I(f),p=await Promise.race([JI(e,o,u,i.fetchImpl),m.promise,i.cancelAllRequests]);if(m.cancel(),!p)throw new An("cancelled","Firebase Functions instance was deleted.");const y=Uh(p.status,p.json);if(y)throw y;if(!p.json)throw new An("internal","Response is not valid JSON object.");let E=p.json.data;if(typeof E>"u"&&(E=p.json.result),typeof E>"u")throw new An("internal","Response is missing data field.");return{data:So(E)}}function t2(i,e,t,s){const o=i._url(e);return n2(i,o,t,s||{})}async function n2(i,e,t,s){var o;t=kh(t);const u={data:t},f=await fA(i,s);f["Content-Type"]="application/json",f.Accept="text/event-stream";let m;try{m=await i.fetchImpl(e,{method:"POST",body:JSON.stringify(u),headers:f,signal:s?.signal})}catch(V){if(V instanceof Error&&V.name==="AbortError"){const F=new An("cancelled","Request was cancelled.");return{data:Promise.reject(F),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(F)}}}}}}const U=Uh(0,null);return{data:Promise.reject(U),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(U)}}}}}}let p,y;const E=new Promise((V,U)=>{p=V,y=U});(o=s?.signal)===null||o===void 0||o.addEventListener("abort",()=>{const V=new An("cancelled","Request was cancelled.");y(V)});const b=m.body.getReader(),S=i2(b,p,y,s?.signal);return{stream:{[Symbol.asyncIterator](){const V=S.getReader();return{async next(){const{value:U,done:F}=await V.read();return{value:U,done:F}},async return(){return await V.cancel(),{done:!0,value:void 0}}}}},data:E}}function i2(i,e,t,s){const o=(f,m)=>{const p=f.match(KI);if(!p)return;const y=p[1];try{const E=JSON.parse(y);if("result"in E){e(So(E.result));return}if("message"in E){m.enqueue(So(E.message));return}if("error"in E){const b=Uh(0,E);m.error(b),t(b);return}}catch(E){if(E instanceof An){m.error(E),t(E);return}}},u=new TextDecoder;return new ReadableStream({start(f){let m="";return p();async function p(){if(s?.aborted){const y=new An("cancelled","Request was cancelled");return f.error(y),t(y),Promise.resolve()}try{const{value:y,done:E}=await i.read();if(E){m.trim()&&o(m.trim(),f),f.close();return}if(s?.aborted){const S=new An("cancelled","Request was cancelled");f.error(S),t(S),await i.cancel();return}m+=u.decode(y,{stream:!0});const b=m.split(`
`);m=b.pop()||"";for(const S of b)S.trim()&&o(S.trim(),f);return p()}catch(y){const E=y instanceof An?y:Uh(0,null);f.error(E),t(E)}}},cancel(){return i.cancel()}})}const Y0="@firebase/functions",X0="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="auth-internal",s2="app-check-internal",a2="messaging-internal";function o2(i){const e=(t,{instanceIdentifier:s})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider(r2),f=t.getProvider(a2),m=t.getProvider(s2);return new YI(o,u,f,m,s)};fi(new Wn(ng,e,"PUBLIC").setMultipleInstances(!0)),bn(Y0,X0,i),bn(Y0,X0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(i=cf(),e=yp){const s=_s(Rt(i),ng).getImmediate({identifier:e}),o=WT("functions");return o&&u2(s,...o),s}function u2(i,e,t){XI(Rt(i),e,t)}function c2(i,e,t){return ZI(Rt(i),e)}o2();const Z0=({onTranscript:i,isRecording:e,setIsRecording:t,activeTab:s,onDataExtracted:o,selectedCurrency:u})=>{const[f,m]=me.useState(!1),p=me.useRef(null),y=me.useRef([]),E=async()=>{try{const U=await navigator.mediaDevices.getUserMedia({audio:!0});p.current=new MediaRecorder(U),y.current=[],p.current.ondataavailable=F=>{y.current.push(F.data)},p.current.onstop=async()=>{const F=new Blob(y.current,{type:"audio/webm"});await V(F)},p.current.start(),t(!0)}catch(U){console.error("Error accessing microphone:",U),alert("Unable to access microphone. Please check permissions.")}},b=()=>{p.current&&e&&(p.current.stop(),p.current.stream.getTracks().forEach(U=>U.stop()),t(!1))},S=()=>{const U=`The user is using ${u} currency. Convert amounts to THB (Thai Baht) if mentioned in other currencies like USD, NZD, or AED.`;switch(s){case"income":return`${U} Extract income information from this voice recording. Return ONLY a JSON object with these exact fields: {"name": "income name", "amount": number, "period": "daily|weekly|monthly|yearly|one-off"}. Example: "salary 50000 monthly" should return {"name": "salary", "amount": 50000, "period": "monthly"}. If any field is unclear, use null for that field.`;case"expenses":return`${U} Extract expense information from this voice recording. Return ONLY a JSON object with these exact fields: {"name": "expense name", "amount": number, "period": "daily|weekly|monthly|yearly|one-off"}. Example: "rent 15000 monthly" should return {"name": "rent", "amount": 15000, "period": "monthly"}. If any field is unclear, use null for that field.`;case"goals":return`${U} Extract goal information from this voice recording. Return ONLY a JSON object with these exact fields: {"name": "goal name", "price": number, "dailyContribution": number}. Example: "new phone 25000 100 daily" should return {"name": "new phone", "price": 25000, "dailyContribution": 100}. If any field is unclear, use null for that field.`;default:return"Extract information from this voice recording and return it as a JSON object."}},V=async U=>{console.log(" VOICE INPUT: Starting audio processing"),m(!0);try{const F=await U.arrayBuffer(),G=btoa(String.fromCharCode(...new Uint8Array(F))),ie=l2(),te=await c2(ie,"processSmartRequest")({audioFile:G,prompt:S(),returnTranscript:!0});console.log("Smart function result:",te.data);const he=te.data.response;let le=null,pe=te.data.transcript||"";try{const D=he.match(/\{[\s\S]*\}/);D?(le=JSON.parse(D[0]),console.log(" Extracted data:",le)):console.log(" No JSON match found in response:",he)}catch(D){console.error(" Failed to parse JSON from response:",D),console.log("Raw response text:",he)}i&&i(pe),le&&o?(console.log(" VOICE INPUT: Calling onDataExtracted with:",le),o(le)):console.log(" VOICE INPUT: No extracted data or callback missing:",{hasExtractedData:!!le,hasCallback:!!o})}catch(F){console.error("Error processing audio:",F),alert("Failed to process voice input. Please try again.")}finally{m(!1)}};return $.createElement("button",{onClick:e?b:E,disabled:f,className:`flex items-center justify-center w-10 h-10 rounded-full transition-all duration-200 ${e?"bg-red-500 hover:bg-red-600 text-white":f?"bg-gray-400 cursor-not-allowed text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,title:e?"Stop Recording":"Start Voice Input"},f?$.createElement("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},$.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),$.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})):$.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})))};var h2="firebase",f2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(h2,f2,"app");const dA="@firebase/installations",ig="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1e4,pA=`w:${ig}`,gA="FIS_v2",d2="https://firebaseinstallations.googleapis.com/v1",m2=60*60*1e3,p2="installations",g2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new pa(p2,g2,y2);function yA(i){return i instanceof ei&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A({projectId:i}){return`${d2}/projects/${i}/installations`}function vA(i){return{token:i.token,requestStatus:2,expiresIn:v2(i.expiresIn),creationTime:Date.now()}}async function EA(i,e){const s=(await e.json()).error;return oa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function TA({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function _2(i,{refreshToken:e}){const t=TA(i);return t.append("Authorization",E2(e)),t}async function AA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function v2(i){return Number(i.replace("s","000"))}function E2(i){return`${gA} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=_A(i),o=TA(i),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:t,authVersion:gA,appId:i.appId,sdkVersion:pA},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await AA(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:vA(y.authToken)}}else throw await EA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^[cdef][\w-]{21}$/,_p="";function S2(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=w2(i);return b2.test(t)?t:_p}catch{return _p}}function w2(i){return A2(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new Map;function wA(i,e){const t=hf(i);RA(t,e),R2(t,e)}function RA(i,e){const t=SA.get(i);if(t)for(const s of t)s(e)}function R2(i,e){const t=I2();t&&t.postMessage({key:i,fid:e}),C2()}let ia=null;function I2(){return!ia&&"BroadcastChannel"in self&&(ia=new BroadcastChannel("[Firebase] FID Change"),ia.onmessage=i=>{RA(i.data.key,i.data.fid)}),ia}function C2(){SA.size===0&&ia&&(ia.close(),ia=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="firebase-installations-database",N2=1,la="firebase-installations-store";let Xm=null;function rg(){return Xm||(Xm=oA(D2,N2,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(la)}}})),Xm}async function Lh(i,e){const t=hf(i),o=(await rg()).transaction(la,"readwrite"),u=o.objectStore(la),f=await u.get(t);return await u.put(e,t),await o.done,(!f||f.fid!==e.fid)&&wA(i,e.fid),e}async function IA(i){const e=hf(i),s=(await rg()).transaction(la,"readwrite");await s.objectStore(la).delete(e),await s.done}async function ff(i,e){const t=hf(i),o=(await rg()).transaction(la,"readwrite"),u=o.objectStore(la),f=await u.get(t),m=e(f);return m===void 0?await u.delete(t):await u.put(m,t),await o.done,m&&(!f||f.fid!==m.fid)&&wA(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(i){let e;const t=await ff(i.appConfig,s=>{const o=O2(s),u=V2(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===_p?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function O2(i){const e=i||{fid:S2(),registrationStatus:0};return CA(e)}function V2(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(oa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=M2(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:x2(i)}:{installationEntry:e}}async function M2(i,e){try{const t=await T2(i,e);return Lh(i.appConfig,t)}catch(t){throw yA(t)&&t.customData.serverCode===409?await IA(i.appConfig):await Lh(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function x2(i){let e=await J0(i.appConfig);for(;e.registrationStatus===1;)await bA(100),e=await J0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await sg(i);return s||t}return e}function J0(i){return ff(i,e=>{if(!e)throw oa.create("installation-not-found");return CA(e)})}function CA(i){return P2(i)?{fid:i.fid,registrationStatus:0}:i}function P2(i){return i.registrationStatus===1&&i.registrationTime+mA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2({appConfig:i,heartbeatServiceProvider:e},t){const s=U2(i,t),o=_2(i,t),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:pA,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await AA(()=>fetch(s,m));if(p.ok){const y=await p.json();return vA(y)}else throw await EA("Generate Auth Token",p)}function U2(i,{fid:e}){return`${_A(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(i,e=!1){let t;const s=await ff(i.appConfig,u=>{if(!DA(u))throw oa.create("not-registered");const f=u.authToken;if(!e&&B2(f))return u;if(f.requestStatus===1)return t=L2(i,e),u;{if(!navigator.onLine)throw oa.create("app-offline");const m=j2(u);return t=z2(i,m),m}});return t?await t:s.authToken}async function L2(i,e){let t=await W0(i.appConfig);for(;t.authToken.requestStatus===1;)await bA(100),t=await W0(i.appConfig);const s=t.authToken;return s.requestStatus===0?ag(i,e):s}function W0(i){return ff(i,e=>{if(!DA(e))throw oa.create("not-registered");const t=e.authToken;return F2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function z2(i,e){try{const t=await k2(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Lh(i.appConfig,s),t}catch(t){if(yA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await IA(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Lh(i.appConfig,s)}throw t}}function DA(i){return i!==void 0&&i.registrationStatus===2}function B2(i){return i.requestStatus===2&&!q2(i)}function q2(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+m2}function j2(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function F2(i){return i.requestStatus===1&&i.requestTime+mA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(i){const e=i,{installationEntry:t,registrationPromise:s}=await sg(e);return s?s.catch(console.error):ag(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(i,e=!1){const t=i;return await Q2(t),(await ag(t,e)).token}async function Q2(i){const{registrationPromise:e}=await sg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(i){if(!i||!i.options)throw Zm("App Configuration");if(!i.name)throw Zm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Zm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Zm(i){return oa.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="installations",$2="installations-internal",Y2=i=>{const e=i.getProvider("app").getImmediate(),t=K2(e),s=_s(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},X2=i=>{const e=i.getProvider("app").getImmediate(),t=_s(e,NA).getImmediate();return{getId:()=>H2(t),getToken:o=>G2(t,o)}};function Z2(){fi(new Wn(NA,Y2,"PUBLIC")),fi(new Wn($2,X2,"PRIVATE"))}Z2();bn(dA,ig);bn(dA,ig,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="analytics",J2="firebase_id",W2="origin",eC=60*1e3,tC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",og="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new uf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new pa("analytics","Analytics",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(i){if(!i.startsWith(og)){const e=kn.create("invalid-gtag-resource",{gtagURL:i});return Sn.warn(e.message),""}return i}function OA(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function rC(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function sC(i,e){const t=rC("firebase-js-sdk-policy",{createScriptURL:iC}),s=document.createElement("script"),o=`${og}?l=${i}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function aC(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function oC(i,e,t,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await OA(t)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){Sn.error(m)}i("config",o,u)}async function lC(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await OA(t);for(const p of f){const y=m.find(b=>b.measurementId===p),E=y&&e[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){Sn.error(u)}}function uC(i,e,t,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await lC(i,e,t,m,p)}else if(u==="config"){const[m,p]=f;await oC(i,e,t,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,y]=f;i("get",m,p,y)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){Sn.error(m)}}return o}function cC(i,e,t,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=uC(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function hC(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(og)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=30,dC=1e3;class mC{constructor(e={},t=dC){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const VA=new mC;function pC(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function gC(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:pC(s)},u=tC.replace("{app-id}",t),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function yC(i,e=VA,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw kn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw kn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new EC;return setTimeout(async()=>{m.abort()},eC),MA({appId:s,apiKey:o,measurementId:u},f,m,e)}async function MA(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=VA){var u;const{appId:f,measurementId:m}=i;try{await _C(s,e)}catch(p){if(m)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:f,measurementId:m};throw p}try{const p=await gC(i);return o.deleteThrottleMetadata(f),p}catch(p){const y=p;if(!vC(y)){if(o.deleteThrottleMetadata(f),m)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=y?.customData)===null||u===void 0?void 0:u.httpStatus)===503?z0(t,o.intervalMillis,fC):z0(t,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(f,b),Sn.debug(`Calling attemptFetch again in ${E} millis`),MA(i,b,s,o)}}function _C(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vC(i){if(!(i instanceof ei)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class EC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TC(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",t,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(){if(iA())try{await rA()}catch(i){return Sn.warn(kn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return Sn.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bC(i,e,t,s,o,u,f){var m;const p=yC(i);p.then(V=>{t[V.measurementId]=V.appId,i.options.measurementId&&V.measurementId!==i.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Sn.error(V)),e.push(p);const y=AC().then(V=>{if(V)return s.getId()}),[E,b]=await Promise.all([p,y]);hC(u)||sC(u,E.measurementId),o("js",new Date);const S=(m=f?.config)!==null&&m!==void 0?m:{};return S[W2]="firebase",S.update=!0,b!=null&&(S[J2]=b),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.app=e}_delete(){return delete iu[this.app.options.appId],Promise.resolve()}}let iu={},eE=[];const tE={};let Jm="dataLayer",wC="gtag",nE,xA,iE=!1;function RC(){const i=[];if(nA()&&i.push("This is a browser extension environment."),SR()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=kn.create("invalid-analytics-context",{errorInfo:e});Sn.warn(t.message)}}function IC(i,e,t){RC();const s=i.options.appId;if(!s)throw kn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(iu[s]!=null)throw kn.create("already-exists",{id:s});if(!iE){aC(Jm);const{wrappedGtag:u,gtagCore:f}=cC(iu,eE,tE,Jm,wC);xA=u,nE=f,iE=!0}return iu[s]=bC(i,eE,tE,e,nE,Jm,t),new SC(i)}function CC(i=cf()){i=Rt(i);const e=_s(i,zh);return e.isInitialized()?e.getImmediate():DC(i)}function DC(i,e={}){const t=_s(i,zh);if(t.isInitialized()){const o=t.getImmediate();if(cs(e,t.getOptions()))return o;throw kn.create("already-initialized")}return t.initialize({options:e})}function NC(i,e,t,s){i=Rt(i),TC(xA,iu[i.app.options.appId],e,t,s).catch(o=>Sn.error(o))}const rE="@firebase/analytics",sE="0.10.17";function OC(){fi(new Wn(zh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return IC(s,o,t)},"PUBLIC")),fi(new Wn("analytics-internal",i,"PRIVATE")),bn(rE,sE),bn(rE,sE,"esm2017");function i(e){try{const t=e.getProvider(zh).getImmediate();return{logEvent:(s,o,u)=>NC(t,s,o,u)}}catch(t){throw kn.create("interop-component-reg-failed",{reason:t})}}}OC();function lg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function PA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VC=PA,kA=new pa("auth","Firebase",PA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new uf("@firebase/auth");function MC(i,...e){Bh.logLevel<=Be.WARN&&Bh.warn(`Auth (${Vo}): ${i}`,...e)}function Ah(i,...e){Bh.logLevel<=Be.ERROR&&Bh.error(`Auth (${Vo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i,...e){throw cg(i,...e)}function ci(i,...e){return cg(i,...e)}function ug(i,e,t){const s=Object.assign(Object.assign({},VC()),{[e]:t});return new pa("auth","Firebase",s).create(e,{appName:i.name})}function aa(i){return ug(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xC(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&zi(i,"argument-error"),ug(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return kA.create(i,...e)}function Ie(i,e,...t){if(!i)throw cg(e,...t)}function mr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ah(e),new Error(e)}function yr(i,e){i||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function PC(){return aE()==="http:"||aE()==="https:"}function aE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PC()||nA()||"connection"in navigator)?navigator.onLine:!0}function UC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,yr(t>e,"Short delay should be less than long delay!"),this.isMobile=_R()||TR()}get(){return kC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i,e){yr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BC=new Vu(3e4,6e4);function fg(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Mo(i,e,t,s,o={}){return LA(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Ou(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:p},u);return ER()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&ma(i.emulatorConfig.host)&&(y.credentials="include"),UA.fetch()(await zA(i,i.config.apiHost,t,m),y)})}async function LA(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},LC),e);try{const o=new jC(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw mh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw mh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw mh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ug(i,E,y);zi(i,E)}}catch(o){if(o instanceof ei)throw o;zi(i,"network-request-failed",{message:String(o)})}}async function qC(i,e,t,s,o={}){const u=await Mo(i,e,t,s,o);return"mfaPendingCredential"in u&&zi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function zA(i,e,t,s){const o=`${e}${t}?${s}`,u=i,f=u.config.emulator?hg(i.config,o):`${i.config.apiScheme}://${o}`;return zC.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class jC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),BC.get())})}}function mh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ci(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(i,e){return Mo(i,"POST","/v1/accounts:delete",e)}async function qh(i,e){return Mo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HC(i,e=!1){const t=Rt(i),s=await t.getIdToken(e),o=dg(s);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ru(Wm(o.auth_time)),issuedAtTime:ru(Wm(o.iat)),expirationTime:ru(Wm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wm(i){return Number(i)*1e3}function dg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=ZT(t);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function oE(i){const e=dg(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ei&&GC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function GC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await mu(i,qh(t,{idToken:s}));Ie(o?.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?BA(u.providerUserInfo):[],m=$C(i.providerData,f),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!m?.length,E=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Ep(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function KC(i){const e=Rt(i);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $C(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function BA(i){return i.map(e=>{var{providerId:t}=e,s=lg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(i,e){const t=await LA(i,{},async()=>{const s=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await zA(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&ma(i.emulatorConfig.host)&&(p.credentials="include"),UA.fetch()(f,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XC(i,e){return Mo(i,"POST","/v2/accounts:revokeToken",fg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=oE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await YC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new go;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ie(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ep(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await mu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HC(this,e)}reload(){return KC(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await mu(this,FC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,y,E;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,V=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,U=(f=t.photoURL)!==null&&f!==void 0?f:void 0,F=(m=t.tenantId)!==null&&m!==void 0?m:void 0,G=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,ie=(y=t.createdAt)!==null&&y!==void 0?y:void 0,re=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:te,emailVerified:he,isAnonymous:le,providerData:pe,stsTokenManager:D}=t;Ie(te&&D,e,"internal-error");const w=go.fromJSON(this.name,D);Ie(typeof te=="string",e,"internal-error"),Yr(b,e.name),Yr(S,e.name),Ie(typeof he=="boolean",e,"internal-error"),Ie(typeof le=="boolean",e,"internal-error"),Yr(V,e.name),Yr(U,e.name),Yr(F,e.name),Yr(G,e.name),Yr(ie,e.name),Yr(re,e.name);const R=new li({uid:te,auth:e,email:S,emailVerified:he,displayName:b,isAnonymous:le,photoURL:U,phoneNumber:V,tenantId:F,stsTokenManager:w,createdAt:ie,lastLoginAt:re});return pe&&Array.isArray(pe)&&(R.providerData=pe.map(O=>Object.assign({},O))),G&&(R._redirectEventId=G),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new go;o.updateFromServerResponse(t);const u=new li({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new go;m.updateFromIdToken(s);const p=new li({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;function pr(i){yr(i instanceof Function,"Expected a class definition");let e=lE.get(i);return e?(yr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,lE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qA.type="NONE";const uE=qA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(i,e,t){return`firebase:${i}:${e}:${t}`}class yo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,u),this.fullPersistenceKey=bh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await qh(this.auth,{idToken:e}).catch(()=>{});return t?li._fromGetAccountInfoResponse(this.auth,t,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new yo(pr(uE),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||pr(uE);const f=bh(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const S=await qh(e,{idToken:E}).catch(()=>{});if(!S)break;b=await li._fromGetAccountInfoResponse(e,S,E)}else b=li._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new yo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KA(e))return"Blackberry";if($A(e))return"Webos";if(FA(e))return"Safari";if((e.includes("chrome/")||HA(e))&&!e.includes("edge/"))return"Chrome";if(QA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function jA(i=cn()){return/firefox\//i.test(i)}function FA(i=cn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HA(i=cn()){return/crios\//i.test(i)}function GA(i=cn()){return/iemobile/i.test(i)}function QA(i=cn()){return/android/i.test(i)}function KA(i=cn()){return/blackberry/i.test(i)}function $A(i=cn()){return/webos/i.test(i)}function mg(i=cn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ZC(i=cn()){var e;return mg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JC(){return AR()&&document.documentMode===10}function YA(i=cn()){return mg(i)||QA(i)||$A(i)||KA(i)||/windows phone/i.test(i)||GA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(i,e=[]){let t;switch(i){case"Browser":t=cE(cn());break;case"Worker":t=`${cE(cn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(i,e={}){return Mo(i,"GET","/v2/passwordPolicy",fg(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=6;class nD{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:tD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new WC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qh(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(aa(this));const t=e?Rt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eD(this),t=new nD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await XC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&MC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function df(i){return Rt(i)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=DR(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rD(i){pg=i}function sD(i){return pg.loadJS(i)}function aD(){return pg.gapiScript}function oD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(i,e){const t=_s(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(cs(u,e??{}))return o;zi(o,"already-initialized")}return t.initialize({options:e})}function uD(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(pr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function cD(i,e,t){const s=df(i);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ZA(e),{host:f,port:m}=hD(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(cs(y,s.config.emulator)&&cs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ma(f)?(Wp(`${u}//${f}${p}`),eg("Auth",!0)):fD()}function ZA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function hD(i){const e=ZA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:fE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:fE(f)}}}function fE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function fD(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,t){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i,e){return qC(i,"POST","/v1/accounts:signInWithIdp",fg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="http://localhost";class ua extends JA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=lg(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ua(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return _o(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,_o(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_o(e,t)}buildRequest(){const e={requestUri:dD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends gg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Mu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ua._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Mi.credential(t,s)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Mu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Mu{constructor(){super("twitter.com")}static credential(e,t){return ua._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Wr.credential(t,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await li._fromIdTokenResponse(e,s,o),f=dE(s);return new wo({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=dE(s);return new wo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function dE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends ei{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Fh(e,t,s,o)}}function WA(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(i,u,e,s):u})}async function mD(i,e,t=!1){const s=await mu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return wo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(i,e,t=!1){const{auth:s}=i;if(Xn(s.app))return Promise.reject(aa(s));const o="reauthenticate";try{const u=await mu(i,WA(s,o,e,i),t);Ie(u.idToken,s,"internal-error");const f=dg(u.idToken);Ie(f,s,"internal-error");const{sub:m}=f;return Ie(i.uid===m,s,"user-mismatch"),wo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&zi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(i,e,t=!1){if(Xn(i.app))return Promise.reject(aa(i));const s="signIn",o=await WA(i,s,e),u=await wo._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}function yD(i,e,t,s){return Rt(i).onIdTokenChanged(e,t,s)}function _D(i,e,t){return Rt(i).beforeAuthStateChanged(e,t)}function vD(i,e,t,s){return Rt(i).onAuthStateChanged(e,t,s)}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=1e3,TD=10;class t1 extends e1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);JC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,TD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},ED)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}t1.type="LOCAL";const AD=t1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends e1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}n1.type="SESSION";const i1=n1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(t.origin,u)),p=await bD(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=yg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function wD(i){xi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function RD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ID(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function CD(){return r1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebaseLocalStorageDb",DD=1,Gh="firebaseLocalStorage",a1="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pf(i,e){return i.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function ND(){const i=indexedDB.deleteDatabase(s1);return new xu(i).toPromise()}function Tp(){const i=indexedDB.open(s1,DD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Gh,{keyPath:a1})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Gh)?e(s):(s.close(),await ND(),e(await Tp()))})})}async function mE(i,e,t){const s=pf(i,!0).put({[a1]:e,value:t});return new xu(s).toPromise()}async function OD(i,e){const t=pf(i,!1).get(e),s=await new xu(t).toPromise();return s===void 0?null:s.value}function pE(i,e){const t=pf(i,!0).delete(e);return new xu(t).toPromise()}const VD=800,MD=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>MD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(CD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await RD(),!this.activeServiceWorker)return;this.sender=new SD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ID()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await mE(e,Hh,"1"),await pE(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>mE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>OD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const xD=o1;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(i,e){return e?pr(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends JA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PD(i){return gD(i.auth,new _g(i),i.bypassAuthState)}function kD(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),pD(t,new _g(i),i.bypassAuthState)}async function UD(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),mD(t,new _g(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PD;case"linkViaPopup":case"linkViaRedirect":return UD;case"reauthViaPopup":case"reauthViaRedirect":return kD;default:zi(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Vu(2e3,1e4);async function zD(i,e,t){if(Xn(i.app))return Promise.reject(ci(i,"operation-not-supported-in-this-environment"));const s=df(i);xC(i,e,gg);const o=l1(s,t);return new ra(s,"signInViaPopup",e,o).executeNotNull()}class ra extends u1{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LD.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="pendingRedirect",Sh=new Map;class qD extends u1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await jD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jD(i,e){const t=GD(e),s=HD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function FD(i,e){Sh.set(i._key(),e)}function HD(i){return pr(i._redirectPersistence)}function GD(i){return bh(BD,i.config.apiKey,i.name)}async function QD(i,e,t=!1){if(Xn(i.app))return Promise.reject(aa(i));const s=df(i),o=l1(s,e),f=await new qD(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=10*60*1e3;class $D{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!c1(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ci(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KD&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function c1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function YD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(i,e={}){return Mo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JD=/^https?/;async function WD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await XD(i);for(const t of e)try{if(eN(t))return}catch{}zi(i,"unauthorized-domain")}function eN(i){const e=vp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!JD.test(t))return!1;if(ZD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Vu(3e4,6e4);function yE(){const i=xi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function nN(i){return new Promise((e,t)=>{var s,o,u;function f(){yE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yE(),t(ci(i,"network-request-failed"))},timeout:tN.get()})}if(!((o=(s=xi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=xi().gapi)===null||u===void 0)&&u.load)f();else{const m=oD("iframefcb");return xi()[m]=()=>{gapi.load?f():t(ci(i,"network-request-failed"))},sD(`${aD()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw wh=null,e})}let wh=null;function iN(i){return wh=wh||nN(i),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Vu(5e3,15e3),sN="__/auth/iframe",aN="emulator/auth/iframe",oN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uN(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?hg(e,aN):`https://${i.config.authDomain}/${sN}`,s={apiKey:e.apiKey,appName:i.name,v:Vo},o=lN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Ou(s).slice(1)}`}async function cN(i){const e=await iN(i),t=xi().gapi;return Ie(t,i,"internal-error"),e.open({where:document.body,url:uN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ci(i,"network-request-failed"),m=xi().setTimeout(()=>{u(f)},rN.get());function p(){xi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fN=500,dN=600,mN="_blank",pN="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gN(i,e,t,s=fN,o=dN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},hN),{width:s.toString(),height:o.toString(),top:u,left:f}),y=cn().toLowerCase();t&&(m=HA(y)?mN:t),jA(y)&&(e=e||pN,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[V,U])=>`${S}${V}=${U},`,"");if(ZC(y)&&m!=="_self")return yN(e||"",m),new _E(null);const b=window.open(e||"",m,E);Ie(b,i,"popup-blocked");try{b.focus()}catch{}return new _E(b)}function yN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="__/auth/handler",vN="emulator/auth/handler",EN=encodeURIComponent("fac");async function vE(i,e,t,s,o,u){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Vo,eventId:o};if(e instanceof gg){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",CR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Mu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${EN}=${encodeURIComponent(p)}`:"";return`${TN(i)}?${Ou(m).slice(1)}${y}`}function TN({config:i}){return i.emulator?hg(i,vN):`https://${i.authDomain}/${_N}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class AN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=QD,this._overrideRedirectResult=FD}async _openPopup(e,t,s,o){var u;yr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await vE(e,t,s,vp(),o);return gN(e,f,yg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await vE(e,t,s,vp(),o);return wD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await cN(e),s=new $D(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[ep];f!==void 0&&t(!!f),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YA()||FA()||mg()}}const bN=AN;var EE="@firebase/auth",TE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RN(i){fi(new Wn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ie(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XA(i)},y=new iD(s,o,u,p);return uD(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),fi(new Wn("auth-internal",e=>{const t=df(e.getProvider("auth").getImmediate());return(s=>new SN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(EE,TE,wN(i)),bn(EE,TE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=5*60,CN=tA("authIdTokenMaxAge")||IN;let AE=null;const DN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>CN)return;const o=t?.token;AE!==o&&(AE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NN(i=cf()){const e=_s(i,"auth");if(e.isInitialized())return e.getImmediate();const t=lD(i,{popupRedirectResolver:bN,persistence:[xD,AD,i1]}),s=tA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=DN(u.toString());_D(t,f,()=>f(t.currentUser)),yD(t,m=>f(m))}}const o=JT("auth");return o&&cD(t,`http://${o}`),t}function ON(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}rD({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ci("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",ON().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RN("Browser");var bE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,h1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function R(){}R.prototype=w.prototype,D.D=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(O,x,P){for(var C=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)C[ft-2]=arguments[ft];return w.prototype[x].apply(O,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)O[x]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(x=0;16>x;++x)O[x]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],x=D.g[2];var P=D.g[3],C=w+(P^R&(x^P))+O[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=P+(x^w&(R^x))+O[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=x+(R^P&(w^R))+O[2]+606105819&4294967295,x=P+(C<<17&4294967295|C>>>15),C=R+(w^x&(P^w))+O[3]+3250441966&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(P^R&(x^P))+O[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(x^w&(R^x))+O[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=x+(R^P&(w^R))+O[6]+2821735955&4294967295,x=P+(C<<17&4294967295|C>>>15),C=R+(w^x&(P^w))+O[7]+4249261313&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(P^R&(x^P))+O[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(x^w&(R^x))+O[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=x+(R^P&(w^R))+O[10]+4294925233&4294967295,x=P+(C<<17&4294967295|C>>>15),C=R+(w^x&(P^w))+O[11]+2304563134&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(P^R&(x^P))+O[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(x^w&(R^x))+O[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=x+(R^P&(w^R))+O[14]+2792965006&4294967295,x=P+(C<<17&4294967295|C>>>15),C=R+(w^x&(P^w))+O[15]+1236535329&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(x^P&(R^x))+O[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^x&(w^R))+O[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(P^w))+O[11]+643717713&4294967295,x=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(x^P))+O[0]+3921069994&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(x^P&(R^x))+O[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^x&(w^R))+O[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(P^w))+O[15]+3634488961&4294967295,x=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(x^P))+O[4]+3889429448&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(x^P&(R^x))+O[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^x&(w^R))+O[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(P^w))+O[3]+4107603335&4294967295,x=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(x^P))+O[8]+1163531501&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(x^P&(R^x))+O[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^x&(w^R))+O[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(P^w))+O[7]+1735328473&4294967295,x=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(x^P))+O[12]+2368359562&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(R^x^P)+O[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^x)+O[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=x+(P^w^R)+O[11]+1839030562&4294967295,x=P+(C<<16&4294967295|C>>>16),C=R+(x^P^w)+O[14]+4259657740&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(R^x^P)+O[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^x)+O[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=x+(P^w^R)+O[7]+4139469664&4294967295,x=P+(C<<16&4294967295|C>>>16),C=R+(x^P^w)+O[10]+3200236656&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(R^x^P)+O[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^x)+O[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=x+(P^w^R)+O[3]+3572445317&4294967295,x=P+(C<<16&4294967295|C>>>16),C=R+(x^P^w)+O[6]+76029189&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(R^x^P)+O[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^x)+O[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=x+(P^w^R)+O[15]+530742520&4294967295,x=P+(C<<16&4294967295|C>>>16),C=R+(x^P^w)+O[2]+3299628645&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(x^(R|~P))+O[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~x))+O[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=x+(w^(P|~R))+O[14]+2878612391&4294967295,x=P+(C<<15&4294967295|C>>>17),C=R+(P^(x|~w))+O[5]+4237533241&4294967295,R=x+(C<<21&4294967295|C>>>11),C=w+(x^(R|~P))+O[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~x))+O[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=x+(w^(P|~R))+O[10]+4293915773&4294967295,x=P+(C<<15&4294967295|C>>>17),C=R+(P^(x|~w))+O[1]+2240044497&4294967295,R=x+(C<<21&4294967295|C>>>11),C=w+(x^(R|~P))+O[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~x))+O[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=x+(w^(P|~R))+O[6]+2734768916&4294967295,x=P+(C<<15&4294967295|C>>>17),C=R+(P^(x|~w))+O[13]+1309151649&4294967295,R=x+(C<<21&4294967295|C>>>11),C=w+(x^(R|~P))+O[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~x))+O[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=x+(w^(P|~R))+O[2]+718787259&4294967295,x=P+(C<<15&4294967295|C>>>17),C=R+(P^(x|~w))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+P&4294967295}s.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var R=w-this.blockSize,O=this.B,x=this.h,P=0;P<w;){if(x==0)for(;P<=R;)o(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<w;)if(O[x++]=D.charCodeAt(P++),x==this.blockSize){o(this,O),x=0;break}}else for(;P<w;)if(O[x++]=D[P++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=w},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var R=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=R&255,R/=256;for(this.u(D),D=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)D[R++]=this.g[w]>>>O&255;return D};function u(D,w){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function f(D,w){this.h=w;for(var R=[],O=!0,x=D.length-1;0<=x;x--){var P=D[x]|0;O&&P==w||(R[x]=P,O=!1)}this.g=R}var m={};function p(D){return-128<=D&&128>D?u(D,function(w){return new f([w|0],0>w?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return G(y(-D));for(var w=[],R=1,O=0;D>=R;O++)w[O]=D/R|0,R*=4294967296;return new f(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return G(E(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),O=b,x=0;x<D.length;x+=8){var P=Math.min(8,D.length-x),C=parseInt(D.substring(x,x+P),w);8>P?(P=y(Math.pow(w,P)),O=O.j(P).add(y(C))):(O=O.j(R),O=O.add(y(C)))}return O}var b=p(0),S=p(1),V=p(16777216);i=f.prototype,i.m=function(){if(F(this))return-G(this).m();for(var D=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);D+=(0<=O?O:4294967296+O)*w,w*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(F(this))return"-"+G(this).toString(D);for(var w=y(Math.pow(D,6)),R=this,O="";;){var x=he(R,w).g;R=ie(R,x.j(w));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=x,U(R))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function F(D){return D.h==-1}i.l=function(D){return D=ie(this,D),F(D)?-1:U(D)?0:1};function G(D){for(var w=D.g.length,R=[],O=0;O<w;O++)R[O]=~D.g[O];return new f(R,~D.h).add(S)}i.abs=function(){return F(this)?G(this):this},i.add=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],O=0,x=0;x<=w;x++){var P=O+(this.i(x)&65535)+(D.i(x)&65535),C=(P>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);O=C>>>16,P&=65535,C&=65535,R[x]=C<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ie(D,w){return D.add(G(w))}i.j=function(D){if(U(this)||U(D))return b;if(F(this))return F(D)?G(this).j(G(D)):G(G(this).j(D));if(F(D))return G(this.j(G(D)));if(0>this.l(V)&&0>D.l(V))return y(this.m()*D.m());for(var w=this.g.length+D.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<D.g.length;x++){var P=this.i(O)>>>16,C=this.i(O)&65535,ft=D.i(x)>>>16,lt=D.i(x)&65535;R[2*O+2*x]+=C*lt,re(R,2*O+2*x),R[2*O+2*x+1]+=P*lt,re(R,2*O+2*x+1),R[2*O+2*x+1]+=C*ft,re(R,2*O+2*x+1),R[2*O+2*x+2]+=P*ft,re(R,2*O+2*x+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new f(R,0)};function re(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function te(D,w){this.g=D,this.h=w}function he(D,w){if(U(w))throw Error("division by zero");if(U(D))return new te(b,b);if(F(D))return w=he(G(D),w),new te(G(w.g),G(w.h));if(F(w))return w=he(D,G(w)),new te(G(w.g),w.h);if(30<D.g.length){if(F(D)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=w;0>=O.l(D);)R=le(R),O=le(O);var x=pe(R,1),P=pe(O,1);for(O=pe(O,2),R=pe(R,2);!U(O);){var C=P.add(O);0>=C.l(D)&&(x=x.add(R),P=C),O=pe(O,1),R=pe(R,1)}return w=ie(D,x.j(w)),new te(x,w)}for(x=b;0<=D.l(w);){for(R=Math.max(1,Math.floor(D.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(R),C=P.j(w);F(C)||0<C.l(D);)R-=O,P=y(R),C=P.j(w);U(P)&&(P=S),x=x.add(P),D=ie(D,C)}return new te(x,D)}i.A=function(D){return he(this,D).h},i.and=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&D.i(O);return new f(R,this.h&D.h)},i.or=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|D.i(O);return new f(R,this.h|D.h)},i.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^D.i(O);return new f(R,this.h^D.h)};function le(D){for(var w=D.g.length+1,R=[],O=0;O<w;O++)R[O]=D.i(O)<<1|D.i(O-1)>>>31;return new f(R,D.h)}function pe(D,w){var R=w>>5;w%=32;for(var O=D.g.length-R,x=[],P=0;P<O;P++)x[P]=0<w?D.i(P+R)>>>w|D.i(P+R+1)<<32-w:D.i(P+R);return new f(x,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,h1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,as=f}).apply(typeof bE<"u"?bE:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f1,Jl,d1,Rh,Ap,m1,p1,g1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in _))break e;_=_[L]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,L={next:function(){if(!A&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),c.apply(g,L)}}return function(){return c.apply(g,arguments)}}function S(c,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function V(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,L,Q){for(var oe=Array(arguments.length-2),He=2;He<arguments.length;He++)oe[He-2]=arguments[He];return g.prototype[L].apply(A,oe)}}function F(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function G(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const L=c.length||0,Q=A.length||0;c.length=L+Q;for(let oe=0;oe<Q;oe++)c[L+oe]=A[oe]}else c.push(A)}}class ie{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var le=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function pe(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function D(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function w(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)c[_]=A[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function x(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function C(){var c=je;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ft{constructor(){this.h=this.g=null}add(g,_){const A=lt.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new ie(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ye=!1,je=new ft,N=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){P(_)}var g=lt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ye=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Oe(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(le){e:{try{he(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}U(Oe,se);var Ae={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function it(c,g,_,A,L){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=L,this.key=++Xe,this.da=this.fa=!1}function H(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ee(c){this.src=c,this.g={},this.h=0}ee.prototype.add=function(c,g,_,A,L){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=Ve(c,g,A,L);return-1<oe?(g=c[oe],_||(g.fa=!1)):(g=new it(g,this.src,Q,!!A,L),g.fa=_,c.push(g)),g};function _e(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],L=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=0<=L)&&Array.prototype.splice.call(A,L,1),Q&&(H(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ve(c,g,_,A){for(var L=0;L<c.length;++L){var Q=c[L];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==A)return L}return-1}var $e="closure_lm_"+(1e6*Math.random()|0),nn={};function qt(c,g,_,A,L){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)qt(c,g[Q],_,A,L);return null}return _=Gu(_),c&&c[gt]?c.K(g,_,y(A)?!!A.capture:!1,L):ze(c,g,_,!1,A,L)}function ze(c,g,_,A,L,Q){if(!g)throw Error("Invalid event type");var oe=y(L)?!!L.capture:!!L,He=va(c);if(He||(c[$e]=He=new ee(c)),_=He.add(g,_,A,oe,Q),_.proxy)return _;if(A=hn(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ve||(L=oe),L===void 0&&(L=!1),c.addEventListener(g.toString(),A,L);else if(c.attachEvent)c.attachEvent(Ts(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hn(){function c(_){return g.call(c.src,c.listener,_)}const g=qf;return c}function Bo(c,g,_,A,L){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Bo(c,g[Q],_,A,L);else A=y(A)?!!A.capture:!!A,_=Gu(_),c&&c[gt]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=Ve(Q,_,A,L),-1<_&&(H(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=va(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ve(g,_,A,L)),(_=-1<c?g[c]:null)&&_a(_))}function _a(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[gt])_e(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(Ts(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=va(g))?(_e(_,c),_.h==0&&(_.src=null,g[$e]=null)):H(c)}}}function Ts(c){return c in nn?nn[c]:nn[c]="on"+c}function qf(c,g){if(c.da)c=!0;else{g=new Oe(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&_a(c),c=_.call(A,g)}return c}function va(c){return c=c[$e],c instanceof ee?c:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gu(c){return typeof c=="function"?c:(c[qo]||(c[qo]=function(g){return c.handleEvent(g)}),c[qo])}function vt(){ce.call(this),this.i=new ee(this),this.M=this,this.F=null}U(vt,ce),vt.prototype[gt]=!0,vt.prototype.removeEventListener=function(c,g,_,A){Bo(this,c,g,_,A)};function et(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var L=g;g=new se(A,c),O(g,L)}if(L=!0,_)for(var Q=_.length-1;0<=Q;Q--){var oe=g.g=_[Q];L=wn(oe,A,!0,g)&&L}if(oe=g.g=c,L=wn(oe,A,!0,g)&&L,L=wn(oe,A,!1,g)&&L,_)for(Q=0;Q<_.length;Q++)oe=g.g=_[Q],L=wn(oe,A,!1,g)&&L}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)H(_[A]);delete c.g[g],c.h--}}this.F=null},vt.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},vt.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function wn(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,Q=0;Q<g.length;++Q){var oe=g[Q];if(oe&&!oe.da&&oe.capture==_){var He=oe.listener,Pt=oe.ha||oe.src;oe.fa&&_e(c.i,oe),L=He.call(Pt,A)!==!1&&L}}return L&&!A.defaultPrevented}function rn(c,g,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Qu(c){c.g=rn(()=>{c.g=null,c.i&&(c.i=!1,Qu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class jf extends ce{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){ce.call(this),this.h=c,this.g={}}U(As,ce);var bs=[];function Ss(c){pe(c.g,function(g,_){this.g.hasOwnProperty(_)&&_a(g)},c),c.g={}}As.prototype.N=function(){As.aa.N.call(this),Ss(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ti=m.JSON.stringify,Ea=m.JSON.parse,ws=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function jo(){}jo.prototype.h=null;function Fo(c){return c.h||(c.h=c.i())}function Ho(){}var ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){se.call(this,"d")}U(Fi,se);function Go(){se.call(this,"c")}U(Go,se);var pi={},Qo=null;function Er(){return Qo=Qo||new vt}pi.La="serverreachability";function Ta(c){se.call(this,pi.La,c)}U(Ta,se);function Tr(c){const g=Er();et(g,new Ta(g))}pi.STAT_EVENT="statevent";function Ku(c,g){se.call(this,pi.STAT_EVENT,c),this.stat=g}U(Ku,se);function mt(c){const g=Er();et(g,new Ku(g,c))}pi.Ma="timingevent";function xt(c,g){se.call(this,pi.Ma,c),this.size=g}U(xt,se);function It(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function Ko(c,g,_,A,L,Q){c.info(function(){if(c.g)if(Q)for(var oe="",He=Q.split("&"),Pt=0;Pt<He.length;Pt++){var Ge=He[Pt].split("=");if(1<Ge.length){var Ft=Ge[0];Ge=Ge[1];var kt=Ft.split("_");oe=2<=kt.length&&kt[1]=="type"?oe+(Ft+"="+Ge+"&"):oe+(Ft+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+g+`
`+_+`
`+oe})}function Ff(c,g,_,A,L,Q,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+g+`
`+_+`
`+Q+" "+oe})}function Ar(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Rs(c,_)+(A?" "+A:"")})}function $u(c,g){c.info(function(){return"TIMEOUT: "+g})}Un.prototype.info=function(){};function Rs(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var Q=L[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<L.length;oe++)L[oe]=""}}}}return ti(_)}catch{return g}}var br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gi;function yi(){}U(yi,jo),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},gi=new yi;function fn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var $o={},Aa={};function ni(c,g,_){c.L=1,c.v=Os(Rn(g)),c.m=_,c.P=!0,Gi(c,null)}function Gi(c,g){c.F=Date.now(),Is(c),c.A=Rn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),el(_.i,"t",A),c.C=0,_=c.j.J,c.h=new At,c.g=cc(c.j,_?g:null,!c.m),0<c.O&&(c.M=new jf(S(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(bs[0]=L.toString()),L=bs);for(var Q=0;Q<L.length;Q++){var oe=qt(_,L[Q],A||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Tr(),Ko(c.i,c.u,c.A,c.l,c.R,c.m)}fn.prototype.ca=function(c){c=c.target;const g=this.M;g&&qn(c)==3?g.j():this.Y(c)},fn.prototype.Y=function(c){try{if(c==this.g)e:{const kt=qn(this.g);var g=this.g.Ba();const Wi=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||kt!=4||g==7||(g==8||0>=Wi?Tr(3):Tr(2)),Sr(this);var _=this.g.Z();this.X=_;t:if(Yu(this)){var A=nc(this.g);c="";var L=A.length,Q=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$t(this),_i(this);var oe="";break t}this.h.i=new m.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(Q&&g==L-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Ff(this.i,this.u,this.A,this.l,this.R,kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Pt=this.g;if((He=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(He)){var Ge=He;break t}}Ge=null}if(_=Ge)Ar(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cs(this,_);else{this.o=!1,this.s=3,mt(12),$t(this),_i(this);break e}}if(this.P){_=!0;let Yt;for(;!this.J&&this.C<oe.length;)if(Yt=Xu(this,oe),Yt==Aa){kt==4&&(this.s=4,mt(14),_=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==$o){this.s=4,mt(15),Ar(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Ar(this.i,this.l,Yt,null),Cs(this,Yt);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||oe.length!=0||this.h.h||(this.s=1,mt(16),_=!1),this.o=this.o&&_,!_)Ar(this.i,this.l,oe,"[Invalid Chunked Response]"),$t(this),_i(this);else if(0<oe.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),zs(Ft),Ft.M=!0,mt(11))}}else Ar(this.i,this.l,oe,null),Cs(this,oe);kt==4&&$t(this),this.o&&!this.J&&(kt==4?oc(this.j,this):(this.o=!1,Is(this)))}else $f(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),$t(this),_i(this)}}}catch{}finally{}};function Yu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xu(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?Aa:(_=Number(g.substring(_,A)),isNaN(_)?$o:(A+=1,A+_>g.length?Aa:(g=g.slice(A,A+_),c.C=A+_,g)))}fn.prototype.cancel=function(){this.J=!0,$t(this)};function Is(c){c.S=Date.now()+c.I,Zu(c,c.I)}function Zu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=It(S(c.ba,c),g)}function Sr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?($u(this.i,this.A),this.L!=2&&(Tr(),mt(17)),$t(this),this.s=2,_i(this)):Zu(this,this.S-c)};function _i(c){c.j.G==0||c.J||oc(c.j,c)}function $t(c){Sr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ss(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Cs(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Yo(_.h,c))){if(!c.K&&Yo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)xa(_),Va(_);else break e;sl(_),mt(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=It(S(_.Za,_),6e3));if(1>=Sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ji(_,11)}else if((c.K||_.g==c)&&xa(_),!re(g))for(L=_.Da.g.parse(g),g=0;g<L.length;g++){let Ge=L[g];if(_.T=Ge[0],Ge=Ge[1],_.G==2)if(Ge[0]=="c"){_.K=Ge[1],_.ia=Ge[2];const Ft=Ge[3];Ft!=null&&(_.la=Ft,_.j.info("VER="+_.la));const kt=Ge[4];kt!=null&&(_.Aa=kt,_.j.info("SVER="+_.Aa));const Wi=Ge[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(A=1.5*Wi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Yt=c.g;if(Yt){const wi=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var Q=A.h;Q.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(wa(Q,Q.h),Q.h=null))}if(A.D){const ol=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(A.ya=ol,rt(A.I,A.D,ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var oe=c;if(A.qa=uc(A,A.J?A.ia:null,A.W),oe.K){dn(A.h,oe);var He=oe,Pt=A.L;Pt&&(He.I=Pt),He.B&&(Sr(He),Is(He)),A.g=oe}else sc(A);0<_.i.length&&Ma(_)}else Ge[0]!="stop"&&Ge[0]!="close"||Ji(_,7);else _.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ji(_,7):il(_):Ge[0]!="noop"&&_.l&&_.l.ta(Ge),_.v=0)}}Tr(4)}catch{}}var Ju=class{constructor(c,g){this.g=c,this.map=g}};function Qi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ba(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sa(c){return c.h?1:c.g?c.g.size:0}function Yo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function wa(c,g){c.g?c.g.add(g):c.h=g}function dn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Qi.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return F(c.i)}function Hf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function Ra(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function Zo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ra(c),A=Hf(c),L=A.length,Q=0;Q<L;Q++)g.call(void 0,A[Q],_&&_[Q],c)}var Ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gf(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),L=null;if(0<=A){var Q=c[_].substring(0,A);L=c[_].substring(A+1)}else Q=c[_];g(Q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ct(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ct){this.h=c.h,Ns(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.s),this.l=c.l;var g=c.i,_=new $i;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ki(this,_),this.m=c.m}else c&&(g=String(c).match(Ds))?(this.h=!1,Ns(this,g[1]||"",!0),this.o=Ln(g[2]||""),this.g=Ln(g[3]||"",!0),wr(this,g[4]),this.l=Ln(g[5]||"",!0),Ki(this,g[6]||"",!0),this.m=Ln(g[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}Ct.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Vs(g,Jo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Vs(g,Jo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Vs(_,_.charAt(0)=="/"?Qf:Wo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Vs(_,Ia)),c.join("")};function Rn(c){return new Ct(c)}function Ns(c,g,_){c.j=_?Ln(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ki(c,g,_){g instanceof $i?(c.i=g,ec(c.i,c.h)):(_||(g=Vs(g,Kf)),c.i=new $i(g,c.h))}function rt(c,g,_){c.i.set(g,_)}function Os(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ln(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Wu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Jo=/[#\/\?@]/g,Wo=/[#\?:]/g,Qf=/[#\?]/g,Kf=/[#\?@]/g,Ia=/#/g;function $i(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&Gf(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=$i.prototype,i.add=function(c,g){zn(this),this.i=null,c=vi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Yi(c,g){zn(c),g=vi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Xi(c,g){return zn(c),g=vi(c,g),c.g.has(g)}i.forEach=function(c,g){zn(this),this.g.forEach(function(_,A){_.forEach(function(L){c.call(g,L,A,this)},this)},this)},i.na=function(){zn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const L=c[A];for(let Q=0;Q<L.length;Q++)_.push(g[A])}return _},i.V=function(c){zn(this);let g=[];if(typeof c=="string")Xi(this,c)&&(g=g.concat(this.g.get(vi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},i.set=function(c,g){return zn(this),this.i=null,c=vi(this,c),Xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function el(c,g,_){Yi(c,g),0<_.length&&(c.i=null,c.g.set(vi(c,g),F(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const Q=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var L=Q;oe[A]!==""&&(L+="="+encodeURIComponent(String(oe[A]))),c.push(L)}}return this.i=c.join("&")};function vi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ec(c,g){g&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(Yi(this,A),el(this,L,_))},c)),c.j=g}function Ms(c,g){const _=new Un;if(m.Image){const A=new Image;A.onload=V(Bn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=V(Bn,_,"TestLoadImage: error",!1,g,A),A.onabort=V(Bn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=V(Bn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function ii(c,g){const _=new Un,A=new AbortController,L=setTimeout(()=>{A.abort(),Bn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(L),Q.ok?Bn(_,"TestPingServer: ok",!0,g):Bn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Bn(_,"TestPingServer: error",!1,g)})}function Bn(c,g,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function xs(){this.g=new ws}function Ei(c,g,_){const A=_||"";try{Zo(c,function(L,Q){let oe=L;y(L)&&(oe=ti(L)),g.push(A+Q+"="+encodeURIComponent(oe))})}catch(L){throw g.push(A+"type="+encodeURIComponent("_badmap")),L}}function Rr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Rr,jo),Rr.prototype.g=function(){return new Zi(this.l,this.j)},Rr.prototype.i=function(c){return function(){return c}}({});function Zi(c,g){vt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Zi,vt),i=Zi.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ti(this):Ai(this),this.readyState==3&&tl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ti(this))},i.Qa=function(c){this.g&&(this.response=c,Ti(this))},i.ga=function(){this.g&&Ti(this)};function Ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ai(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nl(c){let g="";return pe(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function jt(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=nl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):rt(c,g,_))}function Je(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Je,vt);var Ca=/^https?$/i,Ps=["POST","PUT"];i=Je.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gi.g(),this.v=this.o?Fo(this.o):Fo(gi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){tc(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ps,g,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of _)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){tc(this,Q)}};function tc(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Da(c),bi(c)}function Da(c){c.A||(c.A=!0,et(c,"complete"),et(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,et(this,"complete"),et(this,"abort"),bi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Je.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},i.bb=function(){Na(this)};function Na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)rn(c.Ea,0,c);else if(et(c,"readystatechange"),qn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=oe===0){var L=String(c.D).match(Ds)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),A=!Ca.test(L?L.toLowerCase():"")}_=A}if(_)et(c,"complete"),et(c,"success");else{c.m=6;try{var Q=2<qn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Da(c)}}finally{bi(c)}}}}function bi(c,g){if(c.g){ks(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||et(c,"ready");try{_.onreadystatechange=A}catch{}}}function ks(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ea(g)}};function nc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $f(c){const g={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(re(c[A]))continue;var _=x(c[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[L]||[];g[L]=Q,Q.push(_)}D(g,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Oa(c){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(c&&c.concurrentRequestLimit),this.Da=new xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Oa.prototype,i.la=8,i.G=1,i.connect=function(c,g,_,A){mt(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=uc(this,null,this.W),Ma(this)};function il(c){if(ic(c),c.G==3){var g=c.U++,_=Rn(c.I);if(rt(_,"SID",c.K),rt(_,"RID",g),rt(_,"TYPE","terminate"),Ls(c,_),g=new fn(c,c.j,g),g.L=2,g.v=Os(Rn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=cc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Is(g)}lc(c)}function Va(c){c.g&&(zs(c),c.g.cancel(),c.g=null)}function ic(c){Va(c),c.u&&(m.clearTimeout(c.u),c.u=null),xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ma(c){if(!ba(c.h)&&!c.s){c.s=!0;var g=c.Ga;ue||N(),ye||(ue(),ye=!0),je.add(g,c),c.B=0}}function Yf(c,g){return Sa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=It(S(c.Ga,c,g),al(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new fn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(L.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=rc(this,L,g),_=Rn(this.I),rt(_,"RID",c),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),Ls(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(nl(Q)))+"&"+g:this.m&&jt(_,this.m,Q)),wa(this.h,L),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",g),rt(_,"SID","null"),L.T=!0,ni(L,_,null)):ni(L,_,g),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||ba(this.h)||rl(this))};function rl(c,g){var _;g?_=g.l:_=c.U++;const A=Rn(c.I);rt(A,"SID",c.K),rt(A,"RID",_),rt(A,"AID",c.T),Ls(c,A),c.m&&c.o&&jt(A,c.m,c.o),_=new fn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=rc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wa(c.h,_),ni(_,A,g)}function Ls(c,g){c.H&&pe(c.H,function(_,A){rt(g,A,_)}),c.l&&Zo({},function(_,A){rt(g,A,_)})}function rc(c,g,_){_=Math.min(c.i.length,_);var A=c.l?S(c.l.Na,c.l,c):null;e:{var L=c.i;let Q=-1;for(;;){const oe=["count="+_];Q==-1?0<_?(Q=L[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let He=!0;for(let Pt=0;Pt<_;Pt++){let Ge=L[Pt].g;const Ft=L[Pt].map;if(Ge-=Q,0>Ge)Q=Math.max(0,L[Pt].g-100),He=!1;else try{Ei(Ft,oe,"req"+Ge+"_")}catch{A&&A(Ft)}}if(He){A=oe.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function sc(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ue||N(),ye||(ue(),ye=!0),je.add(g,c),c.v=0}}function sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=It(S(c.Fa,c),al(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=It(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Va(this),ac(this))};function zs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ac(c){c.g=new fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Rn(c.qa);rt(g,"RID","rpc"),rt(g,"SID",c.K),rt(g,"AID",c.T),rt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(g,"TO",c.ja),rt(g,"TYPE","xmlhttp"),Ls(c,g),c.m&&c.o&&jt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Os(Rn(g)),_.m=null,_.P=!0,Gi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Va(this),sl(this),mt(19))};function xa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function oc(c,g){var _=null;if(c.g==g){xa(c),zs(c),c.g=null;var A=2}else if(Yo(c.h,g))_=g.D,dn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var L=c.B;A=Er(),et(A,new xt(A,_)),Ma(c)}else sc(c);else if(L=g.s,L==3||L==0&&0<g.X||!(A==1&&Yf(c,g)||A==2&&sl(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),L){case 1:Ji(c,5);break;case 4:Ji(c,10);break;case 3:Ji(c,6);break;default:Ji(c,2)}}}function al(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ji(c,g){if(c.j.info("Error code "+g),g==2){var _=S(c.fb,c),A=c.Xa;const L=!A;A=new Ct(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ns(A,"https"),Os(A),L?Ms(A.toString(),_):ii(A.toString(),_)}else mt(2);c.G=0,c.l&&c.l.sa(g),lc(c),ic(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function lc(c){if(c.G=0,c.ka=[],c.l){const g=Xo(c.h);(g.length!=0||c.i.length!=0)&&(G(c.ka,g),G(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function uc(c,g,_){var A=_ instanceof Ct?Rn(_):new Ct(_);if(A.g!="")g&&(A.g=g+"."+A.g),wr(A,A.s);else{var L=m.location;A=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var Q=new Ct(null);A&&Ns(Q,A),g&&(Q.g=g),L&&wr(Q,L),_&&(Q.l=_),A=Q}return _=c.D,g=c.ya,_&&g&&rt(A,_,g),rt(A,"VER",c.la),Ls(c,A),A}function cc(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Je(new Rr({eb:_})):new Je(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}i=hc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Pa(){}Pa.prototype.g=function(c,g){return new mn(c,g)};function mn(c,g){vt.call(this),this.g=new Oa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!re(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Si(this)}U(mn,vt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){il(this.g)},mn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ti(c),c=_);g.i.push(new Ju(g.Ya++,c)),g.G==3&&Ma(g)},mn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,mn.aa.N.call(this)};function fc(c){Fi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}U(fc,Fi);function dc(){Go.call(this),this.status=1}U(dc,Go);function Si(c){this.g=c}U(Si,hc),Si.prototype.ua=function(){et(this.g,"a")},Si.prototype.ta=function(c){et(this.g,new fc(c))},Si.prototype.sa=function(c){et(this.g,new dc)},Si.prototype.ra=function(){et(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,g1=function(){return new Pa},p1=function(){return Er()},m1=pi,Ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Rh=br,Hi.COMPLETE="complete",d1=Hi,Ho.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Jl=Ho,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,f1=Je}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",wE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new uf("@firebase/firestore");function ho(){return ca.logLevel}function fe(i,...e){if(ca.logLevel<=Be.DEBUG){const t=e.map(vg);ca.debug(`Firestore (${xo}): ${i}`,...t)}}function _r(i,...e){if(ca.logLevel<=Be.ERROR){const t=e.map(vg);ca.error(`Firestore (${xo}): ${i}`,...t)}}function hs(i,...e){if(ca.logLevel<=Be.WARN){const t=e.map(vg);ca.warn(`Firestore (${xo}): ${i}`,...t)}}function vg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,y1(i,s,t)}function y1(i,e,t){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw _r(s),new Error(s)}function We(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||y1(e,o,s)}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class MN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xN{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new os,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new os)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new _1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class PN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new PN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new RE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new RE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=LN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function bp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Pe(s,o);{const u=v1(),f=zN(u.encode(IE(i,t)),u.encode(IE(e,t)));return f!==0?f:Pe(s,o)}}t+=s>65535?2:1}return Pe(i.length,e.length)}function IE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function zN(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Pe(i[t],e[t]);return Pe(i.length,e.length)}function Ro(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="__name__";class Oi{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&we(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Pe(e.length,t.length)}static compareSegments(e,t){const s=Oi.isNumericId(e),o=Oi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):bp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class ht extends Oi{construct(e,t,s){return new ht(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const BN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Oi{construct(e,t,s){return new en(e,t,s)}static isValidIdentifier(e){return BN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CE}static keyField(){return new en([CE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ht.fromString(e))}static fromName(e){return new Te(ht.fromString(e).popFirst(5))}static empty(){return new Te(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(i,e,t){if(!t)throw new de(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qN(i,e,t,s){if(e===!0&&s===!0)throw new de(Z.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function DE(i){if(!Te.isDocumentKey(i))throw new de(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function NE(i){if(Te.isDocumentKey(i))throw new de(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function T1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function gf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function ha(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gf(i);throw new de(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Pu(i,e){if(!T1(i))throw new de(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new de(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=-62135596800,VE=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*VE);return new dt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<OE)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Mt("string",dt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new dt(0,0))}static max(){return new Ce(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function jN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new dt(t+1,0):new dt(t,s));return new fs(o,Te.empty(),e)}function FN(i){return new fs(i.readTime,i.key,pu)}class fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fs(Ce.min(),Te.empty(),pu)}static max(){return new fs(Ce.max(),Te.empty(),pu)}}function HN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==GN)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,s)=>{t(e)})}static reject(e){return new W((t,s)=>{s(e)})}static waitFor(e){return new W((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=W.resolve(!1);for(const s of e)t=t.next(o=>o?W.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;t(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,t){return new W((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function KN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ko(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}yf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=-1;function _f(i){return i==null}function Qh(i){return i===0&&1/i==-1/0}function $N(i){return typeof i=="number"&&Number.isInteger(i)&&!Qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="";function YN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ME(e)),e=XN(i.get(t),e);return ME(e)}function XN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case A1:t+="";break;default:t+=u}}return t}function ME(i){return i+A1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function vs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function b1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Wt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new xn([])}unionWith(e){let t=new Bt(en.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new S1("Invalid base64 string: "+u):u}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const ZN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if(We(!!i,39018),typeof i=="string"){let e=0;const t=ZN.exec(i);if(We(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(i.seconds),nanos:wt(i.nanos)}}function wt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ms(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="server_timestamp",R1="__type__",I1="__previous_value__",C1="__local_write_time__";function Ag(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[R1])===null||t===void 0?void 0:t.stringValue)===w1}function vf(i){const e=i.mapValue.fields[I1];return Ag(e)?vf(e):e}function gu(i){const e=ds(i.mapValue.fields[C1].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Kh="(default)";class yu{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__type__",WN="__max__",yh={mapValue:{}},N1="__vector__",$h="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ag(i)?4:tO(i)?9007199254740991:eO(i)?10:11:we(28295,{value:i})}function Bi(i,e){if(i===e)return!0;const t=ps(i);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return gu(i).isEqual(gu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ds(o.timestampValue),m=ds(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return wt(o.geoPointValue.latitude)===wt(u.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return wt(o.integerValue)===wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=wt(o.doubleValue),m=wt(u.doubleValue);return f===m?Qh(f)===Qh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ro(i.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(xE(f)!==xE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Bi(f[p],m[p])))return!1;return!0}(i,e);default:return we(52216,{left:i})}}function _u(i,e){return(i.values||[]).find(t=>Bi(t,e))!==void 0}function Io(i,e){if(i===e)return 0;const t=ps(i),s=ps(e);if(t!==s)return Pe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=wt(u.integerValue||u.doubleValue),p=wt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return kE(i.timestampValue,e.timestampValue);case 4:return kE(gu(i),gu(e));case 5:return bp(i.stringValue,e.stringValue);case 6:return function(u,f){const m=ms(u),p=ms(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Pe(m[y],p[y]);if(E!==0)return E}return Pe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(wt(u.latitude),wt(f.latitude));return m!==0?m:Pe(wt(u.longitude),wt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return UE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const b=u.fields||{},S=f.fields||{},V=(m=b[$h])===null||m===void 0?void 0:m.arrayValue,U=(p=S[$h])===null||p===void 0?void 0:p.arrayValue,F=Pe(((y=V?.values)===null||y===void 0?void 0:y.length)||0,((E=U?.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:UE(V,U)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===yh.mapValue&&f===yh.mapValue)return 0;if(u===yh.mapValue)return 1;if(f===yh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=bp(p[b],E[b]);if(S!==0)return S;const V=Io(m[p[b]],y[E[b]]);if(V!==0)return V}return Pe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw we(23264,{le:t})}}function kE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const t=ds(i),s=ds(e),o=Pe(t.seconds,s.seconds);return o!==0?o:Pe(t.nanos,s.nanos)}function UE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Io(t[o],s[o]);if(u)return u}return Pe(t.length,s.length)}function Co(i){return Sp(i)}function Sp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ds(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ms(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Te.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Sp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Sp(t.fields[f])}`;return o+"}"}(i.mapValue):we(61005,{value:i})}function Ih(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vf(i);return e?16+Ih(e):16;case 5:return 2*i.stringValue.length;case 6:return ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ih(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return vs(s.fields,(u,f)=>{o+=u.length+Ih(f)}),o}(i.mapValue);default:throw we(13486,{value:i})}}function LE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function wp(i){return!!i&&"integerValue"in i}function bg(i){return!!i&&"arrayValue"in i}function zE(i){return!!i&&"nullValue"in i}function BE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ch(i){return!!i&&"mapValue"in i}function eO(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[D1])===null||t===void 0?void 0:t.stringValue)===N1}function su(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return vs(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=su(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=su(i.arrayValue.values[t]);return e}return Object.assign({},i)}function tO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===WN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=en.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=su(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){vs(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Tn(su(this.value))}}function O1(i){const e=[];return vs(i.fields,(t,s)=>{const o=new en([t]);if(Ch(s)){const u=O1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new un(e,0,Ce.min(),Ce.min(),Ce.min(),Tn.empty(),0)}static newFoundDocument(e,t,s,o){return new un(e,1,t,Ce.min(),s,o,0)}static newNoDocument(e,t){return new un(e,2,t,Ce.min(),Ce.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Ce.min(),Ce.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function qE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(f.referenceValue),t.key):s=Io(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function jE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Bi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function nO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{}class Vt extends V1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new rO(e,t,s):t==="array-contains"?new oO(e,s):t==="in"?new lO(e,s):t==="not-in"?new uO(e,s):t==="array-contains-any"?new cO(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new sO(e,s):new aO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Io(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends V1{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new di(e,t)}matches(e){return M1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function M1(i){return i.op==="and"}function x1(i){return iO(i)&&M1(i)}function iO(i){for(const e of i.filters)if(e instanceof di)return!1;return!0}function Rp(i){if(i instanceof Vt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(x1(i))return i.filters.map(e=>Rp(e)).join(",");{const e=i.filters.map(t=>Rp(t)).join(",");return`${i.op}(${e})`}}function P1(i,e){return i instanceof Vt?function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)}(i,e):i instanceof di?function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&P1(f,o.filters[m]),!0):!1}(i,e):void we(19439)}function k1(i){return i instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`}(i):i instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(k1).join(" ,")+"}"}(i):"Filter"}class rO extends Vt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class sO extends Vt{constructor(e,t){super(e,"in",t),this.keys=U1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aO extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=U1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function U1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Te.fromName(s.referenceValue))}class oO extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bg(t)&&_u(t.arrayValue,this.value)}}class lO extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_u(this.value.arrayValue,t)}}class uO extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_u(this.value.arrayValue,t)}}class cO extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>_u(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function FE(i,e=null,t=[],s=[],o=null,u=null,f=null){return new hO(i,e,t,s,o,u,f)}function Sg(i){const e=De(i);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Rp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),_f(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Co(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Co(s)).join(",")),e.Pe=t}return e.Pe}function wg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!nO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!P1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jE(i.startAt,e.startAt)&&jE(i.endAt,e.endAt)}function Ip(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function fO(i,e,t,s,o,u,f,m){return new ku(i,e,t,s,o,u,f,m)}function L1(i){return new ku(i)}function HE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function z1(i){return i.collectionGroup!==null}function au(i){const e=De(i);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Bt(en.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Xh(u,s))}),t.has(en.keyField().canonicalString())||e.Te.push(new Xh(en.keyField(),s))}return e.Te}function Pi(i){const e=De(i);return e.Ie||(e.Ie=dO(e,au(i))),e.Ie}function dO(i,e){if(i.limitType==="F")return FE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Xh(o.field,u)});const t=i.endAt?new Yh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Yh(i.startAt.position,i.startAt.inclusive):null;return FE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Cp(i,e){const t=i.filters.concat([e]);return new ku(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Dp(i,e,t){return new ku(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ef(i,e){return wg(Pi(i),Pi(e))&&i.limitType===e.limitType}function B1(i){return`${Sg(Pi(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>k1(o)).join(", ")}]`),_f(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Co(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Co(o)).join(",")),`Target(${s})`}(Pi(i))}; limitType=${i.limitType})`}function Tf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=qE(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,au(s),o)||s.endAt&&!function(f,m,p){const y=qE(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,au(s),o))}(i,e)}function mO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function q1(i){return(e,t)=>{let s=!1;for(const o of au(i)){const u=pO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function pO(i,e,t){const s=i.field.isKeyField()?Te.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Io(p,y):we(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return b1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new _t(Te.comparator);function vr(){return gO}const j1=new _t(Te.comparator);function Wl(...i){let e=j1;for(const t of i)e=e.insert(t.key,t);return e}function F1(i){let e=j1;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function sa(){return ou()}function H1(){return ou()}function ou(){return new ga(i=>i.toString(),(i,e)=>i.isEqual(e))}const yO=new _t(Te.comparator),_O=new Bt(Te.comparator);function qe(...i){let e=_O;for(const t of i)e=e.add(t);return e}const vO=new Bt(Pe);function EO(){return vO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function G1(i){return{integerValue:""+i}}function TO(i,e){return $N(e)?G1(e):Rg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function AO(i,e,t){return i instanceof vu?function(o,u){const f={fields:{[R1]:{stringValue:w1},[C1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ag(u)&&(u=vf(u)),u&&(f.fields[I1]=u),{mapValue:f}}(t,e):i instanceof Eu?K1(i,e):i instanceof Tu?$1(i,e):function(o,u){const f=Q1(o,u),m=GE(f)+GE(o.Ee);return wp(f)&&wp(o.Ee)?G1(m):Rg(o.serializer,m)}(i,e)}function bO(i,e,t){return i instanceof Eu?K1(i,e):i instanceof Tu?$1(i,e):t}function Q1(i,e){return i instanceof Zh?function(s){return wp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class vu extends Af{}class Eu extends Af{constructor(e){super(),this.elements=e}}function K1(i,e){const t=Y1(e);for(const s of i.elements)t.some(o=>Bi(o,s))||t.push(s);return{arrayValue:{values:t}}}class Tu extends Af{constructor(e){super(),this.elements=e}}function $1(i,e){let t=Y1(e);for(const s of i.elements)t=t.filter(o=>!Bi(o,s));return{arrayValue:{values:t}}}class Zh extends Af{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function GE(i){return wt(i.integerValue||i.doubleValue)}function Y1(i){return bg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t){this.field=e,this.transform=t}}function wO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Eu&&o instanceof Eu||s instanceof Tu&&o instanceof Tu?Ro(s.elements,o.elements,Bi):s instanceof Zh&&o instanceof Zh?Bi(s.Ee,o.Ee):s instanceof vu&&o instanceof vu}(i.transform,e.transform)}class RO{constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bf{}function X1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ig(i.key,hi.none()):new Uu(i.key,i.data,hi.none());{const t=i.data,s=Tn.empty();let o=new Bt(en.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Es(i.key,s,new xn(o.toArray()),hi.none())}}function IO(i,e,t){i instanceof Uu?function(o,u,f){const m=o.value.clone(),p=KE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Es?function(o,u,f){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=KE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Z1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function lu(i,e,t,s){return i instanceof Uu?function(u,f,m,p){if(!Dh(u.precondition,f))return m;const y=u.value.clone(),E=$E(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,t,s):i instanceof Es?function(u,f,m,p){if(!Dh(u.precondition,f))return m;const y=$E(u.fieldTransforms,p,f),E=f.data;return E.setAll(Z1(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,t,s):function(u,f,m){return Dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,t)}function CO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Q1(s.transform,o||null);u!=null&&(t===null&&(t=Tn.empty()),t.set(s.field,u))}return t||null}function QE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,(u,f)=>wO(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Uu extends bf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends bf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function KE(i,e,t){const s=new Map;We(i.length===t.length,32656,{Ae:t.length,Re:i.length});for(let o=0;o<t.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,bO(f,m,t[o]))}return s}function $E(i,e,t){const s=new Map;for(const o of i){const u=o.transform,f=t.data.field(o.field);s.set(o.field,AO(u,f,e))}return s}class Ig extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DO extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&IO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=H1();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=X1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(t,s)=>QE(t,s))&&Ro(this.baseMutations,e.baseMutations,(t,s)=>QE(t,s))}}class Cg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return yO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Cg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Ke;function MO(i){switch(i){case Z.OK:return we(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function J1(i){if(i===void 0)return _r("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Ot.OK:return Z.OK;case Ot.CANCELLED:return Z.CANCELLED;case Ot.UNKNOWN:return Z.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return Z.INTERNAL;case Ot.UNAVAILABLE:return Z.UNAVAILABLE;case Ot.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ot.NOT_FOUND:return Z.NOT_FOUND;case Ot.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ot.ABORTED:return Z.ABORTED;case Ot.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ot.DATA_LOSS:return Z.DATA_LOSS;default:return we(39323,{code:i})}}(Ke=Ot||(Ot={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new as([4294967295,4294967295],0);function YE(i){const e=v1().encode(i),t=new h1;return t.update(e),new Uint8Array(t.digest())}function XE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([t,s],0),new as([o,u],0)]}class Dg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new eu(`Invalid padding: ${t}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new eu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=as.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(as.fromNumber(s)));return o.compare(xO)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=YE(e),[s,o]=XE(t);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Dg(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const t=YE(e),[s,o]=XE(t);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sf(Ce.min(),o,new _t(Pe),vr(),qe())}}class Lu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Lu(s,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class W1{constructor(e,t){this.targetId=e,this.De=t}}class eb{constructor(e,t,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class ZE{constructor(){this.ve=0,this.Ce=JE(),this.Fe=tn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=qe(),t=qe(),s=qe();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}}),new Lu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=JE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class PO{constructor(e){this.We=e,this.Ge=new Map,this.ze=vr(),this.je=_h(),this.Je=_h(),this.He=new _t(Pe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(Ip(u))if(s===0){const f=new Te(u.path);this.Xe(t,f,un.newNoDocument(f,Ce.min()))}else We(s===1,20013,{expectedCount:s});else{const f=this.ot(t);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=ms(s).toUint8Array()}catch(p){if(p instanceof S1)return hs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dg(f,o,u)}catch(p){return hs(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&Ip(m.target)){const p=new Te(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,un.newNoDocument(p,e))}u.Ne&&(t.set(f,u.Le()),u.ke())}});let s=qe();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new Sf(e,t,this.He,this.ze,s);return this.ze=vr(),this.je=_h(),this.Je=_h(),this.He=new _t(Pe),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new ZE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Bt(Pe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Bt(Pe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ZE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function _h(){return new _t(Te.comparator)}function JE(){return new _t(Te.comparator)}const kO={asc:"ASCENDING",desc:"DESCENDING"},UO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LO={and:"AND",or:"OR"};class zO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Np(i,e){return i.useProto3Json||_f(e)?e:{value:e}}function Jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function BO(i,e){return Jh(i,e.toTimestamp())}function ki(i){return We(!!i,49232),Ce.fromTimestamp(function(t){const s=ds(t);return new dt(s.seconds,s.nanos)}(i))}function Ng(i,e){return Op(i,e).canonicalString()}function Op(i,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function nb(i){const e=ht.fromString(i);return We(ob(e),10190,{key:e.toString()}),e}function Vp(i,e){return Ng(i.databaseId,e.path)}function tp(i,e){const t=nb(e);if(t.get(1)!==i.databaseId.projectId)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(rb(t))}function ib(i,e){return Ng(i.databaseId,e)}function qO(i){const e=nb(i);return e.length===4?ht.emptyPath():rb(e)}function Mp(i){return new ht(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function rb(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function WE(i,e,t){return{name:Vp(i,e),fields:t.value.mapValue.fields}}function jO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(We(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?Z.UNKNOWN:J1(y.code);return new de(E,y.message||"")}(f);t=new eb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=tp(i,s.document.name),u=ki(s.document.updateTime),f=s.document.createTime?ki(s.document.createTime):Ce.min(),m=new Tn({mapValue:{fields:s.document.fields}}),p=un.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];t=new Nh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=tp(i,s.document),u=s.readTime?ki(s.readTime):Ce.min(),f=un.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Nh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=tp(i,s.document),u=s.removedTargetIds||[];t=new Nh([],u,o,null)}else{if(!("filter"in e))return we(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new VO(o,u),m=s.targetId;t=new W1(m,f)}}return t}function FO(i,e){let t;if(e instanceof Uu)t={update:WE(i,e.key,e.value)};else if(e instanceof Ig)t={delete:Vp(i,e.key)};else if(e instanceof Es)t={update:WE(i,e.key,e.data),updateMask:JO(e.fieldMask)};else{if(!(e instanceof DO))return we(16599,{Rt:e.type});t={verify:Vp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof vu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Zh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw we(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:BO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(i,e.precondition)),t}function HO(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map(t=>function(o,u){let f=o.updateTime?ki(o.updateTime):ki(u);return f.isEqual(Ce.min())&&(f=ki(u)),new RO(f,o.transformResults||[])}(t,e))):[]}function GO(i,e){return{documents:[ib(i,e.path)]}}function QO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=ib(i,o);const u=function(y){if(y.length!==0)return ab(di.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:mo(S.field),direction:YO(S.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=Np(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:t,parent:o}}function KO(i){let e=qO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(b){const S=sb(b);return S instanceof di&&x1(S)?S.getFilters():[S]}(t.where));let f=[];t.orderBy&&(f=function(b){return b.map(S=>function(U){return new Xh(po(U.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,_f(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(b){const S=!!b.before,V=b.values||[];return new Yh(V,S)}(t.startAt));let y=null;return t.endAt&&(y=function(b){const S=!b.before,V=b.values||[];return new Yh(V,S)}(t.endAt)),fO(e,o,f,u,m,"F",p,y)}function $O(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sb(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=po(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(t.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=po(t.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(i):i.fieldFilter!==void 0?function(t){return Vt.create(po(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(s=>sb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(i):we(30097,{filter:i})}function YO(i){return kO[i]}function XO(i){return UO[i]}function ZO(i){return LO[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return en.fromServerFormat(i.fieldPath)}function ab(i){return i instanceof Vt?function(t){if(t.op==="=="){if(BE(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NAN"}};if(zE(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(BE(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NAN"}};if(zE(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(t.field),op:XO(t.op),value:t.value}}}(i):i instanceof di?function(t){const s=t.getFilters().map(o=>ab(o));return s.length===1?s[0]:{compositeFilter:{op:ZO(t.op),filters:s}}}(i):we(54877,{filter:i})}function JO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ob(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,s,o,u=Ce.min(),f=Ce.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.gt=e}}function e4(i){const e=KO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.Dn=new n4}addToCollectionParentIndex(e,t){return this.Dn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(fs.min())}updateCollectionGroup(e,t,s){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class n4{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Bt(ht.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lb=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(lb,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Do(0)}static ur(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="LruGarbageCollector",i4=1048576;function nT([i,e],[t,s]){const o=Pe(i,t);return o===0?Pe(e,s):o}class r4{constructor(e){this.Tr=e,this.buffer=new Bt(nT),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();nT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class s4{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(tT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ko(t)?fe(tT,"Ignoring IndexedDB error during garbage collection: ",t):await Po(t)}await this.Rr(3e5)})}}class a4{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return W.resolve(yf.ue);const s=new r4(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(eT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),ho()<=Be.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function o4(i,e){return new a4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.changes=new ga(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?W.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&lu(s.mutation,o,xn.empty(),dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,qe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=qe()){const o=sa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=Wl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=sa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,qe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=vr();const f=ou(),m=function(){return ou()}();return t.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Es)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),lu(E.mutation,y,E.mutation.getFieldMask(),dt.now())):f.set(y.key,xn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),t.forEach((y,E)=>{var b;return m.set(y,new u4(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,t){const s=ou();let o=new _t((f,m)=>f-m),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let E=s.get(p)||xn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(o.get(m.batchId)||qe()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=H1();E.forEach(S=>{if(!u.has(S)){const V=X1(t.get(S),s.get(S));V!==null&&b.set(S,V),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return Te.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):z1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):W.resolve(sa());let m=pu,p=u;return f.next(y=>W.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,qe())).next(E=>({batchId:m,changes:F1(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=Wl();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const y=function(b,S){return new ku(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,un.newInvalidDocument(E)))});let m=Wl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&lu(E.mutation,y,xn.empty(),dt.now()),Tf(t,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return W.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:e4(o.bundledQuery),readTime:ki(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.overlays=new _t(Te.comparator),this.kr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const s=sa();return W.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),W.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),W.resolve()}getOverlaysForCollection(e,t,s){const o=sa(),u=t.length+1,f=new Te(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new _t((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=sa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return W.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new OO(t,s));let u=this.kr.get(t);u===void 0&&(u=qe(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.qr=new Bt(Kt.Qr),this.$r=new Bt(Kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Kt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Kt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new Te(new ht([])),s=new Kt(t,e),o=new Kt(t,e+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Te(new ht([])),s=new Kt(t,e),o=new Kt(t,e+1);let u=qe();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Kt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Te.comparator(e.key,t.key)||Pe(e.Hr,t.Hr)}static Ur(e,t){return Pe(e.Hr,t.Hr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Bt(Kt.Qr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new NO(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new Kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,t){return W.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Tg:this.er-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Bt(Pe);return t.forEach(o=>{const u=new Kt(o,0),f=new Kt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{s=s.add(m.Hr)})}),W.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const f=new Kt(new Te(u),0);let m=new Bt(Pe);return this.Yr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)},f),W.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return W.forEach(t.mutations,o=>{const u=new Kt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Kt(t,0),o=this.Yr.firstAfterOrEqual(s);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.ni=e,this.docs=function(){return new _t(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return W.resolve(s?s.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let s=vr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=vr();const f=t.path,m=new Te(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||HN(FN(E),s)<=0||(o.has(E.key)||Tf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,t,s,o){we(9500)}ri(e,t){return W.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new g4(this)}getSize(e){return W.resolve(this.size)}}class g4 extends l4{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),W.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.persistence=e,this.ii=new ga(t=>Sg(t),wg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.si=0,this.oi=new Og,this.targetCount=0,this._i=Do.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),W.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.hr(t),W.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return W.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),W.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return W.resolve(s)}containsKey(e,t){return W.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t){this.ai={},this.overlays={},this.ui=new yf(0),this.ci=!1,this.ci=!0,this.li=new d4,this.referenceDelegate=e(this),this.hi=new y4(this),this.indexManager=new t4,this.remoteDocumentCache=function(o){return new p4(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new WO(t),this.Ti=new h4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new f4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new m4(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new _4(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return W.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class _4 extends QN{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.Ai=new Og,this.Ri=null}static Vi(e){return new Vg(e)}get mi(){if(this.Ri)return this.Ri;throw we(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),W.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),W.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.mi,s=>{const o=Te.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Ce.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return W.or([()=>W.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Wh{constructor(e,t){this.persistence=e,this.gi=new ga(s=>YN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=o4(this,t)}static Vi(e,t){return new Wh(e,t)}Ii(){}di(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return W.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?W.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,t).next(m=>{m||(s++,u.removeEntry(f,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),W.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ih(e.data.value)),t}Sr(e,t,s){return W.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=qe(),o=qe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return bR()?8:KN(cn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new v4;return this.ws(e,t,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,f,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(ho()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(ho()<=Be.DEBUG&&fe("QueryEngine","Query:",fo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(ho()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(t))):W.resolve())}ps(e,t){if(HE(t))return W.resolve(null);let s=Pi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Dp(t,null,"F"),s=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=qe(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.bs(t,m);return this.Ds(t,y,f,p.readTime)?this.ps(e,Dp(t,null,"F")):this.vs(e,y,t,p)}))})))}ys(e,t,s,o){return HE(t)||o.isEqual(Ce.min())?W.resolve(null):this.gs.getDocuments(e,s).next(u=>{const f=this.bs(t,u);return this.Ds(t,f,s,o)?W.resolve(null):(ho()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(t)),this.vs(e,f,t,jN(o,pu)).next(m=>m))})}bs(e,t){let s=new Bt(q1(e));return t.forEach((o,u)=>{Tf(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return ho()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",fo(t)),this.gs.getDocumentsMatchingQuery(e,t,fs.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="LocalStore",T4=3e8;class A4{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new _t(Pe),this.Ms=new ga(u=>Sg(u),wg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function b4(i,e,t,s){return new A4(i,e,t,s)}async function cb(i,e){const t=De(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=qe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Bs:y,removedBatchIds:f,addedBatchIds:m}))})})}function S4(i,e){const t=De(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const b=y.batch,S=b.keys();let V=W.resolve();return S.forEach(U=>{V=V.next(()=>E.getEntry(p,U)).next(F=>{const G=y.docVersions.get(U);We(G!==null,48541),F.version.compareTo(G)<0&&(b.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=qe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function hb(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function w4(i,e){const t=De(i),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(t.hi.removeMatchingKeys(u,E.removedDocuments,b).next(()=>t.hi.addMatchingKeys(u,E.addedDocuments,b)));let V=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?V=V.withResumeToken(tn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(b,V),function(F,G,ie){return F.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=T4?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0}(S,V,E)&&m.push(t.hi.updateTargetData(u,V))});let p=vr(),y=qe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(R4(u,f,e.documentUpdates).next(E=>{p=E.Ls,y=E.ks})),!s.isEqual(Ce.min())){const E=t.hi.getLastRemoteSnapshotVersion(u).next(b=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(t.Fs=o,u))}function R4(i,e,t){let s=qe(),o=qe();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=vr();return t.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(xg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function I4(i,e){const t=De(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Tg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function C4(i,e){const t=De(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):t.hi.allocateTargetId(s).next(f=>(o=new ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function xp(i,e,t){const s=De(i),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ko(f))throw f;fe(xg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function iT(i,e,t){const s=De(i);let o=Ce.min(),u=qe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const b=De(p),S=b.Ms.get(E);return S!==void 0?W.resolve(b.Fs.get(S)):b.hi.getTargetData(y,E)}(s,f,Pi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,t?o:Ce.min(),t?u:qe())).next(m=>(D4(s,mO(e),m),{documents:m,qs:u})))}function D4(i,e,t){let s=i.xs.get(e)||Ce.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class rT{constructor(){this.activeTargetIds=EO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N4{constructor(){this.Fo=new rT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new rT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="ConnectivityMonitor";class aT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(sT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(sT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function Pp(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",V4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M4{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const f=Pp(),m=this.Go(e,t.toUriEncodedString());fe(np,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:y}=new URL(m),E=ma(y);return this.jo(e,m,p,s,E).then(b=>(fe(np,`Received RPC '${e}' ${f}: `,b),b),b=>{throw hs(np,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b})}Jo(e,t,s,o,u,f){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=V4[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class P4 extends M4{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const f=Pp();return new Promise((m,p)=>{const y=new f1;y.setWithCredentials(!0),y.listenOnce(d1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Rh.NO_ERROR:const b=y.getResponseJson();fe(on,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case Rh.TIMEOUT:fe(on,`RPC '${e}' ${f} timed out`),p(new de(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const S=y.getStatus();if(fe(on,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const U=V?.error;if(U&&U.status&&U.message){const F=function(ie){const re=ie.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(re)>=0?re:Z.UNKNOWN}(U.status);p(new de(F,U.message))}else p(new de(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new de(Z.UNAVAILABLE,"Connection failed."));break;default:we(9055,{c_:e,streamId:f,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{fe(on,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);fe(on,`RPC '${e}' ${f} sending request:`,o),y.send(t,"POST",E,s,15)})}P_(e,t,s){const o=Pp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=g1(),m=p1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");fe(on,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);this.T_(b);let S=!1,V=!1;const U=new x4({Ho:G=>{V?fe(on,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(S||(fe(on,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),fe(on,`RPC '${e}' stream ${o} sending:`,G),b.send(G))},Yo:()=>b.close()}),F=(G,ie,re)=>{G.listen(ie,te=>{try{re(te)}catch(he){setTimeout(()=>{throw he},0)}})};return F(b,Jl.EventType.OPEN,()=>{V||(fe(on,`RPC '${e}' stream ${o} transport opened.`),U.s_())}),F(b,Jl.EventType.CLOSE,()=>{V||(V=!0,fe(on,`RPC '${e}' stream ${o} transport closed`),U.__(),this.I_(b))}),F(b,Jl.EventType.ERROR,G=>{V||(V=!0,hs(on,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),U.__(new de(Z.UNAVAILABLE,"The operation could not be completed")))}),F(b,Jl.EventType.MESSAGE,G=>{var ie;if(!V){const re=G.data[0];We(!!re,16349);const te=re,he=te?.error||((ie=te[0])===null||ie===void 0?void 0:ie.error);if(he){fe(on,`RPC '${e}' stream ${o} received error:`,he);const le=he.status;let pe=function(R){const O=Ot[R];if(O!==void 0)return J1(O)}(le),D=he.message;pe===void 0&&(pe=Z.INTERNAL,D="Unknown error status: "+le+" with message "+he.message),V=!0,U.__(new de(pe,D)),b.close()}else fe(on,`RPC '${e}' stream ${o} received:`,re),U.a_(re)}}),F(m,m1.STAT_EVENT,G=>{G.stat===Ap.PROXY?fe(on,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Ap.NOPROXY&&fe(on,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.o_()},0),U}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(i){return new zO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="PersistentStream";class db{constructor(e,t,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new fb(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new de(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(fe(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k4 extends db{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=jO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?ki(f.readTime):Ce.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Mp(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=Ip(p)?{documents:GO(u,p)}:{query:QO(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=tb(u,f.resumeToken);const y=Np(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Jh(u,f.snapshotVersion.toTimestamp());const y=Np(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=$O(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Mp(this.serializer),t.removeTarget=e,this.k_(t)}}class U4 extends db{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=HO(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Mp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>FO(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{}class z4 extends L4{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,Op(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(Z.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,Op(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(Z.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class B4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(_r(t),this._a=!1):fe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class q4{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{ya(this)&&(fe(fa,"Restarting streams for network reachability change."),await async function(p){const y=De(p);y.Ia.add(4),await zu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Rf(y)}(this))})}),this.Aa=new B4(s,o)}}async function Rf(i){if(ya(i))for(const e of i.da)await e(!0)}async function zu(i){for(const e of i.da)await e(!1)}function mb(i,e){const t=De(i);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Lg(t)?Ug(t):Uo(t).x_()&&kg(t,e))}function Pg(i,e){const t=De(i),s=Uo(t);t.Ta.delete(e),s.x_()&&pb(t,e),t.Ta.size===0&&(s.x_()?s.B_():ya(t)&&t.Aa.set("Unknown"))}function kg(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uo(i).H_(e)}function pb(i,e){i.Ra.$e(e),Uo(i).Y_(e)}function Ug(i){i.Ra=new PO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Uo(i).start(),i.Aa.aa()}function Lg(i){return ya(i)&&!Uo(i).M_()&&i.Ta.size>0}function ya(i){return De(i).Ia.size===0}function gb(i){i.Ra=void 0}async function j4(i){i.Aa.set("Online")}async function F4(i){i.Ta.forEach((e,t)=>{kg(i,e)})}async function H4(i,e){gb(i),Lg(i)?(i.Aa.la(e),Ug(i)):i.Aa.set("Unknown")}async function G4(i,e,t){if(i.Aa.set("Online"),e instanceof eb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,e)}catch(s){fe(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ef(i,s)}else if(e instanceof Nh?i.Ra.Ye(e):e instanceof W1?i.Ra.it(e):i.Ra.et(e),!t.isEqual(Ce.min()))try{const s=await hb(i.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(y);E&&u.Ta.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),pb(u,p);const b=new ts(E.target,p,y,E.sequenceNumber);kg(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){fe(fa,"Failed to raise snapshot:",s),await ef(i,s)}}async function ef(i,e,t){if(!ko(e))throw e;i.Ia.add(1),await zu(i),i.Aa.set("Offline"),t||(t=()=>hb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(fa,"Retrying IndexedDB access"),await t(),i.Ia.delete(1),await Rf(i)})}function yb(i,e){return e().catch(t=>ef(i,t,e))}async function If(i){const e=De(i),t=gs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Tg;for(;Q4(e);)try{const o=await I4(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,K4(e,o)}catch(o){await ef(e,o)}_b(e)&&vb(e)}function Q4(i){return ya(i)&&i.Pa.length<10}function K4(i,e){i.Pa.push(e);const t=gs(i);t.x_()&&t.Z_&&t.X_(e.mutations)}function _b(i){return ya(i)&&!gs(i).M_()&&i.Pa.length>0}function vb(i){gs(i).start()}async function $4(i){gs(i).na()}async function Y4(i){const e=gs(i);for(const t of i.Pa)e.X_(t.mutations)}async function X4(i,e,t){const s=i.Pa.shift(),o=Cg.from(s,e,t);await yb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await If(i)}async function Z4(i,e){e&&gs(i).Z_&&await async function(s,o){if(function(f){return MO(f)&&f!==Z.ABORTED}(o.code)){const u=s.Pa.shift();gs(s).N_(),await yb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await If(s)}}(i,e),_b(i)&&vb(i)}async function lT(i,e){const t=De(i);t.asyncQueue.verifyOperationInProgress(),fe(fa,"RemoteStore received new credentials");const s=ya(t);t.Ia.add(3),await zu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Rf(t)}async function J4(i,e){const t=De(i);e?(t.Ia.delete(2),await Rf(t)):e||(t.Ia.add(2),await zu(t),t.Aa.set("Unknown"))}function Uo(i){return i.Va||(i.Va=function(t,s,o){const u=De(t);return u.ia(),new k4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:j4.bind(null,i),e_:F4.bind(null,i),n_:H4.bind(null,i),J_:G4.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),Lg(i)?Ug(i):i.Aa.set("Unknown")):(await i.Va.stop(),gb(i))})),i.Va}function gs(i){return i.ma||(i.ma=function(t,s,o){const u=De(t);return u.ia(),new U4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:$4.bind(null,i),n_:Z4.bind(null,i),ea:Y4.bind(null,i),ta:X4.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await If(i)):(await i.ma.stop(),i.Pa.length>0&&(fe(fa,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new zg(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(i,e){if(_r("AsyncQueue",`${e}: ${i}`),ko(i))return new de(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=Wl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.fa=new _t(Te.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):we(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class No{constructor(e,t,s,o,u,f,m,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new No(e,t,vo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class e3{constructor(){this.queries=cT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=De(t),u=o.queries;o.queries=cT(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(s)})})(this,new de(Z.ABORTED,"Firestore shutting down"))}}function cT(){return new ga(i=>B1(i),Ef)}async function t3(i,e){const t=De(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new W4,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=Bg(f,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&qg(t)}async function n3(i,e){const t=De(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function i3(i,e){const t=De(i);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&qg(t)}function r3(i,e,t){const s=De(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function qg(i){i.Da.forEach(e=>{e.next()})}var kp,hT;(hT=kp||(kp={})).Fa="default",hT.Cache="cache";class s3{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.key=e}}class Tb{constructor(e){this.key=e}}class a3{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=qe(),this.mutatedKeys=qe(),this.Xa=q1(e),this.eu=new vo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new uT,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const S=o.get(E),V=Tf(this.query,b)?b:null,U=!!S&&this.mutatedKeys.has(S.key),F=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let G=!1;S&&V?S.data.isEqual(V.data)?U!==F&&(s.track({type:3,doc:V}),G=!0):this.iu(S,V)||(s.track({type:2,doc:V}),G=!0,(p&&this.Xa(V,p)>0||y&&this.Xa(V,y)<0)&&(m=!0)):!S&&V?(s.track({type:0,doc:V}),G=!0):S&&!V&&(s.track({type:1,doc:S}),G=!0,(p||y)&&(m=!0)),G&&(V?(f=f.add(V),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((E,b)=>function(V,U){const F=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{At:G})}};return F(V)-F(U)}(E.type,b.type)||this.Xa(E.doc,b.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,f.length!==0||y?{snapshot:new No(this.query,e.eu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new uT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=qe(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new Tb(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new Eb(s))}),t}uu(e){this.Ha=e.qs,this.Za=qe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return No.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const jg="SyncEngine";class o3{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class l3{constructor(e){this.key=e,this.lu=!1}}class u3{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ga(m=>B1(m),Ef),this.Tu=new Map,this.Iu=new Set,this.du=new _t(Te.comparator),this.Eu=new Map,this.Au=new Og,this.Ru={},this.Vu=new Map,this.mu=Do.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function c3(i,e,t=!0){const s=Ib(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Ab(s,e,t,!0),o}async function h3(i,e){const t=Ib(i);await Ab(t,e,!0,!1)}async function Ab(i,e,t,s){const o=await C4(i.localStore,Pi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await f3(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&mb(i.remoteStore,o),m}async function f3(i,e,t,s,o){i.gu=(b,S,V)=>async function(F,G,ie,re){let te=G.view.nu(ie);te.Ds&&(te=await iT(F.localStore,G.query,!1).then(({documents:D})=>G.view.nu(D,te)));const he=re&&re.targetChanges.get(G.targetId),le=re&&re.targetMismatches.get(G.targetId)!=null,pe=G.view.applyChanges(te,F.isPrimaryClient,he,le);return dT(F,G.targetId,pe._u),pe.snapshot}(i,b,S,V);const u=await iT(i.localStore,e,!0),f=new a3(e,u.qs),m=f.nu(u.documents),p=Lu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,p);dT(i,t,y._u);const E=new o3(e,t,f);return i.Pu.set(e,E),i.Tu.has(t)?i.Tu.get(t).push(e):i.Tu.set(t,[e]),y.snapshot}async function d3(i,e,t){const s=De(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!Ef(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Pg(s.remoteStore,o.targetId),Up(s,o.targetId)}).catch(Po)):(Up(s,o.targetId),await xp(s.localStore,o.targetId,!0))}async function m3(i,e){const t=De(i),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Pg(t.remoteStore,s.targetId))}async function p3(i,e,t){const s=A3(i);try{const o=await function(f,m){const p=De(f),y=dt.now(),E=m.reduce((V,U)=>V.add(U.key),qe());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let U=vr(),F=qe();return p.Os.getEntries(V,E).next(G=>{U=G,U.forEach((ie,re)=>{re.isValidDocument()||(F=F.add(ie))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,U)).next(G=>{b=G;const ie=[];for(const re of m){const te=CO(re,b.get(re.key).overlayedDocument);te!=null&&ie.push(new Es(re.key,te,O1(te.value.mapValue),hi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,ie,m)}).next(G=>{S=G;const ie=G.applyToLocalDocumentSet(b,F);return p.documentOverlayCache.saveOverlays(V,G.batchId,ie)})}).then(()=>({batchId:S.batchId,changes:F1(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Ru[f.currentUser.toKey()];y||(y=new _t(Pe)),y=y.insert(m,p),f.Ru[f.currentUser.toKey()]=y}(s,o.batchId,t),await Bu(s,o.changes),await If(s.remoteStore)}catch(o){const u=Bg(o,"Failed to persist write");t.reject(u)}}async function bb(i,e){const t=De(i);try{const s=await w4(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Eu.get(u);f&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?We(f.lu,14607):o.removedDocuments.size>0&&(We(f.lu,42227),f.lu=!1))}),await Bu(t,s,e)}catch(s){await Po(s)}}function fT(i,e,t){const s=De(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=De(f);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const S of b.wa)S.va(m)&&(y=!0)}),y&&qg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function g3(i,e,t){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new _t(Te.comparator);f=f.insert(u,un.newNoDocument(u,Ce.min()));const m=qe().add(u),p=new Sf(Ce.min(),new Map,new _t(Pe),f,m);await bb(s,p),s.du=s.du.remove(u),s.Eu.delete(e),Fg(s)}else await xp(s.localStore,e,!1).then(()=>Up(s,e,t)).catch(Po)}async function y3(i,e){const t=De(i),s=e.batch.batchId;try{const o=await S4(t.localStore,e);wb(t,s,null),Sb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Bu(t,o)}catch(o){await Po(o)}}async function _3(i,e,t){const s=De(i);try{const o=await function(f,m){const p=De(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(We(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);wb(s,e,t),Sb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Bu(s,o)}catch(o){await Po(o)}}function Sb(i,e){(i.Vu.get(e)||[]).forEach(t=>{t.resolve()}),i.Vu.delete(e)}function wb(i,e,t){const s=De(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Up(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),t&&i.hu.pu(s,t);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||Rb(i,s)})}function Rb(i,e){i.Iu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Pg(i.remoteStore,t),i.du=i.du.remove(e),i.Eu.delete(t),Fg(i))}function dT(i,e,t){for(const s of t)s instanceof Eb?(i.Au.addReference(s.key,e),v3(i,s)):s instanceof Tb?(fe(jg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||Rb(i,s.key)):we(19791,{yu:s})}function v3(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Iu.has(s)||(fe(jg,"New document in limbo: "+t),i.Iu.add(s),Fg(i))}function Fg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const t=new Te(ht.fromString(e)),s=i.mu.next();i.Eu.set(s,new l3(t)),i.du=i.du.insert(t,s),mb(i.remoteStore,new ts(Pi(L1(t.path)),s,"TargetPurposeLimboResolution",yf.ue))}}async function Bu(i,e,t){const s=De(i),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{f.push(s.gu(p,e,t).then(y=>{var E;if((y||t)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=t?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Mg.Es(p.targetId,y);u.push(b)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,y){const E=De(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>W.forEach(y,S=>W.forEach(S.Is,V=>E.persistence.referenceDelegate.addReference(b,S.targetId,V)).next(()=>W.forEach(S.ds,V=>E.persistence.referenceDelegate.removeReference(b,S.targetId,V)))))}catch(b){if(!ko(b))throw b;fe(xg,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const V=E.Fs.get(S),U=V.snapshotVersion,F=V.withLastLimboFreeSnapshotVersion(U);E.Fs=E.Fs.insert(S,F)}}}(s.localStore,u))}async function E3(i,e){const t=De(i);if(!t.currentUser.isEqual(e)){fe(jg,"User change. New user:",e.toKey());const s=await cb(t.localStore,e);t.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new de(Z.CANCELLED,f))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bu(t,s.Bs)}}function T3(i,e){const t=De(i),s=t.Eu.get(e);if(s&&s.lu)return qe().add(s.key);{let o=qe();const u=t.Tu.get(e);if(!u)return o;for(const f of u){const m=t.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function Ib(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=bb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g3.bind(null,e),e.hu.J_=i3.bind(null,e.eventManager),e.hu.pu=r3.bind(null,e.eventManager),e}function A3(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_3.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return b4(this.persistence,new E4,e.initialUser,this.serializer)}Du(e){return new ub(Vg.Vi,this.serializer)}bu(e){return new N4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class b3 extends tf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){We(this.persistence.referenceDelegate instanceof Wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new s4(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new ub(s=>Wh.Vi(s,t),this.serializer)}}class Lp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=E3.bind(null,this.syncEngine),await J4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new e3}()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),s=function(u){return new P4(u)}(e.databaseInfo);return function(u,f,m,p){return new z4(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new q4(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>fT(this.syncEngine,t,0),function(){return aT.C()?new aT:new O4}())}createSyncEngine(e,t){return function(o,u,f,m,p,y,E){const b=new u3(o,u,f,m,p,y);return E&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=De(o);fe(fa,"RemoteStore shutting down."),u.Ia.add(5),await zu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class w3{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(ys,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(ys,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Bg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function rp(i,e){i.asyncQueue.verifyOperationInProgress(),fe(ys,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await cb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{hs("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{hs("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function mT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await R3(i);fe(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>lT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>lT(e.remoteStore,o)),i._onlineComponents=e}async function R3(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(ys,"Using user provided OfflineComponentProvider");try{await rp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;hs("Error using user provided cache. Falling back to memory cache: "+t),await rp(i,new tf)}}else fe(ys,"Using default OfflineComponentProvider"),await rp(i,new b3(void 0));return i._offlineComponents}async function Cb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(ys,"Using user provided OnlineComponentProvider"),await mT(i,i._uninitializedComponentsProvider._online)):(fe(ys,"Using default OnlineComponentProvider"),await mT(i,new Lp))),i._onlineComponents}function I3(i){return Cb(i).then(e=>e.syncEngine)}async function C3(i){const e=await Cb(i),t=e.eventManager;return t.onListen=c3.bind(null,e.syncEngine),t.onUnlisten=d3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=h3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m3.bind(null,e.syncEngine),t}function D3(i,e,t={}){const s=new os;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new S3({next:S=>{E.Ou(),f.enqueueAndForget(()=>n3(u,b)),S.fromCache&&p.source==="server"?y.reject(new de(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new s3(m,E,{includeMetadataChanges:!0,ka:!0});return t3(u,b)}(await C3(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firestore.googleapis.com",gT=!0;class yT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nb,this.ssl=gT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:gT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i4)throw new de(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Db((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VN;switch(s.type){case"firstParty":return new kN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=pT.get(t);s&&(fe("ComponentProvider","Removing Datastore"),pT.delete(t),s.terminate())}(this),Promise.resolve()}}function N3(i,e,t,s={}){var o;i=ha(i,Cf);const u=ma(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;u&&(Wp(`https://${p}`),eg("Firestore",!0)),f.host!==Nb&&f.host!==p&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!cs(y,m)&&(i._setSettings(y),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=ln.MOCK_USER;else{E=pR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new de(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ln(S)}i._authCredentials=new MN(new _1(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Pu(t,zt._jsonSchema))return new zt(e,s||null,new Te(ht.fromString(t.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Mt("string",zt._jsonSchemaVersion),referencePath:Mt("string")};class ls extends Lo{constructor(e,t,s){super(e,t,L1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Te(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function zp(i,e,...t){if(i=Rt(i),E1("collection","path",e),i instanceof Cf){const s=ht.fromString(e,...t);return NE(s),new ls(i,null,s)}{if(!(i instanceof zt||i instanceof ls))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ht.fromString(e,...t));return NE(s),new ls(i.firestore,null,s)}}function Hg(i,e,...t){if(i=Rt(i),arguments.length===1&&(e=Eg.newId()),E1("doc","path",e),i instanceof Cf){const s=ht.fromString(e,...t);return DE(s),new zt(i,null,new Te(s))}{if(!(i instanceof zt||i instanceof ls))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ht.fromString(e,...t));return DE(s),new zt(i.firestore,i instanceof ls?i.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="AsyncQueue";class vT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new fb(this,"async_queue_retry"),this.oc=()=>{const s=ip();s&&fe(_T,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new os;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ko(e))throw e;fe(_T,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,_r("INTERNAL UNHANDLED ERROR: ",ET(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=zg.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&we(47125,{hc:ET(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function ET(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class qu extends Cf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new vT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vT(e),this._firestoreClient=void 0,await e}}}function O3(i,e){const t=typeof i=="object"?i:cf(),s=typeof i=="string"?i:Kh,o=_s(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=WT("firestore");u&&N3(o,...u)}return o}function Ob(i){if(i._terminated)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||V3(i),i._firestoreClient}function V3(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,y,E){return new JN(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Db(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new w3(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(tn.fromBase64String(e))}catch(t){throw new de(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Mt("string",Zn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Mt("string",Ui._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Li(e.vectorValues);throw new de(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Mt("string",Li._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=/^__.*__$/;class x3{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class Vb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ec:i})}}class Gg{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return nf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Mb(this.Ec)&&M3.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class P3{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||wf(e)}Dc(e,t,s,o=!1){return new Gg({Ec:e,methodName:t,bc:s,path:en.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qg(i){const e=i._freezeSettings(),t=wf(i._databaseId);return new P3(i._databaseId,!!e.ignoreUndefinedProperties,t)}function k3(i,e,t,s,o,u={}){const f=i.Dc(u.merge||u.mergeFields?2:0,e,t,o);$g("Data must be an object, but it was:",f,s);const m=xb(s,f);let p,y;if(u.merge)p=new xn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=Bp(e,b,t);if(!f.contains(S))throw new de(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);kb(E,S)||E.push(S)}p=new xn(E),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new x3(new Tn(m),p,y)}class Of extends Nf{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}class Kg extends Nf{_toFieldTransform(e){return new SO(e.path,new vu)}isEqual(e){return e instanceof Kg}}function U3(i,e,t,s){const o=i.Dc(1,e,t);$g("Data must be an object, but it was:",o,s);const u=[],f=Tn.empty();vs(s,(p,y)=>{const E=Yg(e,p,t);y=Rt(y);const b=o.gc(E);if(y instanceof Of)u.push(E);else{const S=ju(y,b);S!=null&&(u.push(E),f.set(E,S))}});const m=new xn(u);return new Vb(f,m,o.fieldTransforms)}function L3(i,e,t,s,o,u){const f=i.Dc(1,e,t),m=[Bp(e,s,t)],p=[o];if(u.length%2!=0)throw new de(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Bp(e,u[S])),p.push(u[S+1]);const y=[],E=Tn.empty();for(let S=m.length-1;S>=0;--S)if(!kb(y,m[S])){const V=m[S];let U=p[S];U=Rt(U);const F=f.gc(V);if(U instanceof Of)y.push(V);else{const G=ju(U,F);G!=null&&(y.push(V),E.set(V,G))}}const b=new xn(y);return new Vb(E,b,f.fieldTransforms)}function z3(i,e,t,s=!1){return ju(t,i.Dc(s?4:3,e))}function ju(i,e){if(Pb(i=Rt(i)))return $g("Unsupported field value:",e,i),xb(i,e);if(i instanceof Nf)return function(s,o){if(!Mb(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=ju(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=dt.fromDate(s);return{timestampValue:Jh(o.serializer,u)}}if(s instanceof dt){const u=new dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jh(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zn)return{bytesValue:tb(o.serializer,s._byteString)};if(s instanceof zt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Li)return function(f,m){return{mapValue:{fields:{[D1]:{stringValue:N1},[$h]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return Rg(m.serializer,y)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${gf(s)}`)}(i,e)}function xb(i,e){const t={};return b1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(i,(s,o)=>{const u=ju(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Pb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof dt||i instanceof Ui||i instanceof Zn||i instanceof zt||i instanceof Nf||i instanceof Li)}function $g(i,e,t){if(!Pb(t)||!T1(t)){const s=gf(t);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function Bp(i,e,t){if((e=Rt(e))instanceof Df)return e._internalPath;if(typeof e=="string")return Yg(i,e);throw nf("Field path arguments must be of type string or ",i,!1,void 0,t)}const B3=new RegExp("[~\\*/\\[\\]]");function Yg(i,e,t){if(e.search(B3)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Df(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function nf(i,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(Z.INVALID_ARGUMENT,m+i+p)}function kb(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class q3 extends Ub{data(){return super.data()}}function Xg(i,e){return typeof e=="string"?Yg(i,e):e instanceof Df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zg{}class F3 extends Zg{}function TT(i,e,...t){let s=[];e instanceof Zg&&s.push(e),s=s.concat(t),function(u){const f=u.filter(p=>p instanceof Jg).length,m=u.filter(p=>p instanceof Vf).length;if(f>1||f>0&&m>0)throw new de(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Vf extends F3{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Vf(e,t,s)}_apply(e){const t=this._parse(e);return Lb(e._query,t),new Lo(e.firestore,e.converter,Cp(e._query,t))}_parse(e){const t=Qg(e.firestore);return function(u,f,m,p,y,E,b){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){bT(b,E);const U=[];for(const F of b)U.push(AT(p,u,F));S={arrayValue:{values:U}}}else S=AT(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||bT(b,E),S=z3(m,f,b,E==="in"||E==="not-in");return Vt.create(y,E,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function H3(i,e,t){const s=e,o=Xg("where",i);return Vf._create(o,s,t)}class Jg extends Zg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Lb(f,p),f=Cp(f,p)}(e._query,t),new Lo(e.firestore,e.converter,Cp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AT(i,e,t){if(typeof(t=Rt(t))=="string"){if(t==="")throw new de(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z1(e)&&t.indexOf("/")!==-1)throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ht.fromString(t));if(!Te.isDocumentKey(s))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return LE(i,new Te(s))}if(t instanceof zt)return LE(i,t._key);throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(t)}.`)}function bT(i,e){if(!Array.isArray(i)||i.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lb(i,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class G3{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return vs(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[$h].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>wt(f.doubleValue));return new Li(u)}convertGeoPoint(e){return new Ui(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=vf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const t=ds(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ht.fromString(e);We(ob(s),9688,{name:e});const o=new yu(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(t)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class Eh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eo extends Ub{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Xg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Eo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:Mt("string",Eo._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Oh extends Eo{data(e={}){return super.data(e)}}class To{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Eh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Oh(this._firestore,this._userDataWriter,s.key,s,new Eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Eh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Eh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:K3(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=To._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function K3(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:Mt("string",To._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class $3 extends G3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}}function ST(i){i=ha(i,Lo);const e=ha(i.firestore,qu),t=Ob(e),s=new $3(e);return j3(i._query),D3(t,i._query).then(o=>new To(e,s,i,o))}function Y3(i,e,t,...s){i=ha(i,zt);const o=ha(i.firestore,qu),u=Qg(o);let f;return f=typeof(e=Rt(e))=="string"||e instanceof Df?L3(u,"updateDoc",i._key,e,t,s):U3(u,"updateDoc",i._key,e),Wg(o,[f.toMutation(i._key,hi.exists(!0))])}function X3(i){return Wg(ha(i.firestore,qu),[new Ig(i._key,hi.none())])}function Z3(i,e){const t=ha(i.firestore,qu),s=Hg(i),o=Q3(i.converter,e);return Wg(t,[k3(Qg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,hi.exists(!1))]).then(()=>s)}function Wg(i,e){return function(s,o){const u=new os;return s.asyncQueue.enqueueAndForget(async()=>p3(await I3(s),o,u)),u.promise}(Ob(i),e)}function zb(){return new Kg("serverTimestamp")}(function(e,t=!0){(function(o){xo=o})(Vo),fi(new Wn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new qu(new xN(s.getProvider("auth-internal")),new UN(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),bn(SE,wE,e),bn(SE,wE,"esm2017")})();const J3={apiKey:"AIzaSyDxYyDUPCRPb5O6-GucCcmO4jcdf9rBEho",authDomain:"daily-money-94f02.firebaseapp.com",projectId:"daily-money-94f02",storageBucket:"daily-money-94f02.firebasestorage.app",messagingSenderId:"31843473349",appId:"1:31843473349:web:249d43c7856d1b60b39dac",measurementId:"G-6WZTW0WFRC"},ey=lA(J3);CC(ey);const Bb=NN(ey);new Mi;const Au=O3(ey),W3=async()=>{const i=new Mi;return zD(Bb,i)},eV=i=>vD(Bb,i),ty=async(i,e,t)=>{try{return{id:(await Z3(zp(Au,"users",t,i),{...e,timestamp:zb()})).id,...e}}catch(s){throw console.error(`Error saving ${i}:`,s),s}},ny=async(i,e,t,s)=>{try{const o=Hg(Au,"users",s,i,e);return await Y3(o,{...t,timestamp:zb()}),{id:e,...t}}catch(o){throw console.error(`Error updating ${i}:`,o),o}},iy=async(i,e,t)=>{try{const s=Hg(Au,"users",t,i,e);return await X3(s),e}catch(s){throw console.error(`Error deleting ${i}:`,s),s}},sp=async(i,e)=>{try{if(!e)return console.warn(`No userId provided for ${i}`),[];try{const t=TT(zp(Au,"users",e,i));return(await ST(t)).docs.map(o=>({id:o.id,...o.data()}))}catch{console.log(`Trying flat structure for ${i}`);const s=TT(zp(Au,i),H3("userId","==",e));return(await ST(s)).docs.map(u=>({id:u.id,...u.data()}))}}catch(t){return console.error(`Error fetching ${i}:`,t),[]}},tV=async i=>ty("incomes",i,i.userId),nV=async i=>ty("costs",i,i.userId),iV=async i=>ty("goals",i,i.userId),rV=async(i,e,t)=>ny("incomes",i,e,t),sV=async(i,e,t)=>ny("costs",i,e,t),aV=async(i,e,t)=>ny("goals",i,e,t),oV=async(i,e)=>iy("incomes",i,e),lV=async(i,e)=>iy("costs",i,e),uV=async(i,e)=>iy("goals",i,e),cV=async i=>{const[e,t,s]=await Promise.all([sp("incomes",i),sp("costs",i),sp("goals",i)]);return{incomes:e,costs:t,goals:s}},es=i=>i&&i.charAt(0).toUpperCase()+i.slice(1),hV=i=>{if(!i)return"";const e=i.toDate?i.toDate():new Date(i),t={weekday:"short",year:"numeric",month:"short",day:"numeric"};return e.toLocaleDateString("en-US",t)},fV=({activeTab:i,incomes:e,setIncomes:t,costs:s,setCosts:o,goals:u,setGoals:f,selectedCurrency:m,user:p})=>{const[y,E]=me.useState(!1),[b,S]=me.useState(!1),[V,U]=me.useState(""),[F,G]=me.useState(""),[ie,re]=me.useState("monthly"),[te,he]=me.useState(""),[le,pe]=me.useState(""),[D,w]=me.useState("monthly"),[R,O]=me.useState(""),[x,P]=me.useState(""),[C,ft]=me.useState(""),[lt,K]=me.useState(!1),[ue,ye]=me.useState(!1),[je,N]=me.useState(!1),ne=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"},{value:"one-off",label:"One-off"}],ce=async(H=null)=>{const ee=H||{name:V.trim(),amount:parseFloat(F),period:ie};if(!(!ee.name||!ee.amount||isNaN(ee.amount)||ee.amount<=0)){K(!0);try{const _e={name:es(ee.name),amount:ee.amount,period:ee.period,userId:p?.uid},Ve=await tV(_e);t([...e,Ve]),H||(U(""),G(""),re("monthly"))}catch(_e){console.error("Error adding income:",_e)}finally{K(!1)}}},se=async(H=null)=>{console.log(" FACTORY: handleAddCost called"),console.log(" Input data:",H),console.log(" Current form state:",{costName:te,costAmount:le,costPeriod:D});const ee=H||{name:te.trim(),amount:parseFloat(le),period:D};if(console.log(" Final itemData:",ee),!ee.name||!ee.amount||isNaN(ee.amount)||ee.amount<=0){console.log(" Validation failed:",{hasName:!!ee.name,hasAmount:!!ee.amount,isNumber:!isNaN(ee.amount),isPositive:ee.amount>0});return}console.log(" Validation passed, starting save process"),ye(!0);try{const _e={name:es(ee.name),amount:ee.amount,period:ee.period,userId:p?.uid};console.log(" Saving cost to database:",_e);const Ve=await nV(_e);console.log(" Cost saved successfully:",Ve),o([...s,Ve]),console.log(" Updated costs state, new length:",s.length+1),H?console.log(" Voice input - skipping form reset"):(console.log(" Resetting form fields"),he(""),pe(""),w("monthly"))}catch(_e){console.error(" Error adding cost:",_e)}finally{ye(!1),console.log(" handleAddCost completed")}},ve=async(H=null)=>{const ee=H||{name:R.trim(),price:parseFloat(x),dailyContribution:parseFloat(C)};if(!(!ee.name||!ee.price||isNaN(ee.price)||ee.price<=0||!ee.dailyContribution||isNaN(ee.dailyContribution)||ee.dailyContribution<=0)){N(!0);try{const _e={name:es(ee.name),price:ee.price,dailyContribution:ee.dailyContribution,userId:p?.uid},Ve=await iV(_e);f([...u,Ve]),H||(O(""),P(""),ft(""))}catch(_e){console.error("Error adding goal:",_e)}finally{N(!1)}}},Oe=H=>{H.key==="Enter"&&(i==="income"?ce():i==="expenses"?se():i==="goals"&&ve())},Ae=()=>{const H=KT(m);switch(i){case"income":return{title:"Add Income",fields:[{type:"text",placeholder:"Income name",value:V,onChange:ee=>U(ee.target.value),key:"name"},{type:"number",placeholder:`Amount (${H})`,value:F,onChange:ee=>G(ee.target.value),key:"amount"},{type:"select",value:ie,onChange:ee=>re(ee.target.value),options:ne,key:"period"}],onSubmit:ce,isSubmitting:lt};case"expenses":return{title:"Add Expense",fields:[{type:"text",placeholder:"Expense name",value:te,onChange:ee=>he(ee.target.value),key:"name"},{type:"number",placeholder:`Amount (${H})`,value:le,onChange:ee=>pe(ee.target.value),key:"amount"},{type:"select",value:D,onChange:ee=>w(ee.target.value),options:ne.filter(ee=>ee.value!=="money-in-bank"&&ee.value!=="spend-limit"),key:"period"}],onSubmit:se,isSubmitting:ue};case"goals":return{title:"Add Goal",fields:[{type:"text",placeholder:"Goal name",value:R,onChange:ee=>O(ee.target.value),key:"name"},{type:"number",placeholder:`Goal price (${H})`,value:x,onChange:ee=>P(ee.target.value),key:"price"},{type:"number",placeholder:`Daily contribution (${H})`,value:C,onChange:ee=>ft(ee.target.value),key:"dailyContribution"}],onSubmit:ve,isSubmitting:je};default:return null}},gt=H=>{if(!Ae())return;const _e=H.toLowerCase().split(" ");let Ve="",$e="",nn="",qt="";if(i==="income"){const ze=_e.findIndex(hn=>!isNaN(hn)||hn.includes("k")||hn.includes("thousand"));ze!==-1&&(Ve=_e.slice(0,ze).join(" "),$e=_e[ze].replace("k","000").replace("thousand","000"),nn=_e[ze+1]||"monthly")}else if(i==="expenses"){const ze=_e.findIndex(hn=>!isNaN(hn)||hn.includes("k")||hn.includes("thousand"));ze!==-1&&(Ve=_e.slice(0,ze).join(" "),$e=_e[ze].replace("k","000").replace("thousand","000"),nn=_e[ze+1]||"monthly")}else if(i==="goals"){const ze=_e.findIndex(hn=>!isNaN(hn)||hn.includes("k")||hn.includes("thousand"));ze!==-1&&(Ve=_e.slice(0,ze).join(" "),$e=_e[ze].replace("k","000").replace("thousand","000"),qt=_e[ze+1]||"100")}Ve&&(i==="income"?U(Ve):i==="expenses"?he(Ve):i==="goals"&&O(Ve)),$e&&(i==="income"?G($e):i==="expenses"?pe($e):i==="goals"&&P($e)),nn&&(i==="income"?re(nn):i==="expenses"&&w(nn)),qt&&i==="goals"&&ft(qt)},Xe=async H=>{if(console.log(" VOICE INPUT: Starting data extraction process"),console.log(" Raw extracted data:",H),!H||typeof H!="object"){console.log(" Invalid extracted data format");return}try{if(i==="income"){console.log(" Processing as INCOME");const{name:ee,amount:_e,period:Ve}=H;if(console.log(" Extracted fields:",{name:ee,amount:_e,period:Ve}),ee&&_e&&Ve){const $e={name:ee.trim(),amount:parseFloat(_e),period:Ve};console.log(" Transformed income data:",$e),await ce($e)}else console.log(" Missing required income fields")}else if(i==="expenses"){console.log(" Processing as EXPENSE");const{name:ee,amount:_e,period:Ve}=H;if(console.log(" Extracted fields:",{name:ee,amount:_e,period:Ve}),ee&&_e&&Ve){const $e={name:ee.trim(),amount:parseFloat(_e),period:Ve};console.log(" Transformed cost data:",$e),await se($e)}else console.log(" Missing required expense fields")}else if(i==="goals"){console.log(" Processing as GOAL");const{name:ee,price:_e,dailyContribution:Ve}=H;if(console.log(" Extracted fields:",{name:ee,price:_e,dailyContribution:Ve}),ee&&_e&&Ve){const $e={name:ee.trim(),price:parseFloat(_e),dailyContribution:parseFloat(Ve)};console.log(" Transformed goal data:",$e),await ve($e)}else console.log(" Missing required goal fields")}}catch(ee){console.error(" Error in handleDataExtracted:",ee)}},it=Ae();return it?$.createElement("div",{className:"p-3 border rounded mb-2"},$.createElement("div",{className:"flex items-center justify-between w-full"},$.createElement("h2",{className:"text-xl font-semibold"},it.title),$.createElement("div",{className:"flex items-center gap-2"},!y&&$.createElement(Z0,{onTranscript:gt,isRecording:b,setIsRecording:S,activeTab:i,onDataExtracted:Xe,selectedCurrency:m}),$.createElement("button",{onClick:()=>E(!y),className:"flex items-center justify-center"},$.createElement("svg",{className:`w-5 h-5 transition-transform duration-200 ${y?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}))))),y&&$.createElement("div",{className:"mt-4"},$.createElement("div",{className:"grid gap-2 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 mb-3"},it.fields.map((H,ee)=>$.createElement("div",{key:ee,className:"relative"},H.type==="select"?$.createElement("select",{value:H.value,onChange:H.onChange,className:"border border-gray-300 rounded px-3 py-2 text-base w-full"},H.options.map(_e=>$.createElement("option",{key:_e.value,value:_e.value},_e.label))):$.createElement("input",{type:H.type,placeholder:H.placeholder,value:H.value,onChange:H.onChange,onKeyPress:Oe,className:"border border-gray-300 rounded px-3 py-2 text-base w-full"}))),$.createElement("div",{className:"flex gap-2"},$.createElement("button",{onClick:it.onSubmit,disabled:it.isSubmitting,className:`px-3 py-2 text-white rounded text-base flex-1 ${it.isSubmitting?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`},it.isSubmitting?"Adding...":"Add"),$.createElement(Z0,{onTranscript:gt,isRecording:b,setIsRecording:S,activeTab:i,onDataExtracted:Xe,selectedCurrency:m}))),$.createElement("div",{className:"text-xs text-gray-500"},' Voice input example: "',i==="income"?"salary 50000 monthly":i==="expenses"?"rent 15000 monthly":"new phone 25000 100 daily",'"'))):null};var ry=Hu(),Ne=i=>Fu(i,ry),sy=Hu();Ne.write=i=>Fu(i,sy);var Mf=Hu();Ne.onStart=i=>Fu(i,Mf);var ay=Hu();Ne.onFrame=i=>Fu(i,ay);var oy=Hu();Ne.onFinish=i=>Fu(i,oy);var Ao=[];Ne.setTimeout=(i,e)=>{const t=Ne.now()+e,s=()=>{const u=Ao.findIndex(f=>f.cancel==s);~u&&Ao.splice(u,1),is-=~u?1:0},o={time:t,handler:i,cancel:s};return Ao.splice(qb(t),0,o),is+=1,jb(),o};var qb=i=>~(~Ao.findIndex(e=>e.time>i)||~Ao.length);Ne.cancel=i=>{Mf.delete(i),ay.delete(i),oy.delete(i),ry.delete(i),sy.delete(i)};Ne.sync=i=>{qp=!0,Ne.batchedUpdates(i),qp=!1};Ne.throttle=i=>{let e;function t(){try{i(...e)}finally{e=null}}function s(...o){e=o,Ne.onStart(t)}return s.handler=i,s.cancel=()=>{Mf.delete(t),e=null},s};var ly=typeof window<"u"?window.requestAnimationFrame:()=>{};Ne.use=i=>ly=i;Ne.now=typeof performance<"u"?()=>performance.now():Date.now;Ne.batchedUpdates=i=>i();Ne.catch=console.error;Ne.frameLoop="always";Ne.advance=()=>{Ne.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Hb()};var ns=-1,is=0,qp=!1;function Fu(i,e){qp?(e.delete(i),i(0)):(e.add(i),jb())}function jb(){ns<0&&(ns=0,Ne.frameLoop!=="demand"&&ly(Fb))}function dV(){ns=-1}function Fb(){~ns&&(ly(Fb),Ne.batchedUpdates(Hb))}function Hb(){const i=ns;ns=Ne.now();const e=qb(ns);if(e&&(Gb(Ao.splice(0,e),t=>t.handler()),is-=e),!is){dV();return}Mf.flush(),ry.flush(i?Math.min(64,ns-i):16.667),ay.flush(),sy.flush(),oy.flush()}function Hu(){let i=new Set,e=i;return{add(t){is+=e==i&&!i.has(t)?1:0,i.add(t)},delete(t){return is-=e==i&&i.has(t)?1:0,i.delete(t)},flush(t){e.size&&(i=new Set,is-=e.size,Gb(e,s=>s(t)&&i.add(s)),is+=i.size,e=i)}}}function Gb(i,e){i.forEach(t=>{try{e(t)}catch(s){Ne.catch(s)}})}var mV=Object.defineProperty,pV=(i,e)=>{for(var t in e)mV(i,t,{get:e[t],enumerable:!0})},mi={};pV(mi,{assign:()=>yV,colors:()=>us,createStringInterpolator:()=>cy,skipAnimation:()=>Kb,to:()=>Qb,willAdvance:()=>hy});function jp(){}var gV=(i,e,t)=>Object.defineProperty(i,e,{value:t,writable:!0,configurable:!0}),ae={arr:Array.isArray,obj:i=>!!i&&i.constructor.name==="Object",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",und:i=>i===void 0};function dr(i,e){if(ae.arr(i)){if(!ae.arr(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}return i===e}var Fe=(i,e)=>i.forEach(e);function qi(i,e,t){if(ae.arr(i)){for(let s=0;s<i.length;s++)e.call(t,i[s],`${s}`);return}for(const s in i)i.hasOwnProperty(s)&&e.call(t,i[s],s)}var Pn=i=>ae.und(i)?[]:ae.arr(i)?i:[i];function uu(i,e){if(i.size){const t=Array.from(i);i.clear(),Fe(t,e)}}var tu=(i,...e)=>uu(i,t=>t(...e)),uy=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),cy,Qb,us=null,Kb=!1,hy=jp,yV=i=>{i.to&&(Qb=i.to),i.now&&(Ne.now=i.now),i.colors!==void 0&&(us=i.colors),i.skipAnimation!=null&&(Kb=i.skipAnimation),i.createStringInterpolator&&(cy=i.createStringInterpolator),i.requestAnimationFrame&&Ne.use(i.requestAnimationFrame),i.batchedUpdates&&(Ne.batchedUpdates=i.batchedUpdates),i.willAdvance&&(hy=i.willAdvance),i.frameLoop&&(Ne.frameLoop=i.frameLoop)},cu=new Set,Jn=[],ap=[],rf=0,xf={get idle(){return!cu.size&&!Jn.length},start(i){rf>i.priority?(cu.add(i),Ne.onStart(_V)):($b(i),Ne(Fp))},advance:Fp,sort(i){if(rf)Ne.onFrame(()=>xf.sort(i));else{const e=Jn.indexOf(i);~e&&(Jn.splice(e,1),Yb(i))}},clear(){Jn=[],cu.clear()}};function _V(){cu.forEach($b),cu.clear(),Ne(Fp)}function $b(i){Jn.includes(i)||Yb(i)}function Yb(i){Jn.splice(vV(Jn,e=>e.priority>i.priority),0,i)}function Fp(i){const e=ap;for(let t=0;t<Jn.length;t++){const s=Jn[t];rf=s.priority,s.idle||(hy(s),s.advance(i),s.idle||e.push(s))}return rf=0,ap=Jn,ap.length=0,Jn=e,Jn.length>0}function vV(i,e){const t=i.findIndex(e);return t<0?i.length:t}var EV={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ui="[-+]?\\d*\\.?\\d+",sf=ui+"%";function Pf(...i){return"\\(\\s*("+i.join(")\\s*,\\s*(")+")\\s*\\)"}var TV=new RegExp("rgb"+Pf(ui,ui,ui)),AV=new RegExp("rgba"+Pf(ui,ui,ui,ui)),bV=new RegExp("hsl"+Pf(ui,sf,sf)),SV=new RegExp("hsla"+Pf(ui,sf,sf,ui)),wV=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,RV=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,IV=/^#([0-9a-fA-F]{6})$/,CV=/^#([0-9a-fA-F]{8})$/;function DV(i){let e;return typeof i=="number"?i>>>0===i&&i>=0&&i<=4294967295?i:null:(e=IV.exec(i))?parseInt(e[1]+"ff",16)>>>0:us&&us[i]!==void 0?us[i]:(e=TV.exec(i))?(co(e[1])<<24|co(e[2])<<16|co(e[3])<<8|255)>>>0:(e=AV.exec(i))?(co(e[1])<<24|co(e[2])<<16|co(e[3])<<8|IT(e[4]))>>>0:(e=wV.exec(i))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=CV.exec(i))?parseInt(e[1],16)>>>0:(e=RV.exec(i))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=bV.exec(i))?(wT(RT(e[1]),Th(e[2]),Th(e[3]))|255)>>>0:(e=SV.exec(i))?(wT(RT(e[1]),Th(e[2]),Th(e[3]))|IT(e[4]))>>>0:null}function op(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function wT(i,e,t){const s=t<.5?t*(1+e):t+e-t*e,o=2*t-s,u=op(o,s,i+1/3),f=op(o,s,i),m=op(o,s,i-1/3);return Math.round(u*255)<<24|Math.round(f*255)<<16|Math.round(m*255)<<8}function co(i){const e=parseInt(i,10);return e<0?0:e>255?255:e}function RT(i){return(parseFloat(i)%360+360)%360/360}function IT(i){const e=parseFloat(i);return e<0?0:e>1?255:Math.round(e*255)}function Th(i){const e=parseFloat(i);return e<0?0:e>100?1:e/100}function CT(i){let e=DV(i);if(e===null)return i;e=e||0;const t=(e&4278190080)>>>24,s=(e&16711680)>>>16,o=(e&65280)>>>8,u=(e&255)/255;return`rgba(${t}, ${s}, ${o}, ${u})`}var bu=(i,e,t)=>{if(ae.fun(i))return i;if(ae.arr(i))return bu({range:i,output:e,extrapolate:t});if(ae.str(i.output[0]))return cy(i);const s=i,o=s.output,u=s.range||[0,1],f=s.extrapolateLeft||s.extrapolate||"extend",m=s.extrapolateRight||s.extrapolate||"extend",p=s.easing||(y=>y);return y=>{const E=OV(y,u);return NV(y,u[E],u[E+1],o[E],o[E+1],p,f,m,s.map)}};function NV(i,e,t,s,o,u,f,m,p){let y=p?p(i):i;if(y<e){if(f==="identity")return y;f==="clamp"&&(y=e)}if(y>t){if(m==="identity")return y;m==="clamp"&&(y=t)}return s===o?s:e===t?i<=e?s:o:(e===-1/0?y=-y:t===1/0?y=y-e:y=(y-e)/(t-e),y=u(y),s===-1/0?y=-y:o===1/0?y=y+s:y=y*(o-s)+s,y)}function OV(i,e){for(var t=1;t<e.length-1&&!(e[t]>=i);++t);return t-1}var VV={linear:i=>i},Su=Symbol.for("FluidValue.get"),Oo=Symbol.for("FluidValue.observers"),Yn=i=>!!(i&&i[Su]),En=i=>i&&i[Su]?i[Su]():i,DT=i=>i[Oo]||null;function MV(i,e){i.eventObserved?i.eventObserved(e):i(e)}function wu(i,e){const t=i[Oo];t&&t.forEach(s=>{MV(s,e)})}var Xb=class{constructor(i){if(!i&&!(i=this.get))throw Error("Unknown getter");xV(this,i)}},xV=(i,e)=>Zb(i,Su,e);function zo(i,e){if(i[Su]){let t=i[Oo];t||Zb(i,Oo,t=new Set),t.has(e)||(t.add(e),i.observerAdded&&i.observerAdded(t.size,e))}return e}function Ru(i,e){const t=i[Oo];if(t&&t.has(e)){const s=t.size-1;s?t.delete(e):i[Oo]=null,i.observerRemoved&&i.observerRemoved(s,e)}}var Zb=(i,e,t)=>Object.defineProperty(i,e,{value:t,writable:!0,configurable:!0}),Vh=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,PV=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,NT=new RegExp(`(${Vh.source})(%|[a-z]+)`,"i"),kV=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,kf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Jb=i=>{const[e,t]=UV(i);if(!e||uy())return i;const s=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(s)return s.trim();if(t&&t.startsWith("--")){const o=window.getComputedStyle(document.documentElement).getPropertyValue(t);return o||i}else{if(t&&kf.test(t))return Jb(t);if(t)return t}return i},UV=i=>{const e=kf.exec(i);if(!e)return[,];const[,t,s]=e;return[t,s]},lp,LV=(i,e,t,s,o)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(s)}, ${o})`,Wb=i=>{lp||(lp=us?new RegExp(`(${Object.keys(us).join("|")})(?!\\w)`,"g"):/^\b$/);const e=i.output.map(u=>En(u).replace(kf,Jb).replace(PV,CT).replace(lp,CT)),t=e.map(u=>u.match(Vh).map(Number)),o=t[0].map((u,f)=>t.map(m=>{if(!(f in m))throw Error('The arity of each "output" value must be equal');return m[f]})).map(u=>bu({...i,output:u}));return u=>{const f=!NT.test(e[0])&&e.find(p=>NT.test(p))?.replace(Vh,"");let m=0;return e[0].replace(Vh,()=>`${o[m++](u)}${f||""}`).replace(kV,LV)}},fy="react-spring: ",eS=i=>{const e=i;let t=!1;if(typeof e!="function")throw new TypeError(`${fy}once requires a function parameter`);return(...s)=>{t||(e(...s),t=!0)}},zV=eS(console.warn);function BV(){zV(`${fy}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var qV=eS(console.warn);function jV(){qV(`${fy}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Uf(i){return ae.str(i)&&(i[0]=="#"||/\d/.test(i)||!uy()&&kf.test(i)||i in(us||{}))}var dy=uy()?me.useEffect:me.useLayoutEffect,FV=()=>{const i=me.useRef(!1);return dy(()=>(i.current=!0,()=>{i.current=!1}),[]),i};function tS(){const i=me.useState()[1],e=FV();return()=>{e.current&&i(Math.random())}}var nS=i=>me.useEffect(i,HV),HV=[];function OT(i){const e=me.useRef(void 0);return me.useEffect(()=>{e.current=i}),e.current}var Iu=Symbol.for("Animated:node"),GV=i=>!!i&&i[Iu]===i,Vi=i=>i&&i[Iu],my=(i,e)=>gV(i,Iu,e),Lf=i=>i&&i[Iu]&&i[Iu].getPayload(),iS=class{constructor(){my(this,this)}getPayload(){return this.payload||[]}},zf=class rS extends iS{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,ae.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new rS(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return ae.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ae.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},af=class sS extends zf{constructor(e){super(0),this._string=null,this._toString=bu({output:[e,e]})}static create(e){return new sS(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(ae.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=bu({output:[this.getValue(),e]})),this._value=0,super.reset()}},of={dependencies:null},Bf=class extends iS{constructor(i){super(),this.source=i,this.setValue(i)}getValue(i){const e={};return qi(this.source,(t,s)=>{GV(t)?e[s]=t.getValue(i):Yn(t)?e[s]=En(t):i||(e[s]=t)}),e}setValue(i){this.source=i,this.payload=this._makePayload(i)}reset(){this.payload&&Fe(this.payload,i=>i.reset())}_makePayload(i){if(i){const e=new Set;return qi(i,this._addToPayload,e),Array.from(e)}}_addToPayload(i){of.dependencies&&Yn(i)&&of.dependencies.add(i);const e=Lf(i);e&&Fe(e,t=>this.add(t))}},QV=class aS extends Bf{constructor(e){super(e)}static create(e){return new aS(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((s,o)=>s.setValue(e[o])).some(Boolean):(super.setValue(e.map(KV)),!0)}};function KV(i){return(Uf(i)?af:zf).create(i)}function Hp(i){const e=Vi(i);return e?e.constructor:ae.arr(i)?QV:Uf(i)?af:zf}var VT=(i,e)=>{const t=!ae.fun(i)||i.prototype&&i.prototype.isReactComponent;return me.forwardRef((s,o)=>{const u=me.useRef(null),f=t&&me.useCallback(U=>{u.current=XV(o,U)},[o]),[m,p]=YV(s,e),y=tS(),E=()=>{const U=u.current;if(t&&!U)return;(U?e.applyAnimatedValues(U,m.getValue(!0)):!1)===!1&&y()},b=new $V(E,p),S=me.useRef(void 0);dy(()=>(S.current=b,Fe(p,U=>zo(U,b)),()=>{S.current&&(Fe(S.current.deps,U=>Ru(U,S.current)),Ne.cancel(S.current.update))})),me.useEffect(E,[]),nS(()=>()=>{const U=S.current;Fe(U.deps,F=>Ru(F,U))});const V=e.getComponentProps(m.getValue());return me.createElement(i,{...V,ref:f})})},$V=class{constructor(i,e){this.update=i,this.deps=e}eventObserved(i){i.type=="change"&&Ne.write(this.update)}};function YV(i,e){const t=new Set;return of.dependencies=t,i.style&&(i={...i,style:e.createAnimatedStyle(i.style)}),i=new Bf(i),of.dependencies=null,[i,t]}function XV(i,e){return i&&(ae.fun(i)?i(e):i.current=e),e}var MT=Symbol.for("AnimatedComponent"),ZV=(i,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=o=>new Bf(o),getComponentProps:s=o=>o}={})=>{const o={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:s},u=f=>{const m=xT(f)||"Anonymous";return ae.str(f)?f=u[f]||(u[f]=VT(f,o)):f=f[MT]||(f[MT]=VT(f,o)),f.displayName=`Animated(${m})`,f};return qi(i,(f,m)=>{ae.arr(i)&&(m=xT(f)),u[m]=u(f)}),{animated:u}},xT=i=>ae.str(i)?i:i&&ae.str(i.displayName)?i.displayName:ae.fun(i)&&i.name||null;function na(i,...e){return ae.fun(i)?i(...e):i}var hu=(i,e)=>i===!0||!!(e&&i&&(ae.fun(i)?i(e):Pn(i).includes(e))),oS=(i,e)=>ae.obj(i)?e&&i[e]:i,lS=(i,e)=>i.default===!0?i[e]:i.default?i.default[e]:void 0,JV=i=>i,py=(i,e=JV)=>{let t=WV;i.default&&i.default!==!0&&(i=i.default,t=Object.keys(i));const s={};for(const o of t){const u=e(i[o],o);ae.und(u)||(s[o]=u)}return s},WV=["config","onProps","onStart","onChange","onPause","onResume","onRest"],eM={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tM(i){const e={};let t=0;if(qi(i,(s,o)=>{eM[o]||(e[o]=s,t++)}),t)return e}function uS(i){const e=tM(i);if(e){const t={to:e};return qi(i,(s,o)=>o in e||(t[o]=s)),t}return{...i}}function Cu(i){return i=En(i),ae.arr(i)?i.map(Cu):Uf(i)?mi.createStringInterpolator({range:[0,1],output:[i,i]})(1):i}function nM(i){for(const e in i)return!0;return!1}function Gp(i){return ae.fun(i)||ae.arr(i)&&ae.obj(i[0])}function iM(i,e){i.ref?.delete(i),e?.delete(i)}function rM(i,e){e&&i.ref!==e&&(i.ref?.delete(i),e.add(i),i.ref=e)}var sM={default:{tension:170,friction:26}},Qp={...sM.default,mass:1,damping:1,easing:VV.linear,clamp:!1},aM=class{constructor(){this.velocity=0,Object.assign(this,Qp)}};function oM(i,e,t){t&&(t={...t},PT(t,e),e={...t,...e}),PT(i,e),Object.assign(i,e);for(const f in Qp)i[f]==null&&(i[f]=Qp[f]);let{frequency:s,damping:o}=i;const{mass:u}=i;return ae.und(s)||(s<.01&&(s=.01),o<0&&(o=0),i.tension=Math.pow(2*Math.PI/s,2)*u,i.friction=4*Math.PI*o*u/s),i}function PT(i,e){if(!ae.und(e.decay))i.duration=void 0;else{const t=!ae.und(e.tension)||!ae.und(e.friction);(t||!ae.und(e.frequency)||!ae.und(e.damping)||!ae.und(e.mass))&&(i.duration=void 0,i.decay=void 0),t&&(i.frequency=void 0)}}var kT=[],lM=class{constructor(){this.changed=!1,this.values=kT,this.toValues=null,this.fromValues=kT,this.config=new aM,this.immediate=!1}};function cS(i,{key:e,props:t,defaultProps:s,state:o,actions:u}){return new Promise((f,m)=>{let p,y,E=hu(t.cancel??s?.cancel,e);if(E)V();else{ae.und(t.pause)||(o.paused=hu(t.pause,e));let U=s?.pause;U!==!0&&(U=o.paused||hu(U,e)),p=na(t.delay||0,e),U?(o.resumeQueue.add(S),u.pause()):(u.resume(),S())}function b(){o.resumeQueue.add(S),o.timeouts.delete(y),y.cancel(),p=y.time-Ne.now()}function S(){p>0&&!mi.skipAnimation?(o.delayed=!0,y=Ne.setTimeout(V,p),o.pauseQueue.add(b),o.timeouts.add(y)):V()}function V(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(b),o.timeouts.delete(y),i<=(o.cancelId||0)&&(E=!0);try{u.start({...t,callId:i,cancel:E},f)}catch(U){m(U)}}})}var gy=(i,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?bo(i.get()):e.every(t=>t.noop)?hS(i.get()):oi(i.get(),e.every(t=>t.finished)),hS=i=>({value:i,noop:!0,finished:!0,cancelled:!1}),oi=(i,e,t=!1)=>({value:i,finished:e,cancelled:t}),bo=i=>({value:i,cancelled:!0,finished:!1});function fS(i,e,t,s){const{callId:o,parentId:u,onRest:f}=e,{asyncTo:m,promise:p}=t;return!u&&i===m&&!e.reset?p:t.promise=(async()=>{t.asyncId=o,t.asyncTo=i;const y=py(e,(G,ie)=>ie==="onRest"?void 0:G);let E,b;const S=new Promise((G,ie)=>(E=G,b=ie)),V=G=>{const ie=o<=(t.cancelId||0)&&bo(s)||o!==t.asyncId&&oi(s,!1);if(ie)throw G.result=ie,b(G),G},U=(G,ie)=>{const re=new UT,te=new LT;return(async()=>{if(mi.skipAnimation)throw Du(t),te.result=oi(s,!1),b(te),te;V(re);const he=ae.obj(G)?{...G}:{...ie,to:G};he.parentId=o,qi(y,(pe,D)=>{ae.und(he[D])&&(he[D]=pe)});const le=await s.start(he);return V(re),t.paused&&await new Promise(pe=>{t.resumeQueue.add(pe)}),le})()};let F;if(mi.skipAnimation)return Du(t),oi(s,!1);try{let G;ae.arr(i)?G=(async ie=>{for(const re of ie)await U(re)})(i):G=Promise.resolve(i(U,s.stop.bind(s))),await Promise.all([G.then(E),S]),F=oi(s.get(),!0,!1)}catch(G){if(G instanceof UT)F=G.result;else if(G instanceof LT)F=G.result;else throw G}finally{o==t.asyncId&&(t.asyncId=u,t.asyncTo=u?m:void 0,t.promise=u?p:void 0)}return ae.fun(f)&&Ne.batchedUpdates(()=>{f(F,s,s.item)}),F})()}function Du(i,e){uu(i.timeouts,t=>t.cancel()),i.pauseQueue.clear(),i.resumeQueue.clear(),i.asyncId=i.asyncTo=i.promise=void 0,e&&(i.cancelId=e)}var UT=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},LT=class extends Error{constructor(){super("SkipAnimationSignal")}},Kp=i=>i instanceof yy,uM=1,yy=class extends Xb{constructor(){super(...arguments),this.id=uM++,this._priority=0}get priority(){return this._priority}set priority(i){this._priority!=i&&(this._priority=i,this._onPriorityChange(i))}get(){const i=Vi(this);return i&&i.getValue()}to(...i){return mi.to(this,i)}interpolate(...i){return BV(),mi.to(this,i)}toJSON(){return this.get()}observerAdded(i){i==1&&this._attach()}observerRemoved(i){i==0&&this._detach()}_attach(){}_detach(){}_onChange(i,e=!1){wu(this,{type:"change",parent:this,value:i,idle:e})}_onPriorityChange(i){this.idle||xf.sort(this),wu(this,{type:"priority",parent:this,priority:i})}},da=Symbol.for("SpringPhase"),dS=1,$p=2,Yp=4,up=i=>(i[da]&dS)>0,Xr=i=>(i[da]&$p)>0,$l=i=>(i[da]&Yp)>0,zT=(i,e)=>e?i[da]|=$p|dS:i[da]&=~$p,BT=(i,e)=>e?i[da]|=Yp:i[da]&=~Yp,cM=class extends yy{constructor(i,e){if(super(),this.animation=new lM,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ae.und(i)||!ae.und(e)){const t=ae.obj(i)?{...i}:{...e,from:i};ae.und(t.default)&&(t.default=!0),this.start(t)}}get idle(){return!(Xr(this)||this._state.asyncTo)||$l(this)}get goal(){return En(this.animation.to)}get velocity(){const i=Vi(this);return i instanceof zf?i.lastVelocity||0:i.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return up(this)}get isAnimating(){return Xr(this)}get isPaused(){return $l(this)}get isDelayed(){return this._state.delayed}advance(i){let e=!0,t=!1;const s=this.animation;let{toValues:o}=s;const{config:u}=s,f=Lf(s.to);!f&&Yn(s.to)&&(o=Pn(En(s.to))),s.values.forEach((y,E)=>{if(y.done)return;const b=y.constructor==af?1:f?f[E].lastPosition:o[E];let S=s.immediate,V=b;if(!S){if(V=y.lastPosition,u.tension<=0){y.done=!0;return}let U=y.elapsedTime+=i;const F=s.fromValues[E],G=y.v0!=null?y.v0:y.v0=ae.arr(u.velocity)?u.velocity[E]:u.velocity;let ie;const re=u.precision||(F==b?.005:Math.min(1,Math.abs(b-F)*.001));if(ae.und(u.duration))if(u.decay){const te=u.decay===!0?.998:u.decay,he=Math.exp(-(1-te)*U);V=F+G/(1-te)*(1-he),S=Math.abs(y.lastPosition-V)<=re,ie=G*he}else{ie=y.lastVelocity==null?G:y.lastVelocity;const te=u.restVelocity||re/10,he=u.clamp?0:u.bounce,le=!ae.und(he),pe=F==b?y.v0>0:F<b;let D,w=!1;const R=1,O=Math.ceil(i/R);for(let x=0;x<O&&(D=Math.abs(ie)>te,!(!D&&(S=Math.abs(b-V)<=re,S)));++x){le&&(w=V==b||V>b==pe,w&&(ie=-ie*he,V=b));const P=-u.tension*1e-6*(V-b),C=-u.friction*.001*ie,ft=(P+C)/u.mass;ie=ie+ft*R,V=V+ie*R}}else{let te=1;u.duration>0&&(this._memoizedDuration!==u.duration&&(this._memoizedDuration=u.duration,y.durationProgress>0&&(y.elapsedTime=u.duration*y.durationProgress,U=y.elapsedTime+=i)),te=(u.progress||0)+U/this._memoizedDuration,te=te>1?1:te<0?0:te,y.durationProgress=te),V=F+u.easing(te)*(b-F),ie=(V-y.lastPosition)/i,S=te==1}y.lastVelocity=ie,Number.isNaN(V)&&(console.warn("Got NaN while animating:",this),S=!0)}f&&!f[E].done&&(S=!1),S?y.done=!0:e=!1,y.setValue(V,u.round)&&(t=!0)});const m=Vi(this),p=m.getValue();if(e){const y=En(s.to);(p!==y||t)&&!u.decay?(m.setValue(y),this._onChange(y)):t&&u.decay&&this._onChange(p),this._stop()}else t&&this._onChange(p)}set(i){return Ne.batchedUpdates(()=>{this._stop(),this._focus(i),this._set(i)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Xr(this)){const{to:i,config:e}=this.animation;Ne.batchedUpdates(()=>{this._onStart(),e.decay||this._set(i,!1),this._stop()})}return this}update(i){return(this.queue||(this.queue=[])).push(i),this}start(i,e){let t;return ae.und(i)?(t=this.queue||[],this.queue=[]):t=[ae.obj(i)?i:{...e,to:i}],Promise.all(t.map(s=>this._update(s))).then(s=>gy(this,s))}stop(i){const{to:e}=this.animation;return this._focus(this.get()),Du(this._state,i&&this._lastCallId),Ne.batchedUpdates(()=>this._stop(e,i)),this}reset(){this._update({reset:!0})}eventObserved(i){i.type=="change"?this._start():i.type=="priority"&&(this.priority=i.priority+1)}_prepareNode(i){const e=this.key||"";let{to:t,from:s}=i;t=ae.obj(t)?t[e]:t,(t==null||Gp(t))&&(t=void 0),s=ae.obj(s)?s[e]:s,s==null&&(s=void 0);const o={to:t,from:s};return up(this)||(i.reverse&&([t,s]=[s,t]),s=En(s),ae.und(s)?Vi(this)||this._set(t):this._set(s)),o}_update({...i},e){const{key:t,defaultProps:s}=this;i.default&&Object.assign(s,py(i,(f,m)=>/^on/.test(m)?oS(f,t):f)),jT(this,i,"onProps"),Xl(this,"onProps",i,this);const o=this._prepareNode(i);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const u=this._state;return cS(++this._lastCallId,{key:t,props:i,defaultProps:s,state:u,actions:{pause:()=>{$l(this)||(BT(this,!0),tu(u.pauseQueue),Xl(this,"onPause",oi(this,Yl(this,this.animation.to)),this))},resume:()=>{$l(this)&&(BT(this,!1),Xr(this)&&this._resume(),tu(u.resumeQueue),Xl(this,"onResume",oi(this,Yl(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(f=>{if(i.loop&&f.finished&&!(e&&f.noop)){const m=mS(i);if(m)return this._update(m,!0)}return f})}_merge(i,e,t){if(e.cancel)return this.stop(!0),t(bo(this));const s=!ae.und(i.to),o=!ae.und(i.from);if(s||o)if(e.callId>this._lastToId)this._lastToId=e.callId;else return t(bo(this));const{key:u,defaultProps:f,animation:m}=this,{to:p,from:y}=m;let{to:E=p,from:b=y}=i;o&&!s&&(!e.default||ae.und(E))&&(E=b),e.reverse&&([E,b]=[b,E]);const S=!dr(b,y);S&&(m.from=b),b=En(b);const V=!dr(E,p);V&&this._focus(E);const U=Gp(e.to),{config:F}=m,{decay:G,velocity:ie}=F;(s||o)&&(F.velocity=0),e.config&&!U&&oM(F,na(e.config,u),e.config!==f.config?na(f.config,u):void 0);let re=Vi(this);if(!re||ae.und(E))return t(oi(this,!0));const te=ae.und(e.reset)?o&&!e.default:!ae.und(b)&&hu(e.reset,u),he=te?b:this.get(),le=Cu(E),pe=ae.num(le)||ae.arr(le)||Uf(le),D=!U&&(!pe||hu(f.immediate||e.immediate,u));if(V){const x=Hp(E);if(x!==re.constructor)if(D)re=this._set(le);else throw Error(`Cannot animate between ${re.constructor.name} and ${x.name}, as the "to" prop suggests`)}const w=re.constructor;let R=Yn(E),O=!1;if(!R){const x=te||!up(this)&&S;(V||x)&&(O=dr(Cu(he),le),R=!O),(!dr(m.immediate,D)&&!D||!dr(F.decay,G)||!dr(F.velocity,ie))&&(R=!0)}if(O&&Xr(this)&&(m.changed&&!te?R=!0:R||this._stop(p)),!U&&((R||Yn(p))&&(m.values=re.getPayload(),m.toValues=Yn(E)?null:w==af?[1]:Pn(le)),m.immediate!=D&&(m.immediate=D,!D&&!te&&this._set(p)),R)){const{onRest:x}=m;Fe(fM,C=>jT(this,e,C));const P=oi(this,Yl(this,p));tu(this._pendingCalls,P),this._pendingCalls.add(t),m.changed&&Ne.batchedUpdates(()=>{m.changed=!te,x?.(P,this),te?na(f.onRest,P):m.onStart?.(P,this)})}te&&this._set(he),U?t(fS(e.to,e,this._state,this)):R?this._start():Xr(this)&&!V?this._pendingCalls.add(t):t(hS(he))}_focus(i){const e=this.animation;i!==e.to&&(DT(this)&&this._detach(),e.to=i,DT(this)&&this._attach())}_attach(){let i=0;const{to:e}=this.animation;Yn(e)&&(zo(e,this),Kp(e)&&(i=e.priority+1)),this.priority=i}_detach(){const{to:i}=this.animation;Yn(i)&&Ru(i,this)}_set(i,e=!0){const t=En(i);if(!ae.und(t)){const s=Vi(this);if(!s||!dr(t,s.getValue())){const o=Hp(t);!s||s.constructor!=o?my(this,o.create(t)):s.setValue(t),s&&Ne.batchedUpdates(()=>{this._onChange(t,e)})}}return Vi(this)}_onStart(){const i=this.animation;i.changed||(i.changed=!0,Xl(this,"onStart",oi(this,Yl(this,i.to)),this))}_onChange(i,e){e||(this._onStart(),na(this.animation.onChange,i,this)),na(this.defaultProps.onChange,i,this),super._onChange(i,e)}_start(){const i=this.animation;Vi(this).reset(En(i.to)),i.immediate||(i.fromValues=i.values.map(e=>e.lastPosition)),Xr(this)||(zT(this,!0),$l(this)||this._resume())}_resume(){mi.skipAnimation?this.finish():xf.start(this)}_stop(i,e){if(Xr(this)){zT(this,!1);const t=this.animation;Fe(t.values,o=>{o.done=!0}),t.toValues&&(t.onChange=t.onPause=t.onResume=void 0),wu(this,{type:"idle",parent:this});const s=e?bo(this.get()):oi(this.get(),Yl(this,i??t.to));tu(this._pendingCalls,s),t.changed&&(t.changed=!1,Xl(this,"onRest",s,this))}}};function Yl(i,e){const t=Cu(e),s=Cu(i.get());return dr(s,t)}function mS(i,e=i.loop,t=i.to){const s=na(e);if(s){const o=s!==!0&&uS(s),u=(o||i).reverse,f=!o||o.reset;return Nu({...i,loop:e,default:!1,pause:void 0,to:!u||Gp(t)?t:void 0,from:f?i.from:void 0,reset:f,...o})}}function Nu(i){const{to:e,from:t}=i=uS(i),s=new Set;return ae.obj(e)&&qT(e,s),ae.obj(t)&&qT(t,s),i.keys=s.size?Array.from(s):null,i}function hM(i){const e=Nu(i);return ae.und(e.default)&&(e.default=py(e)),e}function qT(i,e){qi(i,(t,s)=>t!=null&&e.add(s))}var fM=["onStart","onRest","onChange","onPause","onResume"];function jT(i,e,t){i.animation[t]=e[t]!==lS(e,t)?oS(e[t],i.key):void 0}function Xl(i,e,...t){i.animation[e]?.(...t),i.defaultProps[e]?.(...t)}var dM=["onStart","onChange","onRest"],mM=1,pM=class{constructor(i,e){this.id=mM++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),i&&this.start({default:!0,...i})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(i=>i.idle&&!i.isDelayed&&!i.isPaused)}get item(){return this._item}set item(i){this._item=i}get(){const i={};return this.each((e,t)=>i[t]=e.get()),i}set(i){for(const e in i){const t=i[e];ae.und(t)||this.springs[e].set(t)}}update(i){return i&&this.queue.push(Nu(i)),this}start(i){let{queue:e}=this;return i?e=Pn(i).map(Nu):this.queue=[],this._flush?this._flush(this,e):(vS(this,e),Xp(this,e))}stop(i,e){if(i!==!!i&&(e=i),e){const t=this.springs;Fe(Pn(e),s=>t[s].stop(!!i))}else Du(this._state,this._lastAsyncId),this.each(t=>t.stop(!!i));return this}pause(i){if(ae.und(i))this.start({pause:!0});else{const e=this.springs;Fe(Pn(i),t=>e[t].pause())}return this}resume(i){if(ae.und(i))this.start({pause:!1});else{const e=this.springs;Fe(Pn(i),t=>e[t].resume())}return this}each(i){qi(this.springs,i)}_onFrame(){const{onStart:i,onChange:e,onRest:t}=this._events,s=this._active.size>0,o=this._changed.size>0;(s&&!this._started||o&&!this._started)&&(this._started=!0,uu(i,([m,p])=>{p.value=this.get(),m(p,this,this._item)}));const u=!s&&this._started,f=o||u&&t.size?this.get():null;o&&e.size&&uu(e,([m,p])=>{p.value=f,m(p,this,this._item)}),u&&(this._started=!1,uu(t,([m,p])=>{p.value=f,m(p,this,this._item)}))}eventObserved(i){if(i.type=="change")this._changed.add(i.parent),i.idle||this._active.add(i.parent);else if(i.type=="idle")this._active.delete(i.parent);else return;Ne.onFrame(this._onFrame)}};function Xp(i,e){return Promise.all(e.map(t=>pS(i,t))).then(t=>gy(i,t))}async function pS(i,e,t){const{keys:s,to:o,from:u,loop:f,onRest:m,onResolve:p}=e,y=ae.obj(e.default)&&e.default;f&&(e.loop=!1),o===!1&&(e.to=null),u===!1&&(e.from=null);const E=ae.arr(o)||ae.fun(o)?o:void 0;E?(e.to=void 0,e.onRest=void 0,y&&(y.onRest=void 0)):Fe(dM,F=>{const G=e[F];if(ae.fun(G)){const ie=i._events[F];e[F]=({finished:re,cancelled:te})=>{const he=ie.get(G);he?(re||(he.finished=!1),te&&(he.cancelled=!0)):ie.set(G,{value:null,finished:re||!1,cancelled:te||!1})},y&&(y[F]=e[F])}});const b=i._state;e.pause===!b.paused?(b.paused=e.pause,tu(e.pause?b.pauseQueue:b.resumeQueue)):b.paused&&(e.pause=!0);const S=(s||Object.keys(i.springs)).map(F=>i.springs[F].start(e)),V=e.cancel===!0||lS(e,"cancel")===!0;(E||V&&b.asyncId)&&S.push(cS(++i._lastAsyncId,{props:e,state:b,actions:{pause:jp,resume:jp,start(F,G){V?(Du(b,i._lastAsyncId),G(bo(i))):(F.onRest=m,G(fS(E,F,b,i)))}}})),b.paused&&await new Promise(F=>{b.resumeQueue.add(F)});const U=gy(i,await Promise.all(S));if(f&&U.finished&&!(t&&U.noop)){const F=mS(e,f,o);if(F)return vS(i,[F]),pS(i,F,!0)}return p&&Ne.batchedUpdates(()=>p(U,i,i.item)),U}function FT(i,e){const t={...i.springs};return e&&Fe(Pn(e),s=>{ae.und(s.keys)&&(s=Nu(s)),ae.obj(s.to)||(s={...s,to:void 0}),_S(t,s,o=>yS(o))}),gS(i,t),t}function gS(i,e){qi(e,(t,s)=>{i.springs[s]||(i.springs[s]=t,zo(t,i))})}function yS(i,e){const t=new cM;return t.key=i,e&&zo(t,e),t}function _S(i,e,t){e.keys&&Fe(e.keys,s=>{(i[s]||(i[s]=t(s)))._prepareNode(e)})}function vS(i,e){Fe(e,t=>{_S(i.springs,t,s=>yS(s,i))})}var gM=me.createContext({pause:!1,immediate:!1}),yM=()=>{const i=[],e=function(s){jV();const o=[];return Fe(i,(u,f)=>{if(ae.und(s))o.push(u.start());else{const m=t(s,u,f);m&&o.push(u.start(m))}}),o};e.current=i,e.add=function(s){i.includes(s)||i.push(s)},e.delete=function(s){const o=i.indexOf(s);~o&&i.splice(o,1)},e.pause=function(){return Fe(i,s=>s.pause(...arguments)),this},e.resume=function(){return Fe(i,s=>s.resume(...arguments)),this},e.set=function(s){Fe(i,(o,u)=>{const f=ae.fun(s)?s(u,o):s;f&&o.set(f)})},e.start=function(s){const o=[];return Fe(i,(u,f)=>{if(ae.und(s))o.push(u.start());else{const m=this._getProps(s,u,f);m&&o.push(u.start(m))}}),o},e.stop=function(){return Fe(i,s=>s.stop(...arguments)),this},e.update=function(s){return Fe(i,(o,u)=>o.update(this._getProps(s,o,u))),this};const t=function(s,o,u){return ae.fun(s)?s(u,o):s};return e._getProps=t,e};function _M(i,e,t){const s=ae.fun(e)&&e;s&&!t&&(t=[]);const o=me.useMemo(()=>s||arguments.length==3?yM():void 0,[]),u=me.useRef(0),f=tS(),m=me.useMemo(()=>({ctrls:[],queue:[],flush(ie,re){const te=FT(ie,re);return u.current>0&&!m.queue.length&&!Object.keys(te).some(le=>!ie.springs[le])?Xp(ie,re):new Promise(le=>{gS(ie,te),m.queue.push(()=>{le(Xp(ie,re))}),f()})}}),[]),p=me.useRef([...m.ctrls]),y=me.useRef([]),E=OT(i)||0;me.useMemo(()=>{Fe(p.current.slice(i,E),ie=>{iM(ie,o),ie.stop(!0)}),p.current.length=i,b(E,i)},[i]),me.useMemo(()=>{b(0,Math.min(E,i))},t);function b(ie,re){for(let te=ie;te<re;te++){const he=p.current[te]||(p.current[te]=new pM(null,m.flush)),le=s?s(te,he):e[te];le&&(y.current[te]=hM(le))}}const S=p.current.map((ie,re)=>FT(ie,y.current[re])),V=me.useContext(gM),U=OT(V),F=V!==U&&nM(V);dy(()=>{u.current++,m.ctrls=p.current;const{queue:ie}=m;ie.length&&(m.queue=[],Fe(ie,re=>re())),Fe(p.current,(re,te)=>{o?.add(re),F&&re.start({default:V});const he=y.current[te];he&&(rM(re,he.ref),re.ref?re.queue.push(he):re.start(he))})}),nS(()=>()=>{Fe(m.ctrls,ie=>ie.stop(!0))});const G=S.map(ie=>({...ie}));return o?[G,o]:G}function vM(i,e){const t=ae.fun(i),[[s],o]=_M(1,t?i:[i],t?[]:e);return t||arguments.length==2?[s,o]:s}var EM=class extends yy{constructor(i,e){super(),this.source=i,this.idle=!0,this._active=new Set,this.calc=bu(...e);const t=this._get(),s=Hp(t);my(this,s.create(t))}advance(i){const e=this._get(),t=this.get();dr(e,t)||(Vi(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&HT(this._active)&&cp(this)}_get(){const i=ae.arr(this.source)?this.source.map(En):Pn(En(this.source));return this.calc(...i)}_start(){this.idle&&!HT(this._active)&&(this.idle=!1,Fe(Lf(this),i=>{i.done=!1}),mi.skipAnimation?(Ne.batchedUpdates(()=>this.advance()),cp(this)):xf.start(this))}_attach(){let i=1;Fe(Pn(this.source),e=>{Yn(e)&&zo(e,this),Kp(e)&&(e.idle||this._active.add(e),i=Math.max(i,e.priority+1))}),this.priority=i,this._start()}_detach(){Fe(Pn(this.source),i=>{Yn(i)&&Ru(i,this)}),this._active.clear(),cp(this)}eventObserved(i){i.type=="change"?i.idle?this.advance():(this._active.add(i.parent),this._start()):i.type=="idle"?this._active.delete(i.parent):i.type=="priority"&&(this.priority=Pn(this.source).reduce((e,t)=>Math.max(e,(Kp(t)?t.priority:0)+1),0))}};function TM(i){return i.idle!==!1}function HT(i){return!i.size||Array.from(i).every(TM)}function cp(i){i.idle||(i.idle=!0,Fe(Lf(i),e=>{e.done=!0}),wu(i,{type:"idle",parent:i}))}mi.assign({createStringInterpolator:Wb,to:(i,e)=>new EM(i,e)});var AM=QT(),ES=/^--/;function bM(i,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!ES.test(i)&&!(fu.hasOwnProperty(i)&&fu[i])?e+"px":(""+e).trim()}var GT={};function SM(i,e){if(!i.nodeType||!i.setAttribute)return!1;const t=i.nodeName==="filter"||i.parentNode&&i.parentNode.nodeName==="filter",{className:s,style:o,children:u,scrollTop:f,scrollLeft:m,viewBox:p,...y}=e,E=Object.values(y),b=Object.keys(y).map(S=>t||i.hasAttribute(S)?S:GT[S]||(GT[S]=S.replace(/([A-Z])/g,V=>"-"+V.toLowerCase())));u!==void 0&&(i.textContent=u);for(const S in o)if(o.hasOwnProperty(S)){const V=bM(S,o[S]);ES.test(S)?i.style.setProperty(S,V):i.style[S]=V}b.forEach((S,V)=>{i.setAttribute(S,E[V])}),s!==void 0&&(i.className=s),f!==void 0&&(i.scrollTop=f),m!==void 0&&(i.scrollLeft=m),p!==void 0&&i.setAttribute("viewBox",p)}var fu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wM=(i,e)=>i+e.charAt(0).toUpperCase()+e.substring(1),RM=["Webkit","Ms","Moz","O"];fu=Object.keys(fu).reduce((i,e)=>(RM.forEach(t=>i[wM(t,e)]=i[e]),i),fu);var IM=/^(matrix|translate|scale|rotate|skew)/,CM=/^(translate)/,DM=/^(rotate|skew)/,hp=(i,e)=>ae.num(i)&&i!==0?i+e:i,Mh=(i,e)=>ae.arr(i)?i.every(t=>Mh(t,e)):ae.num(i)?i===e:parseFloat(i)===e,NM=class extends Bf{constructor({x:i,y:e,z:t,...s}){const o=[],u=[];(i||e||t)&&(o.push([i||0,e||0,t||0]),u.push(f=>[`translate3d(${f.map(m=>hp(m,"px")).join(",")})`,Mh(f,0)])),qi(s,(f,m)=>{if(m==="transform")o.push([f||""]),u.push(p=>[p,p===""]);else if(IM.test(m)){if(delete s[m],ae.und(f))return;const p=CM.test(m)?"px":DM.test(m)?"deg":"";o.push(Pn(f)),u.push(m==="rotate3d"?([y,E,b,S])=>[`rotate3d(${y},${E},${b},${hp(S,p)})`,Mh(S,0)]:y=>[`${m}(${y.map(E=>hp(E,p)).join(",")})`,Mh(y,m.startsWith("scale")?1:0)])}}),o.length&&(s.transform=new OM(o,u)),super(s)}},OM=class extends Xb{constructor(i,e){super(),this.inputs=i,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let i="",e=!0;return Fe(this.inputs,(t,s)=>{const o=En(t[0]),[u,f]=this.transforms[s](ae.arr(o)?o:t.map(En));i+=" "+u,e=e&&f}),e?"none":i}observerAdded(i){i==1&&Fe(this.inputs,e=>Fe(e,t=>Yn(t)&&zo(t,this)))}observerRemoved(i){i==0&&Fe(this.inputs,e=>Fe(e,t=>Yn(t)&&Ru(t,this)))}eventObserved(i){i.type=="change"&&(this._value=null),wu(this,i)}},VM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];mi.assign({batchedUpdates:AM.unstable_batchedUpdates,createStringInterpolator:Wb,colors:EV});var MM=ZV(VM,{applyAnimatedValues:SM,createAnimatedStyle:i=>new NM(i),getComponentProps:({scrollTop:i,scrollLeft:e,...t})=>t}),xM=MM.animated;const PM=({isEditing:i,onEdit:e,onSave:t,onCancel:s,onDelete:o,children:u,timestamp:f,period:m})=>{const p=me.useRef(null);return me.useEffect(()=>{const y=E=>{i&&p.current&&!p.current.contains(E.target)&&s()};return i&&document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[i,s]),$.createElement("div",{ref:p,className:`p-3 border rounded cursor-pointer transition-all duration-200 flex items-center justify-between ${i?"border-gray-300":"bg-gray-50 hover:bg-gray-100 hover:shadow-sm border-gray-200"}`,onClick:i?void 0:e},$.createElement("div",{className:"flex-1"},u,(f||m)&&$.createElement("div",{className:"flex justify-between items-baseline mt-1"},$.createElement("span",{className:"text-xs text-gray-500 leading-none"},f?hV(f):""),$.createElement("span",{className:"text-xs text-gray-500 leading-none"},m||""))),i&&$.createElement("div",{className:"flex gap-2 ml-4"},$.createElement("button",{onClick:t,className:"px-3 py-1 border border-gray-300 rounded text-sm text-black"},"Save"),$.createElement("button",{onClick:o,className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm"},"Delete")))},TS=(i,e,t)=>{const s=i.reduce((u,f)=>u+(f.amount||0),0),o=e.reduce((u,f)=>u+(f.amount||0),0);return t+s-o},AS=i=>i.filter(e=>e.period==="monthly").reduce((e,t)=>e+(t.amount||0),0),bS=i=>i.filter(e=>e.period==="monthly").reduce((e,t)=>e+(t.amount||0),0),SS=(i,e)=>{const t=AS(i),s=bS(e),o=t/30,u=s/30;return o-u},kM=(i,e,t)=>{const s=TS(i,e,t),o=SS(i,e);return o<=0?1/0:s/o},UM=({activeTab:i,incomes:e,costs:t,goals:s,setIncomes:o,setCosts:u,setGoals:f,moneyInBank:m,setMoneyInBank:p,spendLimit:y,setSpendLimit:E,sortOrder:b,setSortOrder:S,selectedCurrency:V,user:U})=>{const[F,G]=me.useState(null),[ie,re]=me.useState(""),[te,he]=me.useState(""),[le,pe]=me.useState("monthly"),[D,w]=me.useState(""),[R,O]=me.useState(""),[x,P]=me.useState(!1),[C,ft]=me.useState(!1),[lt,K]=me.useState({x:0,y:0}),ue=me.useRef(null),ye=me.useRef(null),je=vM({to:async H=>{for(;;)await H({y:0,config:{tension:200,friction:25,mass:.8}}),await H({y:-2,config:{tension:300,friction:12,mass:.8}}),await H({y:.5,config:{tension:250,friction:20,mass:.8}}),await H({y:0,config:{tension:180,friction:22,mass:.8}}),await H({y:-1,config:{tension:220,friction:18,mass:.8}}),await H({y:0,config:{tension:160,friction:25,mass:.8}})},from:{y:0}});$.useEffect(()=>{P(m&&parseFloat(m)>0),ft(y&&parseFloat(y)>0)},[m,y]),me.useLayoutEffect(()=>{const H=()=>{const ee=i==="goals"?ye.current:ue.current;if(ee){const _e=ee.getBoundingClientRect(),Ve=window.getComputedStyle(ee),$e=parseInt(Ve.paddingLeft);K({x:_e.left+$e+16,y:_e.top+_e.height/2})}};return H(),window.addEventListener("resize",H),window.addEventListener("scroll",H),()=>{window.removeEventListener("resize",H),window.removeEventListener("scroll",H)}},[i,m,y]);const N=()=>{let H=[];switch(i){case"income":H=e||[];break;case"expenses":H=t||[];break;case"goals":H=s||[];break;case"report":H=[];break;default:H=[]}return H.sort((ee,_e)=>{const Ve=qt=>{const ze=qt.timestamp||qt.createdAt||qt.date||qt.created;return ze?ze.toDate?ze.toDate():ze.seconds?new Date(ze.seconds*1e3):new Date(ze):new Date},$e=Ve(ee),nn=Ve(_e);return b==="newest"?nn-$e:$e-nn})},ne=()=>{switch(i){case"income":return"Your Income";case"expenses":return"Your Expenses";case"goals":return"Your Goals";case"report":return"Financial Report";default:return"Items"}},ce=H=>{G(H.id),re(H.name||""),he(H.amount?.toString()||H.price?.toString()||""),pe(H.period||"monthly"),w(H.price?.toString()||""),O(H.dailyContribution?.toString()||"")},se=async()=>{if(F)try{if(i==="income"){const H={name:es(ie.trim()),amount:parseFloat(te),period:le};await rV(F,H,U?.uid),o(e.map(ee=>ee.id===F?{...ee,...H}:ee))}else if(i==="expenses"){const H={name:es(ie.trim()),amount:parseFloat(te),period:le};await sV(F,H,U?.uid),u(t.map(ee=>ee.id===F?{...ee,...H}:ee))}else if(i==="goals"){const H={name:es(ie.trim()),price:parseFloat(D),dailyContribution:parseFloat(R)};await aV(F,H,U?.uid),f(s.map(ee=>ee.id===F?{...ee,...H}:ee))}}catch(H){console.error("Error updating item:",H)}finally{G(null),re(""),he(""),pe("monthly"),w(""),O("")}},ve=()=>{G(null),re(""),he(""),pe("monthly"),w(""),O("")},Oe=async H=>{try{i==="income"?(await oV(H,U?.uid),o(e.filter(ee=>ee.id!==H))):i==="expenses"?(await lV(H,U?.uid),u(t.filter(ee=>ee.id!==H))):i==="goals"&&(await uV(H,U?.uid),f(s.filter(ee=>ee.id!==H)))}catch(ee){console.error("Error deleting item:",ee)}},Ae=()=>i==="goals"?$.createElement("div",{className:"grid gap-2 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},$.createElement("input",{placeholder:"Goal name",value:ie,onChange:H=>re(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-base"}),$.createElement("input",{type:"number",step:"any",placeholder:"Price",value:D,onChange:H=>w(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-base"}),$.createElement("input",{type:"number",step:"any",placeholder:"Daily contribution",value:R,onChange:H=>O(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-base"})):$.createElement("div",{className:"grid gap-2 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},$.createElement("input",{placeholder:i==="income"?"Income name":"Expense name",value:ie,onChange:H=>re(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-base"}),$.createElement("input",{type:"number",step:"any",placeholder:"Amount",value:te,onChange:H=>he(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-base"}),$.createElement("select",{value:le,onChange:H=>pe(H.target.value),onClick:H=>H.stopPropagation(),className:"border border-gray-300 rounded px-3 py-2 text-base"},$.createElement("option",{value:"daily"},"Daily"),$.createElement("option",{value:"weekly"},"Weekly"),$.createElement("option",{value:"monthly"},"Monthly"),$.createElement("option",{value:"yearly"},"Yearly"),$.createElement("option",{value:"one-off"},"One-off"))),gt=H=>{if(i==="goals"){const ee=Math.ceil(H.price/H.dailyContribution),_e=new Date;return _e.setDate(_e.getDate()+ee),$.createElement("div",{className:"flex flex-col"},$.createElement("span",{className:"font-medium text-base mb-2 text-gray-700"},es(H.name)),$.createElement("div",{className:"flex justify-between items-center"},$.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},$.createElement("span",{className:"text-gray-600 text-sm"},"Price: ",$r(H.price,V)),$.createElement("span",{className:"text-gray-600 text-sm"},"Daily: ",$r(H.dailyContribution,V))),$.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},$.createElement("span",{className:"text-green-600 text-sm"},"Target: ",_e.toLocaleDateString()),$.createElement("span",{className:"text-gray-500 text-sm"},"(",ee," days)"))))}return $.createElement("div",{className:"flex justify-between items-center"},$.createElement("span",{className:"font-medium text-base text-gray-700"},es(H.name)),$.createElement("span",{className:"font-medium text-base"},$r(H.amount,V)))},Xe=()=>{const H=TS(e,t,m),ee=AS(e),_e=bS(t),Ve=SS(e,t),$e=kM(e,t,m),nn=[{title:"Money in Bank",value:$r(parseFloat(m)||0,V),subtitle:"Current bank balance"},{title:"Total Money Available",value:$r(H,V),subtitle:"Bank + all income sources"},{title:"Monthly Recurring Income",value:$r(ee,V),subtitle:"Regular income streams only"},{title:"Total Monthly Expenses",value:$r(_e,V),subtitle:"Including spend limits"},{title:"Daily Free Money",value:$r(Ve,V),subtitle:"Available daily after expenses"},{title:"How Long You Can Live",value:$e===1/0?"Forever":`${Math.round($e)} days`,subtitle:"Based on current income and expenses"}];return $.createElement("div",{className:"grid gap-4"},nn.map((qt,ze)=>$.createElement("div",{key:ze,className:"p-4 border rounded w-full cursor-pointer transition-all duration-200 hover:bg-gray-100 hover:shadow-sm border-gray-200 bg-gray-50"},$.createElement("div",{className:"flex flex-col"},$.createElement("span",{className:"font-medium text-base mb-2"},qt.title),$.createElement("div",{className:"flex justify-between items-center"},$.createElement("span",{className:"font-medium text-base"},qt.value),qt.subtitle&&$.createElement("span",{className:"text-sm text-gray-600"},qt.subtitle))))))},it=N();return it.length>0&&console.log(" Debug: First item structure:",{id:it[0].id,name:it[0].name,timestamp:it[0].timestamp,createdAt:it[0].createdAt,date:it[0].date,created:it[0].created,allFields:Object.keys(it[0])}),$.createElement("div",{className:"p-3 border rounded mb-2 flex-1"},$.createElement("div",{className:"flex flex-col mb-4"},$.createElement("div",{className:"flex justify-between items-center"},$.createElement("h2",{className:"text-xl font-semibold text-gray-700"},ne()),i==="income"||i==="expenses"?$.createElement("div",{className:"flex items-center gap-1 relative"},$.createElement("label",{className:"text-xs font-medium text-gray-600"},"Money in Bank:"),$.createElement("input",{ref:ue,type:"number",placeholder:"0",value:m,onChange:H=>p(H.target.value),className:"border border-gray-300 rounded px-1 py-1 text-xs w-16"})):i==="goals"?$.createElement("div",{className:"flex items-center gap-1 relative"},$.createElement("label",{className:"text-xs font-medium text-gray-600"},"Spend Limit:"),$.createElement("input",{ref:ye,type:"number",placeholder:"0",value:y,onChange:H=>E(H.target.value),className:"border border-gray-300 rounded px-1 py-1 text-xs w-16"})):null),$.createElement("div",{className:"flex justify-end items-center mt-2"},$.createElement("div",{className:"flex items-center gap-1"},$.createElement("label",{className:"text-xs font-medium text-gray-600"},"Sort:"),$.createElement("select",{value:b,onChange:H=>S(H.target.value),className:"border border-gray-300 rounded px-1 py-1 text-xs"},$.createElement("option",{value:"newest"},"Newest"),$.createElement("option",{value:"oldest"},"Oldest"))))),(i==="income"||i==="expenses")&&!x||i==="goals"&&!C?$.createElement(xM.div,{className:"fixed w-1.5 h-1.5 bg-red-500 rounded-full z-10",style:{left:`${lt.x}px`,top:`${lt.y}px`,transform:je.y.to(H=>`translate(-50%, calc(-50% + ${H}px))`)}}):null,i==="report"?Xe():$.createElement("div",{className:"grid gap-2"},it.map(H=>$.createElement(PM,{key:H.id,isEditing:F===H.id,onEdit:()=>ce(H),onSave:se,onCancel:ve,onDelete:()=>Oe(H.id),timestamp:H.timestamp||H.createdAt||H.date||H.created,period:i!=="goals"?H.period:void 0},F===H.id?Ae():gt(H)))))};function LM(){const[i,e]=me.useState(null),[t,s]=me.useState(!0),[o,u]=me.useState("income"),[f,m]=me.useState("THB"),[p,y]=me.useState([]),[E,b]=me.useState([]),[S,V]=me.useState([]),[U,F]=me.useState(0),[G,ie]=me.useState(0),[re,te]=me.useState("newest");me.useEffect(()=>eV(pe=>{e(pe),s(!1),pe&&(he(pe.uid),iR())}),[]);const he=async le=>{try{const pe=await cV(le);y(pe.incomes||[]),b(pe.costs||[]),V(pe.goals||[])}catch(pe){console.error("Error loading user data:",pe)}};return t?$.createElement("div",{className:"flex items-center justify-center min-h-screen"},$.createElement("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})):i?$.createElement("div",{className:"min-h-screen bg-gray-50 p-2 flex flex-col"},$.createElement(sR,{user:i,activeTab:o,setActiveTab:u,selectedCurrency:f,setSelectedCurrency:m}),$.createElement("div",{className:"flex flex-col flex-1"},o!=="report"&&$.createElement(fV,{activeTab:o,incomes:p,setIncomes:y,costs:E,setCosts:b,goals:S,setGoals:V,selectedCurrency:f,user:i}),$.createElement(UM,{activeTab:o,incomes:p,costs:E,goals:S,setIncomes:y,setCosts:b,setGoals:V,moneyInBank:U,setMoneyInBank:F,spendLimit:G,setSpendLimit:ie,sortOrder:re,setSortOrder:te,selectedCurrency:f,user:i}))):$.createElement("div",{className:"flex items-center justify-center min-h-screen"},$.createElement("div",{className:"text-center"},$.createElement("div",{className:"flex items-center justify-center mb-4"},$.createElement($T,{className:"w-16 h-16"})),$.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"Daily Money"),$.createElement("p",{className:"mb-4 text-gray-600"},"Please sign in to use the budget dashboard"),$.createElement("button",{onClick:async()=>{try{await W3()}catch(le){console.error("Error signing in:",le)}},className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2 mx-auto text-base"},$.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24"},$.createElement("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),$.createElement("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),$.createElement("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),$.createElement("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})),"Sign in with Google")))}nR.createRoot(document.getElementById("root")).render($.createElement(me.StrictMode,null,$.createElement(LM,null)));
